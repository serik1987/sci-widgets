{let t=document.createElement("style");t.innerText="@font-face{font-family:'Futura PT';src:url(../fonts/FuturaPT-Light.eot);src:local('Futura PT Light'),local('FuturaPT-Light'),url(../fonts/FuturaPT-Light.eot?#iefix) format('embedded-opentype'),url(../fonts/FuturaPT-Light.woff) format('woff'),url(../fonts/FuturaPT-Light.ttf) format('truetype');font-weight:300;font-style:normal}@font-face{font-family:'Futura PT';src:url(../fonts/FuturaPT-LightObl.eot);src:local('Futura PT Light Oblique'),local('FuturaPT-LightObl'),url(../fonts/FuturaPT-LightObl.eot?#iefix) format('embedded-opentype'),url(../fonts/FuturaPT-LightObl.woff) format('woff'),url(../fonts/FuturaPT-LightObl.ttf) format('truetype');font-weight:300;font-style:italic}@font-face{font-family:'Futura PT';src:url(../fonts/FuturaPT-Book.eot);src:local('Futura PT Book'),local('FuturaPT-Book'),url(../fonts/FuturaPT-Book.eot?#iefix) format('embedded-opentype'),url(../fonts/FuturaPT-Book.woff) format('woff'),url(../fonts/FuturaPT-Book.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:'Futura PT';src:url(../fonts/FuturaPT-BookObl.eot);src:local('Futura PT Book Oblique'),local('FuturaPT-BookObl'),url(../fonts/FuturaPT-BookObl.eot?#iefix) format('embedded-opentype'),url(../fonts/FuturaPT-BookObl.woff) format('woff'),url(../fonts/FuturaPT-BookObl.ttf) format('truetype');font-weight:400;font-style:italic}@font-face{font-family:'Futura PT';src:url(../fonts/FuturaPT-Medium.eot);src:local('Futura PT Medium'),local('FuturaPT-Medium'),url(../fonts/FuturaPT-Medium.eot?#iefix) format('embedded-opentype'),url(../fonts/FuturaPT-Medium.woff) format('woff'),url(../fonts/FuturaPT-Medium.ttf) format('truetype');font-weight:500;font-style:normal}@font-face{font-family:'Futura PT';src:url(../fonts/FuturaPT-MediumObl.eot);src:local('Futura PT Medium Oblique'),local('FuturaPT-MediumObl'),url(../fonts/FuturaPT-MediumObl.eot?#iefix) format('embedded-opentype'),url(../fonts/FuturaPT-MediumObl.woff) format('woff'),url(../fonts/FuturaPT-MediumObl.ttf) format('truetype');font-weight:500;font-style:italic}@font-face{font-family:'Futura PT';src:url(../fonts/FuturaPT-Demi.eot);src:local('Futura PT Demi'),local('FuturaPT-Demi'),url(../fonts/FuturaPT-Demi.eot?#iefix) format('embedded-opentype'),url(../fonts/FuturaPT-Demi.woff) format('woff'),url(../fonts/FuturaPT-Demi.ttf) format('truetype');font-weight:600;font-style:normal}@font-face{font-family:'Futura PT';src:url(../fonts/FuturaPT-DemiObl.eot);src:local('Futura PT Demi Oblique'),local('FuturaPT-DemiObl'),url(../fonts/FuturaPT-DemiObl.eot?#iefix) format('embedded-opentype'),url(../fonts/FuturaPT-DemiObl.woff) format('woff'),url(../fonts/FuturaPT-DemiObl.ttf) format('truetype');font-weight:600;font-style:italic}@font-face{font-family:'Futura PT';src:url(../fonts/FuturaPT-Bold.eot);src:local('Futura PT Bold'),local('FuturaPT-Bold'),url(../fonts/FuturaPT-Bold.eot?#iefix) format('embedded-opentype'),url(../fonts/FuturaPT-Bold.woff) format('woff'),url(../fonts/FuturaPT-Bold.ttf) format('truetype');font-weight:700;font-style:normal}@font-face{font-family:'Futura PT';src:url(../fonts/FuturaPT-BoldObl.eot);src:local('Futura PT Bold Oblique'),local('FuturaPT-BoldObl'),url(../fonts/FuturaPT-BoldObl.eot?#iefix) format('embedded-opentype'),url(../fonts/FuturaPT-BoldObl.woff) format('woff'),url(../fonts/FuturaPT-BoldObl.ttf) format('truetype');font-weight:700;font-style:italic}@font-face{font-family:'Futura PT';src:url(../fonts/FuturaPT-ExtraBold.eot);src:local('Futura PT Extra Bold'),local('FuturaPT-ExtraBold'),url(../fonts/FuturaPT-ExtraBold.eot?#iefix) format('embedded-opentype'),url(../fonts/FuturaPT-ExtraBold.woff) format('woff'),url(../fonts/FuturaPT-ExtraBold.ttf) format('truetype');font-weight:800;font-style:normal}@font-face{font-family:'Futura PT';src:url(../fonts/FuturaPT-ExtraBoldObl.eot);src:local('Futura PT Extra Bold Oblique'),local('FuturaPT-ExtraBoldObl'),url(../fonts/FuturaPT-ExtraBoldObl.eot?#iefix) format('embedded-opentype'),url(../fonts/FuturaPT-ExtraBoldObl.woff) format('woff'),url(../fonts/FuturaPT-ExtraBoldObl.ttf) format('truetype');font-weight:800;font-style:italic}body{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,Sans-serif,serif;font-size:14px}body{margin:0;padding:0;color:#333}h1,h2,h3{margin:0;padding:0;font-weight:500}h1{margin:20px 0}h2{margin:10px 0}p{margin:0;padding:0}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}dl{margin:0;padding:0}dt{margin:0;color:#1658da}dd{margin:0;margin-left:20px;font-size:15px}blockquote{font-style:italic;font-weight:300}.buttons-wrapper{text-align:center;font-size:0}sci-combo-box ul,sci-list-box ul,sci-livesearch ul{margin:0;padding:5px;list-style-type:none;color:#bac4d1}sci-livesearch[inline] ul{padding:5px 0}sci-combo-box li,sci-list-box li,sci-livesearch li{cursor:pointer}sci-list-box[disabled] li,sci-livesearch[disabled] li{cursor:default}sci-combo-box li:hover,sci-livesearch li:hover{color:#1758da}sci-livesearch[disabled] li:hover{color:#bac4d1}sci-combo-box li.optional,sci-list-box li.optional,sci-livesearch li.optional{font-style:italic}sci-combo-box.complex-list ul,sci-list-box.complex-list ul,sci-livesearch.complex-list ul{padding:0}sci-combo-box.complex-list li,sci-list-box.complex-list li,sci-livesearch.complex-list li{padding:5px;border-bottom:1px solid #333;color:#333}sci-livesearch[inline].complex-list li{padding:5px 0;border-bottom:none}sci-list-box[disabled].complex-list li,sci-livesearch[disabled].complex-list li{color:#bac4d1}sci-combo-box.complex-list li p:nth-child(2),sci-list-box.complex-list p:nth-child(2),sci-livesearch.complex-list li p:nth-child(2){font-style:italic}sci-combo-box.complex-list li:last-child,sci-list-box li:last-child,sci-livesearch.complex-list li:last-child{border-bottom:none}sci-combo-box li.disabled,sci-list-box li.disabled,sci-livesearch li.disabled{color:#bac4d1;cursor:default}sci-list-box ul{padding:0}sci-list-box li{color:#333;text-transform:uppercase;border-bottom:1px solid #bac4d1;padding:10px 5px}sci-list-box.complex-list li{border-bottom:1px solid #bac4d1;padding:10px 5px}sci-list-box li p:nth-child(2){text-transform:none;font-style:italic;line-height:16px}sci-list-box li.selected,sci-list-box li:hover{background:#ddd}sci-list-box li.disabled:hover{background-color:#fff}sci-list-box li:last-child{border-bottom:none}sci-list-box[disabled] li{color:#bac4d1}sci-list-box[disabled] li:hover{background-color:#fff}\n",document.head.append(t)}const SCI_UNIT_GROUPS={length:{nm:.001,um:1,mm:1e3,cm:1e4,m:1e6,km:1e9},spatial_frequency:{cpnm:1e3,cpum:1,cpmm:.001,cpm:1e-6},time:{ms:1,s:1e3,min:6e4,hour:36e5,us:.001,ns:1e-6},mass:{ug:.001,mg:1,g:1e3,kg:1e6},vis_length:{d:1},vis_spatial_frequency:{cpd:1},angle:{rad:1,deg:Math.PI/180,grad:Math.PI/200},frequency:{Hz:1,kHz:1e3},voltage:{mV:1,V:1e3,uV:.001},current:{pA:.001,nA:1,uA:1e3,mA:1e6,A:1e9}};let SCI_UNITS={};for(let t in SCI_UNIT_GROUPS)for(let o in SCI_UNIT_GROUPS[t])SCI_UNITS[o]=SCI_UNIT_GROUPS[t][o];
class SciWidget extends HTMLElement{constructor(){super()}_createTemplate(e){let t=document.createElement("template");return t.innerHTML=e,t}attributeChangedCallback(e,t,i){"label"===e?this.shadowRoot.querySelector("label").innerHTML=i:"disabled"===e?null!==i?this._disableChildren():this._enableChildren():"height"===e?null!==i?this.style.setProperty("height",i+"px"):this.style.removeProperty("height"):"width"===e?null!==i?this.style.setProperty("width",i+"px"):this.style.removeProperty("width"):console.warn(`The attribute ${e} has been changed from ${t} to ${i} but no attribute\nchange callback is defined for this type of attribute`)}get disabled(){return null!==this.getAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get enabled(){return null===this.getAttribute("disabled")}set enabled(e){e?this.removeAttribute("disabled"):this.setAttribute("disabled","")}get errorMessage(){let e=this.shadowRoot.querySelector(".error-message"),t="";return e&&e.classList.contains("on")&&(t=e.innerHTML),t}set errorMessage(e){let t=this.shadowRoot.querySelector(".error-message");t&&(e?(t.innerHTML=e,t.classList.contains("on")||t.classList.add("on")):(t.innerHTML="",t.classList.contains("on")&&t.classList.remove("on")))}get height(){return parseFloat(window.getComputedStyle(this).height)}set height(e){e=parseFloat(e).toString(),this.setAttribute("height",e)}get label(){return this.getAttribute("label")}set label(e){this.setAttribute("label",e)}get readOnly(){return null!==this.getAttribute("readonly")}set readOnly(e){e?this.setAttribute("readonly",""):this.removeAttribute("readonly")}get tabIndex(){return parseInt(this.getAttribute("tab-index"))}set tabIndex(e){e=parseInt(e),isNaN(e)?this.removeAttribute("tab-index"):this.setAttribute("tab-index",e)}get width(){return parseFloat(window.getComputedStyle(this).width)}set width(e){e=parseFloat(e).toString(),this.setAttribute("width",e)}enable(){this.removeAttribute("disabled")}disable(){this.setAttribute("disabled","")}_disableChildren(){}_enableChildren(){}}SciWidget.PROPERTIES={scrollSpeed:1},SciWidget.detectMobile=function(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some((e=>navigator.userAgent.match(e)))},SciWidget.template=null,SciWidget.templateText="\n<style>\n</style>\n<div></div>\n\n";
class SciScrollable extends SciWidget{constructor(){super(),this.__restrictedHeight=!1,this.__sliderMove=null}_createTemplate(e){let t=SciScrollable.template;null===t&&(t=super._createTemplate(SciScrollable.templateText));let o=super._createTemplate(e),l=t.cloneNode(!0);return l.content.querySelector(".content").append(o.content),l}_implementScroll(){this.__scrollableContent=this.shadowRoot.querySelector(".content");let e=this.shadowRoot.querySelector(".scroll-slider"),t=this;function o(t){let o=t.clientX,l=t.clientY;return{x:o-e.getBoundingClientRect().left,y:l-e.getBoundingClientRect().top}}function l(e){let o=t.__scrollableContent,l=o.scrollTop+e,i=o.clientHeight,s=o.scrollHeight;l<0&&(l=0),l>s-i&&(l=s-i),o.scrollTop=l}this.updateHeight(),SciWidget.detectMobile()||this.classList.add("not-mobile"),window.addEventListener("load",(e=>{t.updateHeight()})),window.addEventListener("resize",(e=>{t.updateHeight()})),this.addEventListener("mousewheel",(e=>{t.updateHeight(!1),t.__setDesktop(),this.__restrictedHeight&&this.enabled&&(e.stopPropagation(),e.preventDefault(),l(e.deltaY*SciWidget.PROPERTIES.scrollSpeed)),t.__updateScrollPosition()})),e.addEventListener("mousedown",(function(e){t.updateHeight(),t.__setDesktop(),t.__sliderMove=o(e)})),document.addEventListener("mousemove",(e=>{if(t.__sliderMove){let i=t.__sliderMove;l(o(e).y-i.y),t.__updateScrollPosition()}})),document.addEventListener("mouseup",(function(e){t.__sliderMove=null}))}updateHeight(e=!0){let t=this.__scrollableContent;if(!t)throw new TypeError("You don't run the _implementScroll method after creating the DOM structure");let o=t.scrollHeight,l=t.clientHeight;l<o&&!this.classList.contains("scrollable")&&(this.classList.add("scrollable"),this.__restrictedHeight=!0),l>=o&&this.classList.contains("scrollable")&&(this.classList.remove("scrollable"),this.__restrictedHeight=!1),e&&this.__updateScrollPosition()}__updateScrollPosition(){if(this.classList.contains("scrollable")){let e=this.__scrollableContent,t=e.clientHeight,o=e.scrollHeight,l=this.shadowRoot.querySelector(".scroll-slider"),i=Math.round(t*t/o-6);i<20&&(i=20),l.style.height=i+"px";let s=e.scrollTop*(t-i-6)/(o-t);l.style.top=s+"px"}}__setDesktop(){this.classList.contains("not-mobile")||this.classList.add("not-mobile")}}SciScrollable.template=null,SciScrollable.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}:host{position:relative}:host .content{height:100%;overflow:hidden}:host(.scrollable) .content{overflow:auto}:host(.scrollable.not-mobile) .content{overflow:hidden}:host(.scrollable.not-mobile) .content{padding-right:15px}.scroll-bar{display:none}:host(.scrollable.not-mobile) .scroll-bar,:host(.scrollable.scrolling) .scroll-bar{display:block;position:absolute;right:0;top:0;bottom:0;width:10px;background:#eee}:host(.scrollable.not-mobile) .scroll-slider,:host(.scrollable.scrolling) .scroll-slider{position:absolute;left:2px;right:2px;top:0;height:100px;margin-top:3px;margin-bottom:3px;background:#bac4d1;border-radius:3px;cursor:pointer}:host(.scrollable.not-mobile[disabled]) .scroll-slider{display:none}:host(.error){margin-bottom:18px}\n</style>\n<div class=content></div><div class=scroll-bar><div class=scroll-slider></div></div><div class=error-message></div>\n\n";
class SciWindow extends SciWidget{super(){constructor()}_initializeWindow(){this.__windowOverlapper=this.shadowRoot.querySelector(".window-overlapper"),this.__window=this.shadowRoot.querySelector(".window")}_createTemplate(e){null===SciWindow.template&&(SciWindow.template=super._createTemplate(SciWindow.templateText));let o=document.createElement("template"),t=SciWindow.template.content.cloneNode(!0);return o.content.append(t),o.content.querySelector(".window").innerHTML=e,o}get window(){return this.__window}get windowOverlapper(){return this.__windowOverlapper}close(){let e=this.windowOverlapper.classList;if(e.contains("opened")){e.remove("opened");let o=new CustomEvent("sci-window-close",{});this.dispatchEvent(o)}}open(){let e=this.windowOverlapper.classList;if(!e.contains("opened")){e.add("opened");let o=new CustomEvent("sci-window-open",{});this.dispatchEvent(o)}}}SciWindow.template=null,SciWindow.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}\n</style>\n<div class=window-overlapper><div class=window-background></div><div class=window></div></div>\n\n";
class SciTree extends SciScrollable{constructor(){super();let e=this;null===SciTree.template&&(SciTree.template=this._createTemplate(SciTree.templateText));let t=this.attachShadow({mode:"open"}),l=SciTree.template.content.cloneNode(!0);function i(t){t.stopPropagation(),t.preventDefault();let l=t.detail;e.updateHeight();let i=new CustomEvent(t.type,{detail:l,bubbles:!0});e.dispatchEvent(i)}function o(t){t.stopPropagation(),t.preventDefault();let l=new CustomEvent(t.type,{detail:t.detail,bubbles:!0});e.dispatchEvent(l)}t.append(l),this._implementScroll(),this.__root=t.querySelector("sci-tree-node"),this.__root.value="root",this.__root.parentTree=this,this.__selectable=!0,this.__customEditBox=null,this.__customDeleteBox=null,this.__defaultValue=this.getAttribute("value"),null===this.getAttribute("multiple")&&(this.__value=this.__defaultValue,this.__updateValue()),t.addEventListener("sci-tree-select",(function(t){t.stopPropagation(),t.preventDefault();let l=t.detail,i=!1;if(e.multiple||e.value!==l||(i=!0),i)return void t.stopImmediatePropagation();e.value=l;let o=new CustomEvent("sci-tree-select",{detail:l,bubbles:!0});e.dispatchEvent(o)})),t.addEventListener("sci-tree-compact",i),t.addEventListener("sci-tree-expand",i),t.addEventListener("sci-tree-edit-start",o),t.addEventListener("sci-tree-edit-cancel",o),t.addEventListener("sci-tree-edit-finish",o),t.addEventListener("sci-tree-delete",(t=>{t.stopPropagation(),t.preventDefault();let l=t.detail;t.target.remove(),e.updateHeight();let i=new CustomEvent("sci-tree-delete",{detail:l,bubbles:!0});e.dispatchEvent(i)}))}attributeChangedCallback(e,t,l){if("label"===e)this.root.label=l;else if("multiple"===e)null!==l?null===this.__defaultValue?this.__value=new Set:this.__value=new Set([this.__defaultValue]):this.__value=this.__defaultValue,this.__updateValue();else if("selectable"===e||"non-selectable"===e||"branch-non-selectable"===e||"tree-non-selectable"===e||"expandable"===e||"non-editable"===e||"non-deletable"===e||"no-lines"===e)this.__updateValue();else if("compacted"===e){if(null!==l)for(let e of this.iterate(!0))e.compact()}else if("expanded"===e){if(null!==l)for(let e of this.iterate(!0))e.expand()}else if("hide-root"===e){let e=null!==l,t=this.root.classList;e&&!t.contains("sci-hide-root")&&t.add("sci-hide-root"),!e&&t.contains("sci-hide-root")&&t.remove("sci-hide-root")}else super.attributeChangedCallback(e,t,l)}__updateValue(){let e=this.multiple,t=this.selectable,l=this.branchNonSelectable,i=this.treeNonSelectable,o=this.expandable,s=this.nonEditable,a=this.nonDeletable,n=this.noLines,r=!0,u=!1;for(let o of[this.root,...this.iterate(!0)]){let s=this.__updateNonInheritedProperties(o,t,u,e,r,l,i);u=s.warned,r=s.nothingSelected}this.__updateInheritedProperties(e,r,t,o,s,a,n)}__updateNonInheritedProperties(e,t,l,i,o,s,a){let n=e.value,r=e.classList,u=t;return n||!t||l||(console.warn("sci-tree: Forgot to set value property for some of the sci-tree-node - item selection way work incorrectly"),l=!0),i&&this.__value.has(n)?e.select():i||this.__value!==n?e.unselect():(e.select(),o=!1),i&&!r.contains("sci-multiple")&&r.add("sci-multiple"),!i&&r.contains("sci-multiple")&&r.remove("sci-multiple"),s&&e.length>0&&(u=!1),a&&e.root&&(u=!1),e.selectable=u,{warned:l,nothingSelected:o}}__updateInheritedProperties(e,t,l,i,o,s,a){!e&&t&&(this.__value=null),l||(this.__value=null),this.root.__updatable=!1,this.root.expandable=i,this.root.editable=!o,this.root.deletable=!s,this.root.lines=!a,this.root.__updatable=!0,this.root.__updateValue()}_disableChildren(){this.__root.disable(),this.__root.__updateDisabled()}_enableChildren(){this.__root.enable(),this.__root.__updateDisabled()}get branchNonSelectable(){return null!==this.getAttribute("branch-non-selectable")}set branchNonSelectable(e){e?this.setAttribute("branch-non-selectable",""):this.removeAttribute("branch-non-selectable")}get customDeleteBox(){return this.__customDeleteBox}set customDeleteBox(e){this.__customDeleteBox=e;for(let t of this.iterate(!0))t.__customDeleteBox=e}get customEditBox(){return this.__customEditBox}set customEditBox(e){this.__customEditBox=e;for(let t of[this.root,...this.iterate(!0)])t.__customEditBox=e}get defaultValue(){return this.__defaultValue}get expandable(){return null!==this.getAttribute("expandable")}set expandable(e){e?this.setAttribute("expandable",""):this.removeAttribute("expandable")}get length(){let e=0;for(let t of this.iterate(!0))e++;return e}get multiple(){return null!==this.getAttribute("multiple")}set multiple(e){e?this.setAttribute("multiple",""):this.removeAttribute("multiple")}get nonDeletable(){return null!==this.getAttribute("non-deletable")}set nonDeletable(e){e?this.setAttribute("non-deletable",""):this.removeAttribute("non-deletable")}get nonEditable(){return null!==this.getAttribute("non-editable")}set nonEditable(e){e?this.setAttribute("non-editable",""):this.removeAttribute("non-editable")}get noLines(){return null!==this.getAttribute("no-lines")}set noLines(e){e?this.setAttribute("no-lines",""):this.removeAttribute("no-lines")}get root(){return this.__root}get selectable(){let e=!0;return e=null!==this.getAttribute("selectable")||null===this.getAttribute("non-selectable")&&this.__selectable,e}set selectable(e){this.__selectable=e,this.__updateValue()}get treeNonSelectable(){return null!==this.getAttribute("tree-non-selectable")}set treeNonSelectable(e){e?this.setAttribute("tree-non-selectable",""):this.removeAttribute("tree-non-selectable")}get value(){let e=this.__value;return this.multiple&&(e=new Set(e)),e}set value(e){if(this.multiple)if(null===e)this.__value=new Set;else if("string"==typeof e)this.__value.has(e)?this.__value.delete(e):this.__value.add(e);else if(e instanceof Set)this.__value=new Set(e);else{if(!(e instanceof Array))throw new TypeError("sci-tree: the value property accepts only null, string, sets or arrays when multiple is true");this.__value=new Set(e)}else if(null===e)this.__value=null;else{if("string"!=typeof e)throw new TypeError("sci-tree: the value property accepts only null or strings when multiple is false");this.__value=e}this.__updateValue()}$(e){return this.root.$(e)}addValue(e){this.multiple?this.__value.add(e):this.__value=e,this.__updateValue()}iterate(e=!1){return this.root.iterate(e)}removeValue(e){this.multiple?(this.__value.delete(e),this.__updateValue()):this.__value===e&&(this.__value=null,this.__updateValue())}}SciTree.observedAttributes=["branch-non-selectable","compacted","disabled","editable","expandable","expanded","height","hide-root","label","multiple","non-editable","non-expandable","non-selectable","no-lines","selectable","tree-non-selectable","width"],SciTree.template=null,SciTree.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}\n</style>\n<sci-tree-node label=\"WARNING. Please, define the label property of your sci-tree\" class=sci-root><slot></slot></sci-tree-node>\n\n",customElements.define("sci-tree",SciTree);
class SciTreeNode extends SciWidget{constructor(){super();let e=this;null===SciTreeNode.template&&(SciTreeNode.template=this._createTemplate(SciTreeNode.templateText));let t=this.attachShadow({mode:"open"}),i=SciTreeNode.template.content.cloneNode(!0);function l(t){t.stopPropagation(),t.preventDefault(),e.label=e.__editBox.value,e.editing=!1;let i=new CustomEvent("sci-tree-edit-finish",{detail:e.value,bubbles:!0});e.dispatchEvent(i)}function s(t){t.stopPropagation(),t.preventDefault(),e.editing=!1;let i=new CustomEvent("sci-tree-edit-cancel",{detail:e.value,bubbles:!0});e.dispatchEvent(i)}t.append(i),this.__labelElement=t.querySelector("label"),this.__parentTree=null,this.__selectable=!0,this.__expandable=!1,this.__updatable=!1,this.__editable=!0,this.__deletable=!0,this.__disabled=!1,this.__lines=!0,this.__editButton=t.querySelector("#btn-edit"),this.__deleteButton=t.querySelector("#btn-delete"),this.__editBox=t.querySelector("#edit-ctrl"),this.__okButton=t.querySelector("#btn-ok"),this.__cancelButton=t.querySelector("#btn-cancel"),this.__customEditBox=null,this.__customDeleteBox=null,this.__updateValue(),t.querySelector("label").addEventListener("click",(t=>{let i=e.selectable;if(t.stopPropagation(),t.preventDefault(),!i||e.disabled)return;let l=new CustomEvent("sci-tree-select",{detail:e.value,bubbles:!0});e.dispatchEvent(l)})),t.querySelector(".expand").addEventListener("click",(t=>{let i;t.stopPropagation(),t.preventDefault();let l={detail:e.value,bubbles:!0};e.compacted?(e.compacted=!1,i=new CustomEvent("sci-tree-expand",l)):(e.compacted=!0,i=new CustomEvent("sci-tree-compact",l)),e.dispatchEvent(i)})),this.__editButton.addEventListener("click",(t=>{t.stopPropagation(),t.preventDefault(),e.edit()})),this.__okButton.addEventListener("click",l),this.__cancelButton.addEventListener("click",s),this.__editBox.addEventListener("keydown",(e=>{"Enter"===e.key&&l(e),"Escape"===e.key&&s(e)})),this.__deleteButton.addEventListener("click",(t=>{let i;t.stopPropagation(),t.preventDefault(),i=e.__customDeleteBox?e.__customDeleteBox(e.value,e.label):Promise.resolve(),i.then((()=>{let t=new CustomEvent("sci-tree-delete",{detail:e.value,bubbles:!0});e.dispatchEvent(t)})).catch((()=>{}))}))}attributeChangedCallback(e,t,i){"selectable"===e||"non-selectable"===e||"expandable"===e||"non-expandable"===e||"editable"===e||"non-editable"===e||"deletable"===e||"non-deletable"===e||"disabled"===e||"enabled"===e||"lines"===e||"no-lines"===e?this.__updateValue():super.attributeChangedCallback(e,t,i)}__updateValue(){if(!this.__updatable)return!1;this.__updateEmpty(),this.__updateSelectable(),this.__updateExpandable(),this.__updateEditable(),this.__updateDeletable(),this.__updateDisabled(),this.__updateLines(),this.__updateChildren()}__updateEmpty(){let e=0===this.length,t=this.classList;e&&!t.contains("sci-empty")&&t.add("sci-empty"),!e&&t.contains("sci-empty")&&t.remove("sci-empty")}__updateSelectable(){let e=this.selectable,t=this.classList;e&&t.contains("sci-non-selectable")&&t.remove("sci-non-selectable"),e||t.contains("sci-non-selectable")||t.add("sci-non-selectable")}__updateExpandable(){let e=this.expandable,t=this.classList;e&&!t.contains("sci-expandable")&&t.add("sci-expandable"),!e&&t.contains("sci-expandable")&&t.remove("sci-expandable")}__updateEditable(){let e=this.editable,t=this.classList;e&&t.contains("sci-non-editable")&&t.remove("sci-non-editable"),e||t.contains("sci-non-editable")||t.add("sci-non-editable")}__updateDeletable(){let e=this.deletable,t=this.classList;e&&t.contains("sci-non-deletable")&&t.remove("sci-non-deletable"),e||t.contains("sci-non-deletable")||t.add("sci-non-deletable")}__updateDisabled(){let e=this.disabled,t=this.classList;e&&!t.contains("sci-disabled")&&t.add("sci-disabled"),!e&&t.contains("sci-disabled")&&t.remove("sci-disabled")}__updateLines(){let e=this.lines,t=this.classList;e&&t.contains("sci-no-vr-line")&&t.remove("sci-no-vr-line"),e||t.contains("sci-no-vr-line")||t.add("sci-no-vr-line"),this.__lines&&t.contains("sci-no-hr-line")&&t.remove("sci-no-hr-line"),this.__lines||t.contains("sci-no-hr-line")||t.add("sci-no-hr-line")}__updateChildren(){let e=this.expandable,t=this.editable,i=this.deletable,l=this.disabled,s=this.lines,n=null;for(n of this.iterate())n.__updatable=!0,n.__expandable=e,n.__editable=t,n.__deletable=i,n.__disabled=l,n.__lines=s,n.__updateValue()}get childTreeNodes(){let e;return e=this.root?this.parentTree.children:this.children,e}get compacted(){return this.classList.contains("sci-compact")}set compacted(e){let t=this.classList;!e&&t.contains("sci-compact")&&t.remove("sci-compact"),e&&!t.contains("sci-compact")&&t.add("sci-compact")}get deletable(){let e;return e=null!==this.getAttribute("deletable")||null===this.getAttribute("non-deletable")&&this.__deletable,e}set deletable(e){this.__deletable=e,this.__updatable&&(this.__updateDeletable(),this.__updateChildren())}get deleteButton(){let e=null;return this.root||(e=this.__deleteButton),e}get disabled(){let e=!1;return e=null!==this.getAttribute("disabled")||null===this.getAttribute("enabled")&&this.__disabled,e}set disabled(e){e?this.disable():this.enable()}get editable(){let e;return e=null!==this.getAttribute("editable")||null===this.getAttribute("non-editable")&&this.__editable,e}set editable(e){this.__editable=!!e,this.root.__editable&&(this.__updateEditable(),this.__updateChildren())}get enabled(){let e=!0;return e=null===this.getAttribute("disabled")&&(null!==this.getAttribute("enabled")||!this.__disabled),e}set enabled(e){e?this.enable():this.disable()}get editButton(){return this.__editButton}get editing(){return this.classList.contains("sci-editing")}set editing(e){let t=this.classList;if(e&&!t.contains("sci-editable")){t.add("sci-editable"),this.__editBox.value=this.label;let e=this.label.length;e>30&&(e=30),this.__editBox.size=e,this.__editBox.select(),this.__editBox.focus()}!e&&t.contains("sci-editable")&&t.remove("sci-editable")}get expandable(){let e;return e=null!==this.getAttribute("expandable")||null===this.getAttribute("non-expandable")&&this.__expandable,e}set expandable(e){this.__expandable=!!e,this.root.__updatable&&(this.__updateExpandable(),this.__updateChildren())}get length(){return this.childTreeNodes.length}get lines(){let e;return e=null!==this.getAttribute("lines")||null===this.getAttribute("no-lines")&&this.__lines,e}set lines(e){e?(this.setAttribute("lines",""),this.removeAttribute("no-lines")):(this.setAttribute("no-lines",""),this.removeAttribute("lines")),this.__updatable&&(this.__updateLines(),this.__updateChildren())}get parentTree(){let e;return e=null!==this.__parentTree?this.__parentTree:this.parentElement,e}set parentTree(e){this.__parentTree=e}get root(){return this.classList.contains("sci-root")}get selectable(){let e=!0;return e=null!==this.getAttribute("selectable")||null===this.getAttribute("non-selectable")&&this.__selectable,e}set selectable(e){this.__selectable=!!e,this.__updateSelectable()}get selected(){return this.classList.contains("sci-selected")}set selected(e){e&&!this.classList.contains("sci-selected")&&this.classList.add("sci-selected"),!e&&this.classList.contains("sci-selected")&&this.classList.remove("sci-selected")}get value(){return this.getAttribute("value")}set value(e){null!==e?this.setAttribute("value",e):this.removeAttribute("value")}$(e){let t=null;return t=this.root?this.parentTree:this,t.querySelector(`[value="${e}"]`)}compact(){this.compacted=!0}disable(){this.setAttribute("disabled",""),this.removeAttribute("enabled"),this.__updateDisabled()}edit(){if(null===this.__customEditBox){this.editing=!0;let e=new CustomEvent("sci-tree-edit-start",{detail:this.value,bubbles:!0});this.dispatchEvent(e)}else{let e=new CustomEvent("sci-tree-edit-start",{detail:this.value,bubbles:!0});this.dispatchEvent(e),this.__customEditBox(this.value,this.label).then((e=>{this.label=e;let t=new CustomEvent("sci-tree-edit-finish",{detail:this.value,bubbles:!0});this.dispatchEvent(t)})).catch((e=>{let t=new CustomEvent("sci-tree-edit-cancel",{detail:this.value,bubbles:!0});this.dispatchEvent(t)}))}}enable(){this.setAttribute("enabled",""),this.removeAttribute("disabled"),this.__updateDisabled()}expand(){this.compacted=!1}iterate(e=!1){let t=this;return function*(){for(let i of t.childTreeNodes)if(yield i,e)for(let e of i.iterate(!0))yield e}()}select(){this.selected=!0}unselect(){this.selected=!1}}SciTreeNode.observedAttributes=["deletable","disabled","editable","enabled","expandable","label","lines","non-deletable","non-editable","non-expandable","non-selectable","no-lines","selectable"],SciTreeNode.template=null,SciTreeNode.templateText='\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:\'Futura PT\',\'Helvetica Neue\',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:\'\';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}:host{position:relative;font-size:0;margin:0}.expand{display:none}.node-header{display:inline-block;position:relative}.node-header .hr{position:absolute;left:-9px;top:9px;width:7px;height:0;border-top:1px dotted #333}.mask{display:none}:host(:last-child) .mask{display:block;position:absolute;left:-10px;top:10px;width:8px;bottom:0;background:#fff}:host(.sci-root) .mask{display:none}label{display:inline-block;vertical-align:top;cursor:pointer;margin:0;padding:0 5px 0 0;line-height:18px;color:#333;font-size:14px}:host(.sci-selected) label{color:#1758da;cursor:default}:host(.sci-non-selectable.sci-selected) label{color:#333}.node-header:hover label{color:#1758da}:host(.sci-multiple) .node-header:hover label{cursor:pointer}.controls{display:none;vertical-align:top;margin-top:4px;padding-right:5px;cursor:pointer}.controls svg{width:10px;height:10px;fill:#333}.node-header:hover .controls{display:inline-block}.controls:last-child{padding-right:0}.controls:hover svg{fill:#1758da}.node-content{position:relative;padding-left:18px}.node-content .vr{position:absolute;left:9px;top:2px;width:0;bottom:9px;border-left:1px dotted #333}.node-content .hr{position:absolute;left:0;top:0;bottom:9px;width:7px;height:0;border-top:1px dotted #333}:host(.sci-root) #btn-delete{display:none}:host(.sci-non-selectable) label{cursor:default}:host(.sci-non-selectable) .node-header:hover label{color:#333}:host(.sci-expandable) .node-header .expand{display:block;position:absolute;width:10px;height:10px;left:-14px;top:4px;background:#fff;cursor:pointer;border:1px solid #333}.expand svg{display:block;width:8px;height:8px;margin-top:1px;margin-left:1px;fill:#333}:host(.sci-expandable.sci-empty) .node-header .expand{display:none}:host(.sci-expandable) .node-header .expand #btn-plus{display:none}:host(.sci-expandable) .node-header .expand #btn-minus{display:block}:host(.sci-expandable.sci-compact) .node-header .expand #btn-plus{display:block}:host(.sci-expandable.sci-compact) .node-header .expand #btn-minus{display:none}:host(.sci-expandable.sci-compact) .node-content{display:none}.edit-box{display:none}.edit-box #edit-ctrl{height:18px;padding:0;font-size:14px;border:none;outline:0;border-bottom:1px solid #bac4d1;line-height:18px}.edit-box #edit-ctrl:focus{border-bottom:1px solid #333}.edit-box .controls{display:inline-block}:host(.sci-editable) .node-header{display:none}:host(.sci-editable) .edit-box{display:block}:host(.sci-non-editable) #btn-edit{display:none}:host(.sci-non-deletable) #btn-delete{display:none}:host(.sci-disabled) label{cursor:default;color:#bac4d1}:host(.sci-disabled) .node-header:hover .controls{display:none}:host(.sci-no-hr-line) .hr{display:none}:host(.sci-no-vr-line) .vr{display:none}:host(.sci-root.sci-hide-root) .node-header{display:none}\n</style>\n<div class=mask></div><div class=node-header><div class=hr></div><div class=expand><svg vxmlns=http://www.w3.org/2000/svg viewBox="0 0 1000 1000" id=btn-plus><path d=M990,500c0,56.3-45.6,101.9-101.9,101.9H601.9v286.2c0,56.3-45.6,101.9-101.9,101.9c-56.3,0-101.9-45.6-101.9-101.9V601.9H111.9C55.6,601.9,10,556.3,10,500c0-56.3,45.6-101.9,101.9-101.9h286.2V111.9C398.1,55.6,443.7,10,500,10c56.3,0,101.9,45.6,101.9,101.9v286.2h286.2C944.4,398.1,990,443.7,990,500z /></svg> <svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 124 124" id=btn-minus><path d=M112,50H12C5.4,50,0,55.4,0,62c0,6.6,5.4,12,12,12h100c6.6,0,12-5.4,12-12C124,55.4,118.6,50,112,50z /></svg></div><label>WARNING!!! Please, define the label of your sci-tree-node</label><slot id=btn-edit class=controls name=btn-edit><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 383.947 383.947"><polygon points="0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893"/><path d="M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04 C386.027,77.92,386.027,64.373,377.707,56.053z"/></svg></slot><slot id=btn-delete class=controls name=btn-delete name=btn-delete><svg viewBox="0 0 512.001 512.001" xmlns=http://www.w3.org/2000/svg><path d="m512.001 84.853-84.853-84.853-171.147 171.147-171.148-171.147-84.853 84.853 171.148 171.147-171.148 171.148 84.853 84.853 171.148-171.147 171.147 171.147 84.853-84.853-171.148-171.148z"/></svg></slot></div><div class=edit-box><input id=edit-ctrl><slot id=btn-ok class=controls name=btn-ok><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 352.62 352.62"><path d="M337.222,22.952c-15.912-8.568-33.66,7.956-44.064,17.748c-23.867,23.256-44.063,50.184-66.708,74.664 c-25.092,26.928-48.348,53.856-74.052,80.173c-14.688,14.688-30.6,30.6-40.392,48.96c-22.032-21.421-41.004-44.677-65.484-63.648 c-17.748-13.464-47.124-23.256-46.512,9.18c1.224,42.229,38.556,87.517,66.096,116.28c11.628,12.24,26.928,25.092,44.676,25.704 c21.42,1.224,43.452-24.48,56.304-38.556c22.645-24.48,41.005-52.021,61.812-77.112c26.928-33.048,54.468-65.485,80.784-99.145 C326.206,96.392,378.226,44.983,337.222,22.952z M26.937,187.581c-0.612,0-1.224,0-2.448,0.611 c-2.448-0.611-4.284-1.224-6.732-2.448l0,0C19.593,184.52,22.653,185.132,26.937,187.581z"/></svg></slot><slot id=btn-cancel class=controls name=btn-cancel><svg viewBox="0 0 512.001 512.001" xmlns=http://www.w3.org/2000/svg><path d="m512.001 84.853-84.853-84.853-171.147 171.147-171.148-171.147-84.853 84.853 171.148 171.147-171.148 171.148 84.853 84.853 171.148-171.147 171.147 171.147 84.853-84.853-171.148-171.148z"/></svg></slot></div><div class=node-content><div class=vr></div><slot id=node-content></slot></div>\n\n',customElements.define("sci-tree-node",SciTreeNode);
class SciPhotoUpload extends SciWidget{constructor(){super();let e=this;null===SciPhotoUpload.template&&(SciPhotoUpload.template=this._createTemplate(SciPhotoUpload.templateText));let t=SciPhotoUpload.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(t),this.__img=i.getElementById("img"),this.__uploader=i.querySelector("sci-upload"),this.__url=null;let l=null;this.__uploading=!1,this.__queueUrl=null,this.__uploader.addEventListener("sci-upload-start",(t=>{let i=t.detail;l=this.url,this.url=URL.createObjectURL(i),this.__uploading=!0;let o=new CustomEvent("sci-upload-start",{bubbles:!0,detail:i});e.dispatchEvent(o)})),this.__uploader.addEventListener("sci-upload-success",(t=>{this.__uploading=!1,l=null;let i=t.detail,o=this.url;this.url=i,URL.revokeObjectURL(o),null!==this.__queueUrl&&(this.url=this.__queueUrl,this.__queueUrl=null);let a=new CustomEvent("sci-upload-success",{bubbles:!0,detail:i});e.dispatchEvent(a)})),this.__uploader.addEventListener("sci-upload-failed",(t=>{this.__uploading=!1;let i=this.url,o=t.detail;URL.revokeObjectURL(i),this.url=l,null!==this.__queueUrl&&(this.url=this.__queueUrl,this.__queueUrl=null);let a=new CustomEvent("sci-upload-failed",{bubbles:!0,detail:o});e.dispatchEvent(a)})),this.__uploader.addEventListener("sci-remove-start",(t=>{let i=new CustomEvent("sci-remove-start",{bubbles:!0,detail:t.detail});e.dispatchEvent(i)})),this.__uploader.addEventListener("sci-remove-success",(t=>{this.url=null;let i=new CustomEvent("sci-remove-success",{bubbles:!0,detail:t.detail});e.dispatchEvent(i)})),this.__uploader.addEventListener("sci-remove-failed",(t=>{let i=new CustomEvent("sci-remove-failed",{bubbles:!0,detail:t.detail});e.dispatchEvent(i)})),this.updateWidth()}attributeChangedCallback(e,t,i){if("aspect"===e){if(null!==i){if(!(parseFloat(i)>0))throw new TypeError("sci-photo-upload: the aspect attribute can't have value below zero or not a number")}this.updateWidth()}else"width"===e||"height"===e?(super.attributeChangedCallback(e,t,i),this.updateWidth()):"placeholder"===e?this.url=this.url:super.attributeChangedCallback(e,t,i)}_enableChildren(){this.__uploader.enable()}_disableChildren(){this.__uploader.disable()}get aspect(){let e=this.getAttribute("aspect"),t=0;return t=null===e?1.5:parseFloat(e),t}set aspect(e){this.setAttribute("aspect",e.toString())}get errorMessage(){return super.errorMessage}set errorMessage(e){super.errorMessage=e,this.updateWidth()}get onUpload(){return this.__uploader.onUpload}set onUpload(e){this.__uploader.onUpload=e}get onRemove(){return this.__uploader.onRemove}set onRemove(e){this.__uploader.onRemove=e}get placeholder(){return this.getAttribute("placeholder")}set placeholder(e){null!==e?this.setAttribute("placeholder",e):this.removeAttribute("placeholder")}get url(){return this.__url}set url(e){this.__url=e,this.__uploading?this.__queueUrl=e:(null===e&&(e=this.placeholder),this.__img.style.backgroundImage=null!==e?`url(${e})`:null)}get value(){return this.__uploader.value}set value(e){this.url=e}load(){this.__uploader.load()}remove(){this.__uploader.remove()}updateWidth(){let e=this.clientHeight-10-this.__uploader.clientHeight;this.errorMessage&&(e-=this.shadowRoot.querySelector(".error-message").clientHeight);let t=e/this.aspect;this.__img.style.width=t+"px",this.__img.style.height=e+"px"}}SciPhotoUpload.observedAttributes=["aspect","disabled","height","placeholder","width"],SciPhotoUpload.template=null,SciPhotoUpload.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}:host{height:300px;width:200px}#img{margin:0 auto;background-color:transparent;background-size:contain;background-repeat:no-repeat;background-position:50%}#upload-wrapper{text-align:center}sci-upload{display:inline-block;margin-bottom:0}.error-message{text-align:center}\n</style>\n<div id=img></div><div id=upload-wrapper><sci-upload no-label no-status-bar accept=image/*></sci-upload></div><div class=error-message></div>\n\n",customElements.define("sci-photo-upload",SciPhotoUpload);
class SciProgressBar extends SciWindow{constructor(){super(),null===SciProgressBar.template&&(SciProgressBar.template=this._createTemplate(SciProgressBar.templateText));let e=SciProgressBar.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(e),this._initializeWindow(),this.__value=null,this.__progressBar=i.querySelector(".pb-in-progress")}get value(){return this.__value}set value(e){if(this.__value=e,"number"==typeof e)this.open(),this.__progressBar.classList.contains("undefined")&&this.__progressBar.classList.remove("undefined"),this.__progressBar.style.width=Math.round(100*e)+"%";else if(void 0===e)this.open(),this.__progressBar.classList.contains("undefined")||this.__progressBar.classList.add("undefined"),this.__progressBar.style.width=null;else{if(null!==e)throw new TypeError("sci-progress-bar: attempt to set the incorrect value");this.close()}}}SciProgressBar.observedAttributes=["disabled","label"],SciProgressBar.template=null,SciProgressBar.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}:host{margin:0}.window-overlapper{z-index:100}.window{position:relative;width:300px;height:108px;box-sizing:border-box;border-radius:5px;padding:36px 15px;box-shadow:0 0 15px 0 #333}label{text-align:center;color:#333}.pb-line{height:14px;border-radius:7px;border:1px solid #fff;box-shadow:inset 0 0 10px 0 #333;background:#bac4d1;overflow:hidden}.pb-in-progress{width:50%;height:100%;border-radius:7px;background-image:radial-gradient(ellipse closest-corner at center,transparent,transparent 50%,rgba(255,255,255,.15)),linear-gradient(to right,#1758da,#86bdc7);box-shadow:5px 0 5px 0 #555}@keyframes pb-in-progress-undefined{from{margin-left:0}to{margin-left:-100%}}.pb-in-progress.undefined{width:200%;background-image:linear-gradient(to right,#1758da 0,#86bdc7 25%,#1758da 50%,#86bdc7 75%,#1758da 100%);animation:2s linear 0s infinite normal none running pb-in-progress-undefined}:host([inline]){margin:10px none}:host([inline]) .window-overlapper{display:block;position:static}:host([inline]) .window-background{display:none}:host([inline]) .window:before{content:none;display:none}:host([inline]) .window{display:block;position:static;text-align:left;box-shadow:none;width:auto;height:auto;padding:0}:host([inline]) label{text-align:left;margin-left:5px}:host([inline]) .pb-line{width:300px}\n</style>\n<label>WARNING! ADD SHORT DESCRIPTION</label><div class=pb-line><div class=pb-in-progress></div></div>\n\n",customElements.define("sci-progress-bar",SciProgressBar);
class SciUpload extends SciWidget{constructor(){super();let e=this;null===SciUpload.template&&(SciUpload.template=this._createTemplate(SciUpload.templateText));let t=SciUpload.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(t),this.__fileInfo=i.querySelector("#file-info"),this.__loadBox=i.querySelector("#load"),this.__removeBox=i.querySelector("#remove"),this.__input=i.querySelector("input"),this.__value=null,this.__url=null,this.__updateValue(),this.__loadBox.addEventListener("click",(t=>{e.load()})),this.__removeBox.addEventListener("click",(t=>{e.remove()})),this.__input.addEventListener("change",(t=>{e.__startLoad()})),this.__upload=null,this.__remove=null}attributeChangedCallback(e,t,i){if("multiple"===e)this.__input.multiple=null!==i;else if("accept"===e)null!==i?this.__input.setAttribute("accept",i):this.__input.removeAttribute("accept");else if("no-status-bar"===e)this.__fileInfo.style.display=null!==i?"none":null;else if("no-label"===e){let e=this.shadowRoot.querySelector("label");e.style.display=null!==i?"none":null}else super.attributeChangedCallback(e,t,i)}__updateValue(){let e=this.__fileInfo.classList;"string"==typeof this.__value?(e.contains("not-selected")||e.add("not-selected"),this.__loadBox.enable(),this.__removeBox.enable(),this.__fileInfo.innerText="Файл успешно загружен"):null!==this.__value?(e.contains("not-selected")&&e.remove("not-selected"),this.__loadBox.enable(),this.__removeBox.enable(),this.multiple?this.__fileInfo.innerText=`${this.__value.length} файл(ов) выбрано`:this.__fileInfo.innerText=this.__value.name):(e.contains("not-selected")||e.add("not-selected"),this.__loadBox.enable(),this.__removeBox.disable(),this.__fileInfo.innerText="Файл не выбран")}_enableChildren(){this.__updateValue()}_disableChildren(){this.__loadBox.disable(),this.__removeBox.disable()}get accept(){return this.getAttribute("accept")}set accept(e){null!==e?this.setAttribute("accept",e):this.removeAttribute("accept")}get multiple(){return null!==this.getAttribute("multiple")}set multiple(e){e?this.setAttribute("multiple",""):this.removeAttribute("multiple")}get onRemove(){return this.__remove}set onRemove(e){if("function"!=typeof e)throw new TypeError("sci-upload: The value of the onRemove property must be string");this.__remove=e}get onUpload(){return this.__upload}set onUpload(e){if("function"!=typeof e)throw new TypeError("sci-upload: The value of the onUpload property must be string");this.__upload=e}get required(){return null!==this.getAttribute("required")}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get url(){return this.__url}set url(e){this.__url=e.toString()}get value(){if(this.errorMessage="",this.required&&null===this.__value)throw this.errorMessage="Пожалуйста, сначала загрузите файл",new TypeError("sci-upload: no file was uploaded by the user");return this.__value}set value(e){this.__value="",this.__updateValue()}load(){this.__input.click()}remove(){this.__fileInfo.innerText="Удаление...";let e=new CustomEvent("sci-remove-start",{bubbles:!0,detail:this.__value});if(this.dispatchEvent(e),null===this.onRemove)throw new TypeError("sci-remove: Please, set the onRemove property");this.onRemove(this.__value).then((()=>{this.__value=null,this.__url=null,this.__updateValue();let e=new CustomEvent("sci-remove-success",{bubbles:!0,detail:null});this.dispatchEvent(e)})).catch((e=>{this.__updateValue();let t=new CustomEvent("sci-remove-failed",{bubbles:!0,detail:e});this.dispatchEvent(t)}))}__startLoad(){let e=this.__input.files;e=this.multiple?[...e]:e[0],this.__fileInfo.innerText="Загрузка...",this.__input.value="";let t=new CustomEvent("sci-upload-start",{bubbles:!0,detail:e});if(this.dispatchEvent(t),null===this.onUpload)throw new TypeError("sci-upload: Please, set the onUpload property");this.onUpload(e).then((t=>{t||(t=null),this.__url=t,this.__value=e,this.__updateValue();let i=new CustomEvent("sci-upload-success",{bubbles:!0,detail:this.url});this.dispatchEvent(i)})).catch((e=>{this.__updateValue();let t=new CustomEvent("sci-upload-failed",{bubbles:!0,detail:e});this.dispatchEvent(t)}))}}SciUpload.observedAttributes=["accept","disabled","label","multiple","no-label","no-status-bar","width"],SciUpload.template=null,SciUpload.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.controls{display:inline-block}#file-info{display:inline-block;margin:0 10px 0 0;padding:0;color:#333}:host([disabled]) #file-info{color:#bac4d1}#file-info.not-selected{font-style:italic}#load{display:inline-block;margin:0 10px 0 0;padding:0}#remove{display:inline-block;margin:0;padding:0}input{display:none}\n</style>\n<label>WARNING! The widget label is not given</label><div class=row><p id=file-info class=not-selected>Файл не выбран<div class=controls><sci-link-button id=load label=Загрузить></sci-link-button><sci-link-button id=remove label=Удалить disabled></sci-link-button></div></div><div class=error-message></div><input type=file>\n\n",customElements.define("sci-upload",SciUpload);
class SciSpinInput extends SciWidget{constructor(){super();null===SciSpinInput.template&&(SciSpinInput.template=this._createTemplate(SciSpinInput.templateText),this._renderChildren(SciSpinInput.template));let t=SciSpinInput.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(t),this.__input=i.querySelector("sci-input"),this.__spinUp=i.querySelector("#spin-up"),this.__spinDown=i.querySelector("#spin-down"),this.__spinUp.addEventListener("click",this.__processSpinEvent.bind(this)),this.__spinDown.addEventListener("click",this.__processSpinEvent.bind(this)),this.__spinUp.addEventListener("dblclick",this.__processSpinDblClick.bind(this)),this.__spinDown.addEventListener("dblclick",this.__processSpinDblClick.bind(this))}__processSpinEvent(t){if(this.disabled)return;let i=t.target.closest("svg"),e=i.id;i.classList.contains("selected")||(i.classList.add("selected"),setTimeout((()=>i.classList.remove("selected")),80));let n=new CustomEvent("sci-"+e,{bubbles:!0});this.dispatchEvent(n)}__processSpinDblClick(t){t.stopPropagation(),t.preventDefault()}_enableChildren(){this.__input.enable()}_disableChildren(){this.__input.disable()}attributeChangedCallback(t,i,e){"label"===t?this.__input.label=e:super.attributeChangedCallback(t,i,e)}_renderChildren(t){}get _input(){return this.__input}get _spinUp(){return this.__spinUp}get _spinDown(){return this.__spinDown}get errorMessage(){return this.__input.errorMessage}set errorMessage(t){this.__input.errorMessage=t}}SciSpinInput.template=null,SciSpinInput.templateText='\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:\'Futura PT\',\'Helvetica Neue\',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:\'\';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}:host{font-size:0;width:265px}sci-input{display:inline-block;vertical-align:top;margin:0 5px 0 0;width:calc(100% - 15px);font-size:14px}.spin-buttons{display:inline-block;vertical-align:top;margin-top:18px;width:10px;height:22px;font-size:14px}.spin-button{display:block;fill:#333;cursor:pointer}.spin-button.selected{fill:#bac4d1}:host([disabled]) .spin-button{fill:#bac4d1;cursor:default}#spin-up{margin-bottom:2px}\n</style>\n<sci-input></sci-input><div class=spin-buttons><svg id=spin-up viewBox="0 0 100 100" class=spin-button><path d="M 0 100 L 100 100 L 50 0 z"></path></svg> <svg id=spin-down viewBox="0 0 100 100" class=spin-button><path d="M 0 0 L 100 0 L 50 100 z"></path></svg></div>\n\n',customElements.define("sci-spin-input",SciSpinInput);
class SciSpin extends SciSpinInput{constructor(){super();let e=this,t=this.getAttribute("value");null!==t&&(t=parseFloat(t)),this.__defaultValue=t,this.__value=this.__defaultValue,this.__minValue=-1/0,this.__step=1,this.__maxValue=1/0,this.__updateChildren(),this.addEventListener("sci-spin-up",(t=>{"sci-spin"===t.detail||e.readOnly||(t.stopImmediatePropagation(),t.preventDefault(),e.stepUp(1),["change","sci-spin-up"].forEach((t=>{let i=new CustomEvent(t,{bubbles:!0,detail:"sci-spin"});e.dispatchEvent(i)})))})),this.addEventListener("sci-spin-down",(t=>{"sci-spin"===t.detail||e.readOnly||(t.stopImmediatePropagation(),t.preventDefault(),e.stepDown(1),["change","sci-spin-down"].forEach((t=>{let i=new CustomEvent(t,{bubbles:!0,detail:"sci-spin"});e.dispatchEvent(i)})))})),this._input.addEventListener("change",(t=>{if("sci-spin"===t.detail||e.readOnly)return;t.stopImmediatePropagation(),t.preventDefault();let i=parseFloat(e._input.value);if(isNaN(i))i=null;else{i<this.__minValue&&(i=this.__minValue),i>this.__maxValue&&(i=this.__maxValue);let e=this.__minValue;e===-1/0&&(e=0),i=e+Math.round((i-e)/this.__step)*this.__step,this.value=i}let s=new CustomEvent("change",{bubbles:!0,detail:"sci-spin"});e.dispatchEvent(s)})),this._input.addEventListener("keydown",(t=>{let i=["change"];"ArrowDown"===t.key&&(i.push("sci-spin-down"),this.stepDown(1)),"ArrowUp"===t.key&&(i.push("sci-spin-up"),this.stepUp(1)),i.forEach((t=>{let i=new CustomEvent(t,{bubbles:!0,detail:"sci-spin"});e.dispatchEvent(i)}))}))}attributeChangedCallback(e,t,i){"max"===e?this.maxValue=i:"min"===e?this.minValue=i:"step"===e?this.step=i:"placeholder"===e?this._input.placeholder=i:"readonly"===e?this._input.readOnly=null!==i:"align"===e?this._input.align=i:super.attributeChangedCallback(e,t,i)}__updateChildren(){isNaN(this.__value)&&(this.__value=null),this.__value<this.__minValue&&(this.__value=this.__minValue),this.__value>this.__maxValue&&(this.__value=this.__maxValue),null!==this.__value?this._input.value=this.__value.toString():this._input.value=""}get align(){return this.getAttribute("align")}set align(e){null!==e?this.setAttribute("align",e):this.removeAttribute("align")}get defaultValue(){return this.__defaultValue}get maxValue(){return this.__maxValue}set maxValue(e){this.__maxValue=parseFloat(e)}get minValue(){return this.__minValue}set minValue(e){this.__minValue=parseFloat(e)}get placeholder(){return this.getAttribute("placeholder")}set placeholder(e){e?this.setAttribute("placeholder",e):this.removeAttribute("placeholder")}get readOnly(){return null!==this.getAttribute("readonly")}set readOnly(e){e?this.setAttribute("readonly",""):this.removeAttribute("readonly")}get required(){return null!==this.getAttribute("required")}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get step(){return this.__step}set step(e){this.__step=parseFloat(e)}get value(){this.errorMessage="";let e=this.__value;if(null===e&&this.required)throw this.errorMessage="Вы не заполнили поле",new TypeError("sci-spin: the value was not set by the user");return e}set value(e){this.__value=parseFloat(e),this.__updateChildren()}get wrap(){return null!==this.getAttribute("wrap")}set wrap(e){e?this.setAttribute("wrap",""):this.removeAttribute("wrap")}stepDown(e){let t=this.__value;null===t&&this.__maxValue===1/0?t=0:null===t||t>this.__maxValue?t=this.__maxValue:(t-=this.__step*e,t<this.__minValue&&(t=this.wrap?this.__maxValue:this.__minValue)),this.value=t}stepUp(e){let t=this.__value;null===t&&this.__minValue===-1/0?t=0:t<this.__minValue||null===t?t=this.__minValue:(t+=this.__step*e,t>this.__maxValue&&(t=this.wrap?this.__minValue:this.__maxValue)),this.value=t}}SciSpin.observedAttributes=["align","disabled","label","max","min","placeholder","readonly","step","width"],SciSpin.template=null,SciSpin.templateText="\n<style>\n</style>\n<div></div>\n\n",customElements.define("sci-spin",SciSpin);
class SciRadioButton extends SciWidget{constructor(){super();let e=this;null===SciRadioButton.template&&(SciRadioButton.template=this._createTemplate(SciRadioButton.templateText));let t=SciRadioButton.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(t),this.__input=i.querySelector("input"),this._rendered=!0,this.addEventListener("click",(t=>{if(e.disabled||e.readOnly)return;this.check();let i=new CustomEvent("change",{bubbles:!0});e.dispatchEvent(i)}))}attributeChangedCallback(e,t,i){"name"===e?null!==i?this.__input.setAttribute("name",i):this.__input.removeAttribute("name"):"checked"===e?null!==i?this.check():this.checked=!1:super.attributeChangedCallback(e,t,i)}get checked(){return this.__input.checked}set checked(e){e?this.__input.setAttribute("checked",""):this.__input.removeAttribute("checked"),this.errorMessage=""}get group(){return this.parentElement.querySelectorAll(`sci-radio-button[name=${this.name}]`)}get name(){return this.getAttribute("name")}set name(e){null!==e?this.setAttribute("name",e):this.removeAttribute("name")}get readOnly(){return null!==this.getAttribute("readonly")}set readOnly(e){e?this.setAttribute("readonly",""):this.removeAttribute("readonly")}get required(){return null!==this.getAttribute("required")}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get value(){this.errorMessage="";let e=null;for(let t of this.group)if(t.checked){e=t.getAttribute("value");break}if(this.required&&null===e)throw this.errorMessage="Пожалуйста, выберите нужную опцию",new TypeError("sci-radio-button: the option is not selected by the user");return e}set value(e){let t=!1;for(let i of this.group)if(i.getAttribute("value")===e){i.check(),t=!0;break}if(!t)for(let e of this.group)e.checked=!1}check(){for(let e of this.group)e._rendered&&(e.checked=e===this)}next(){let e=!1,t=null;for(let i of this.group){if(e){t=i;break}i===this&&(e=!0)}return t}previous(){let e=!1,t=null;for(let i of[...this.group].reverse()){if(e){t=i;break}i===this&&(e=!0)}return t}}SciRadioButton.observedAttributes=["checked","disabled","label","name","width"],SciRadioButton.template=null,SciRadioButton.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}:host{cursor:pointer}input{display:none}:host label{display:block;cursor:pointer;vertical-align:top;margin-bottom:0;margin-left:23px}#img-wrapper{display:inline-block;float:left;width:14px;height:14px;margin-right:5px;vertical-align:top;border:2px solid #1758da;border-radius:50%}#img{display:none;width:10px;height:10px;margin:2px;background:#1758da;border-radius:50%}input[checked]+#img-wrapper #img{display:block}:host([disabled]),:host([disabled]) label,:host([readonly]),:host([readonly]) label{cursor:default}:host([disabled]) #img-wrapper{border-color:#bac4d1}:host([disabled]) #img{background-color:#bac4d1}\n</style>\n<div class=row><input type=radio><div id=img-wrapper><div id=img></div></div><label>WARNING!!! PLEASE, DEFINE THE LABEL ATTRIBUTE</label></div><div class=error-message></div>\n\n",customElements.define("sci-radio-button",SciRadioButton);
