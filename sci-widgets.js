{let i=document.createElement("style");i.innerText="body{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,Sans-serif,serif;font-size:14px}body{margin:0;padding:0;color:#333}h1,h2,h3{margin:0;padding:0;font-weight:500}h1{margin:20px 0}h2{margin:10px 0}p{margin:0;padding:0}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}dl{margin:0;padding:0}dt{margin:0;color:#1658da}dd{margin:0;margin-left:20px;font-size:15px}blockquote{font-style:italic;font-weight:300}.buttons-wrapper{text-align:center;font-size:0}.buttons-wrapper>*{font-size:14px}sci-combo-box ul,sci-list-box ul,sci-livesearch ul{margin:0;padding:5px;list-style-type:none;color:#bac4d1}sci-livesearch[inline] ul{padding:5px 0}sci-combo-box li,sci-list-box li,sci-livesearch li{cursor:pointer}sci-list-box[disabled] li,sci-livesearch[disabled] li{cursor:default}sci-combo-box li:hover,sci-livesearch li:hover{color:#1758da}sci-livesearch[disabled] li:hover{color:#bac4d1}sci-combo-box li.optional,sci-list-box li.optional,sci-livesearch li.optional{font-style:italic}sci-combo-box.complex-list ul,sci-list-box.complex-list ul,sci-livesearch.complex-list ul{padding:0}sci-combo-box.complex-list li,sci-list-box.complex-list li,sci-livesearch.complex-list li{padding:5px;border-bottom:1px solid #333;color:#333}sci-livesearch[inline].complex-list li{padding:5px 0;border-bottom:none}sci-list-box[disabled].complex-list li,sci-livesearch[disabled].complex-list li{color:#bac4d1}sci-combo-box.complex-list li p:nth-child(2),sci-list-box.complex-list p:nth-child(2),sci-livesearch.complex-list li p:nth-child(2){font-style:italic}sci-combo-box.complex-list li:last-child,sci-list-box li:last-child,sci-livesearch.complex-list li:last-child{border-bottom:none}sci-combo-box li.disabled,sci-list-box li.disabled,sci-livesearch li.disabled{color:#bac4d1;cursor:default}sci-list-box ul{padding:0}sci-list-box li{color:#333;text-transform:uppercase;border-bottom:1px solid #bac4d1;padding:10px 5px}sci-list-box.complex-list li{border-bottom:1px solid #bac4d1;padding:10px 5px}sci-list-box li p:nth-child(2){text-transform:none;font-style:italic;line-height:16px}sci-list-box li.selected,sci-list-box li:hover{background:#ddd}sci-list-box li.disabled:hover{background-color:#fff}sci-list-box li:last-child{border-bottom:none}sci-list-box[disabled] li{color:#bac4d1}sci-list-box[disabled] li:hover{background-color:#fff}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}sci-dialog :first-child{margin-top:0}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}sci-list-input .sci-placeholder{display:inline-block;vertical-align:top;width:20px;height:20px}\n",document.head.prepend(i)}const SCI_UNIT_GROUPS={length:{nm:.001,um:1,mm:1e3,cm:1e4,m:1e6,km:1e9},spatial_frequency:{cpnm:1e3,cpum:1,cpmm:.001,cpm:1e-6},time:{ms:1,s:1e3,min:6e4,hour:36e5,us:.001,ns:1e-6},mass:{ug:.001,mg:1,g:1e3,kg:1e6},vis_length:{d:1},vis_spatial_frequency:{cpd:1},angle:{rad:1,deg:Math.PI/180,grad:Math.PI/200},frequency:{Hz:1,kHz:1e3},voltage:{mV:1,V:1e3,uV:.001},current:{pA:.001,nA:1,uA:1e3,mA:1e6,A:1e9}};let SCI_UNITS={};for(let i in SCI_UNIT_GROUPS)for(let l in SCI_UNIT_GROUPS[i])SCI_UNITS[l]=SCI_UNIT_GROUPS[i][l];
class SciWidget extends HTMLElement{constructor(){super()}_createTemplate(e){let t=document.createElement("template");return t.innerHTML=e,t}attributeChangedCallback(e,t,i){"label"===e?this.shadowRoot.querySelector("label").innerHTML=i:"disabled"===e?null!==i?this._disableChildren():this._enableChildren():"height"===e?null!==i?this.style.setProperty("height",i+"px"):this.style.removeProperty("height"):"width"===e?null!==i?this.style.setProperty("width",i+"px"):this.style.removeProperty("width"):console.warn(`The attribute ${e} has been changed from ${t} to ${i} but no attribute\nchange callback is defined for this type of attribute`)}get disabled(){return null!==this.getAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get enabled(){return null===this.getAttribute("disabled")}set enabled(e){e?this.removeAttribute("disabled"):this.setAttribute("disabled","")}get errorMessage(){let e=this.shadowRoot.querySelector(".error-message"),t="";return e&&e.classList.contains("on")&&(t=e.innerHTML),t}set errorMessage(e){let t=this.shadowRoot.querySelector(".error-message");t&&(e?(t.innerHTML=e,t.classList.contains("on")||t.classList.add("on")):(t.innerHTML="",t.classList.contains("on")&&t.classList.remove("on")))}get height(){return parseFloat(window.getComputedStyle(this).height)}set height(e){e=parseFloat(e).toString(),this.setAttribute("height",e)}get label(){return this.getAttribute("label")}set label(e){this.setAttribute("label",e)}get name(){return this.getAttribute("name")}set name(e){null!==e?this.setAttribute("name",e):this.removeAttribute("name")}get readOnly(){return null!==this.getAttribute("readonly")}set readOnly(e){e?this.setAttribute("readonly",""):this.removeAttribute("readonly")}get tabIndex(){return parseInt(this.getAttribute("tab-index"))}set tabIndex(e){e=parseInt(e),isNaN(e)?this.removeAttribute("tab-index"):this.setAttribute("tab-index",e)}get value(){}set value(e){}get width(){return parseFloat(window.getComputedStyle(this).width)}set width(e){e=parseFloat(e).toString(),this.setAttribute("width",e)}enable(){this.removeAttribute("disabled")}disable(){this.setAttribute("disabled","")}_disableChildren(){}_enableChildren(){}}SciWidget.PROPERTIES={scrollSpeed:1},SciWidget.detectMobile=function(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some((e=>navigator.userAgent.match(e)))},SciWidget.template=null,SciWidget.templateText="\n<style>\n</style>\n<div></div>\n\n";
class SciScrollable extends SciWidget{constructor(){super(),this.__restrictedHeight=!1,this.__sliderMove=null,this.__padding=null}_createTemplate(t){let e=SciScrollable.template;null===e&&(e=super._createTemplate(SciScrollable.templateText));let o=super._createTemplate(t),i=e.cloneNode(!0);return i.content.querySelector(".content").append(o.content),i}_implementScroll(){this.__scrollableContent=this.shadowRoot.querySelector(".content");let t=this.shadowRoot.querySelector(".scroll-slider"),e=this;function o(e){let o=e.clientX,i=e.clientY;return{x:o-t.getBoundingClientRect().left,y:i-t.getBoundingClientRect().top}}function i(t){let o=e.__scrollableContent,i=o.scrollTop+t,l=e.clientHeight,s=o.scrollHeight;i<0&&(i=0),i>s-l&&(i=s-l),o.scrollTop=i}this.updateHeight(),SciWidget.detectMobile()||this.classList.add("not-mobile"),window.addEventListener("load",(t=>{e.updateHeight()})),window.addEventListener("resize",(t=>{e.updateHeight()})),this.addEventListener("mousewheel",(t=>{e.updateHeight(!1),e.__setDesktop(),this.__restrictedHeight&&this.enabled&&(t.stopPropagation(),t.preventDefault(),i(t.deltaY*SciWidget.PROPERTIES.scrollSpeed)),e.__updateScrollPosition()})),t.addEventListener("mousedown",(function(t){e.updateHeight(),e.__setDesktop(),e.__sliderMove=o(t)})),document.addEventListener("mousemove",(t=>{if(e.__sliderMove){let l=e.__sliderMove;i(o(t).y-l.y),e.__updateScrollPosition()}})),document.addEventListener("mouseup",(function(t){e.__sliderMove=null}))}attributeChangedCallback(t,e,o){if("padding"===t){let t=this.shadowRoot.querySelector(".content");this.__value=o;let e=-1;null!==o&&(e=parseFloat(o)),e>0?(t.style.paddingTop=e+"px",t.style.paddingBottom=e+"px"):(t.style.paddingTop=null,t.style.paddingBottom=null)}else super.attributeChangedCallback(t,e,o)}get padding(){return this.__padding}set padding(t){null!==t?this.setAttribute("padding",t):this.removeAttribute("padding")}updateHeight(t=!0){let e=this.__scrollableContent;if(!e)throw new TypeError("You don't run the _implementScroll method after creating the DOM structure");let o=e.scrollHeight,i=this.clientHeight;i<o&&!this.classList.contains("scrollable")&&(this.classList.add("scrollable"),this.classList.remove("sci-not-offset-parent"),this.__restrictedHeight=!0),i>=o&&this.classList.contains("scrollable")&&(this.classList.remove("scrollable"),this.classList.add("sci-not-offset-parent"),this.__restrictedHeight=!1),i>=o&&!this.classList.contains("sci-not-offset-parent")&&this.classList.add("sci-not-offset-parent"),t&&this.__updateScrollPosition()}__updateScrollPosition(){if(this.classList.contains("scrollable")){let t=this.__scrollableContent,e=this.clientHeight,o=t.scrollHeight,i=this.shadowRoot.querySelector(".scroll-slider"),l=Math.round(e*e/o-6);l<20&&(l=20),i.style.height=l+"px";let s=t.scrollTop*(e-l-6)/(o-e);i.style.top=s+"px"}}__setDesktop(){this.classList.contains("not-mobile")||this.classList.add("not-mobile")}}SciScrollable.template=null,SciScrollable.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{position:relative}:host .content{box-sizing:border-box;height:100%}:host(.scrollable) .content{overflow:auto}:host(.scrollable.not-mobile) .content{overflow:hidden}:host(.scrollable.not-mobile) .content{padding-right:15px}.scroll-bar{display:none}:host(.scrollable.not-mobile) .scroll-bar,:host(.scrollable.scrolling) .scroll-bar{display:block;position:absolute;right:0;top:0;bottom:0;width:10px;background:#eee}:host(.scrollable.not-mobile) .scroll-slider,:host(.scrollable.scrolling) .scroll-slider{position:absolute;left:2px;right:2px;top:0;height:100px;margin-top:3px;margin-bottom:3px;background:#bac4d1;border-radius:3px;cursor:pointer}:host(.scrollable.not-mobile[disabled]) .scroll-slider{display:none}:host(.error){margin-bottom:18px}\n</style>\n<div class=content></div><div class=scroll-bar><div class=scroll-slider></div></div><div class=error-message></div>\n\n";
class SciExpandableWidget extends SciWidget{constructor(){super(),this.__quiet=!1}_createTemplate(e){let t=super._createTemplate(SciExpandableWidget.templateText),n=super._createTemplate(e),i=n.content.querySelector(".content");for(;t.content.children.length>0;){let e=t.content.children[0];n.content.insertBefore(e,i)}return n.content.querySelector(".immediate-wrapper .content").replaceWith(i),n}_implementExpansion(){let e=this;document.addEventListener("click",(t=>{t.target.closest(e.tagName)!==e&&e.opened&&(e.close(),t.sci_closed_by_document=!0)}),!0);let t=this.shadowRoot.querySelector("label");null!==t&&t.addEventListener("click",(t=>{e.close()})),this.content.addEventListener("click",(t=>{this.__quiet=!0,e.open(),this.__quiet=!1}),!0),this.content.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault()})),this.shadowRoot.querySelector(".hamburger").addEventListener("click",(t=>{t.stopPropagation(),t.preventDefault(),!e.disabled&&e._openOnClick&&(t.sci_closed_by_document||(e.opened=!e.opened))}))}attributeChangedCallback(e,t,n){if("opened"===e){if(this._autoadjustOpen&&this._adjustOpen(),!this.__quiet){let e;e=null!==n?new CustomEvent("sci-open",{bubbles:!0}):new CustomEvent("sci-close",{bubbles:!0}),this.dispatchEvent(e)}}else super.attributeChangedCallback(e,t,n)}get _autoadjustOpen(){return!0}_adjustOpen(){let e,t,n=this.offsetParent;for(;null!==n&&!(n instanceof HTMLBodyElement)&&n.classList.contains("sci-not-offset-parent");)n=n.offsetParent;null===n||n instanceof HTMLBodyElement?(e=window.innerHeight,t=0):(e=n.clientHeight,t=n.getBoundingClientRect().top);let i=this.shadowRoot.querySelector(".hamburger"),s=i.getBoundingClientRect().bottom-t,o=this.content.scrollHeight+2;if(s+o>e){let t=i.clientHeight-(s+o-e);this.content.style.top=t+"px"}else this.content.style.top=null}_disableChildren(){this.close()}get _openOnClick(){return!0}get closed(){return null===this.getAttribute("opened")}set closed(e){e?this.removeAttribute("opened"):this.setAttribute("opened","")}get content(){return this.shadowRoot.querySelector(".hamburger .content")}get opened(){return null!==this.getAttribute("opened")}set opened(e){e?this.setAttribute("opened",""):this.removeAttribute("opened")}get text(){return this.shadowRoot.querySelector(".hamburger .text").innerHTML}set text(e){this.shadowRoot.querySelector(".hamburger .text").innerHTML=e}open(){this.opened=!0}close(){this.closed=!0}}SciExpandableWidget.template=null,SciExpandableWidget.templateText='\n<style>\n</style>\n<label>ERROR. YOU DON\'T GIVE THE LABEL PROPERTY</label><div class=immediate-wrapper><div class=hamburger><svg width=10 height=10 viewBox="0 0 100 100" class=icon><path d="M 0 0 H 100 L 50 100 z"></path></svg><div class=text>Текст гамбургера</div><div class=content></div></div></div><div class=error-message></div>\n\n';
class SciWindow extends SciWidget{super(){constructor()}_initializeWindow(){this.__windowOverlapper=this.shadowRoot.querySelector(".window-overlapper"),this.__window=this.shadowRoot.querySelector(".window")}_createTemplate(e){null===SciWindow.template&&(SciWindow.template=super._createTemplate(SciWindow.templateText));let i=document.createElement("template"),o=SciWindow.template.content.cloneNode(!0);return i.content.append(o),i.content.querySelector(".window").innerHTML=e,i}get window(){return this.__window}get windowOverlapper(){return this.__windowOverlapper}close(){let e=this.windowOverlapper.classList;if(e.contains("opened")){e.remove("opened");let i=new CustomEvent("sci-window-close",{});this.dispatchEvent(i)}}open(){let e=this.windowOverlapper.classList;if(!e.contains("opened")){e.add("opened");let i=new CustomEvent("sci-window-open",{});this.dispatchEvent(i)}}}SciWindow.template=null,SciWindow.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}\n</style>\n<div class=window-overlapper><div class=window-background></div><div class=window></div></div>\n\n";
class SciDraggable extends SciWidget{constructor(){super(),this.__restore()}_implementDragging(){let t=this;this.addEventListener("mousedown",(e=>{1===e.detail&&0===e.button&&(e.preventDefault(),t.__startDrag(e.clientX,e.clientY))})),this.addEventListener("touchstart",(e=>{1===e.touches.length&&(e.preventDefault(),t.__previousTouch={x:e.touches[0].clientX,y:e.touches[0].clientY},t.__startDrag(t.__previousTouch.x,t.__previousTouch.y))})),window.addEventListener("mousemove",(e=>{t.dragging&&(e.preventDefault(),t.__drag(e.clientX,e.clientY))})),window.addEventListener("touchmove",(e=>{t.dragging&&(1===e.touches.length?(t.__previousTouch={x:e.touches[0].clientX,y:e.touches[0].clientY},t.__drag(t.__previousTouch.x,t.__previousTouch.y)):t.__cancelDrag())})),this.addEventListener("mouseup",(e=>{t.dragging&&(e.preventDefault(),t.__finishDrag(e.clientX,e.clientY))})),this.addEventListener("touchend",(e=>{t.dragging&&(e.preventDefault(),t.__finishDrag(t.__previousTouch.x,t.__previousTouch.y))})),document.addEventListener("mouseleave",(e=>{t.dragging&&(e.preventDefault(),t.__cancelDrag())})),document.addEventListener("touchcancel",(e=>{t.dragging&&(e.preventDefault(),t.__cancelDrag())}))}__startDrag(t,e){let i=this.getBoundingClientRect();this.__positionX=t-i.left,this.__positionY=e-i.top,this.__initialX=i.left,this.__initialY=i.top,this.__dragging=!0,this.style.position="fixed",this.style.zIndex="10000",this.__updatePosition(t,e);let n=new CustomEvent("sci-drag-start",{bubbles:!0,detail:{x:t,y:e}});this.dispatchEvent(n)}__drag(t,e){this.__updatePosition(t,e);let i=new CustomEvent("sci-drag-move",{bubbles:!0,detail:{x:t,y:e}});this.dispatchEvent(i)}__finishDrag(t,e){this.__restore();let i=new CustomEvent("sci-drag-end",{bubbles:!0,detail:{x:t,y:e}});this.dispatchEvent(i)}__cancelDrag(){this.__restore();let t=new CustomEvent("sci-drag-cancel",{bubbles:!0});this.dispatchEvent(t)}__updatePosition(t,e){let i=t-this.__positionX,n=e-this.__positionY;this.style.left=i+"px",this.style.top=n+"px"}__restore(){this.style.position=null,this.style.zIndex=null,this.style.left=null,this.style.top=null,this.__dragging=!1,this.__positionX=-1,this.__positionY=-1,this.__initialX=-1,this.__initialY=-1,this.__previousTouch=null}__printLine(t){let e=document.createElement("p");e.innerHTML=t,document.body.append(e)}get dragging(){return this.__dragging}}SciDraggable.template=null,SciDraggable.templateText="\n<style>\n</style>\n<div></div>\n\n";
class SciEditor extends SciWidget{constructor(){super(),this.__defaultValue=""}attributeChangedCallback(t,e,i){if("value"===t)this.__defaultValue=i,this.value=i;else if("position"===t){if(-1===SciEditor.supportedPositions.indexOf(i))throw TypeError("Error in SciEditor 'position' attribute: such a position is not supported");SciEditor.supportedPositions.forEach((t=>{let e="position-"+t;this.classList.contains(e)&&this.classList.remove(e)}));let t="position-"+i;this.classList.add(t)}else"align"===t?this._setAlign(i):super.attributeChangedCallback(t,e,i)}_setAlign(t){if(-1===SciEditor.supportedAligns.indexOf(t))throw new TypeError("Error in set align property or attribute in SciEditor: the align type is unknown or unsupported");SciEditor.supportedAligns.forEach((t=>{let e="align-"+t;this.classList.contains(e)&&this.classList.remove(e)}));let e="align-"+t;this.classList.add(e)}get align(){return this.getAttribute("align")}set align(t){this.setAttribute("align",t)}get defaultValue(){return this.__defaultValue}get maxLength(){let t=parseInt(this.getAttribute("maxlength"));return isNaN(t)&&(t=1/0),t}set maxLength(t){t<1/0?this.setAttribute("maxlength",t):this.removeAttribute("maxlength")}get minLength(){let t=parseInt(this.getAttribute("minlength"));return isNaN(t)&&(t=0),t}set minLength(t){t>0?this.setAttribute("minlength",t):this.removeAttribute("minlength")}get placeholder(){return this.getAttribute("placeholder")}set placeholder(t){null!==t?this.setAttribute("placeholder",t):this.removeAttribute("placeholder")}get selectionString(){let t=this.selectionStart,e=this.selectionEnd,i=this.rawValue;if(void 0===t||void 0===e||void 0===i)throw new TypeError("Either selectionStart or selectionEnd or rawValue are not implemented in the extension of SciEditor");return i.substr(t,e-t)}}SciEditor.supportedPositions=["left","top"],SciEditor.supportedAligns=["left","right","center"],SciEditor.template=null,SciEditor.templateText="\n<style>\n</style>\n<div></div>\n\n",customElements.define("sci-editor",SciEditor);
class SciInput extends SciEditor{constructor(){super(),SciInput.template||(SciInput.template=this._createTemplate(SciInput.templateText));let e=SciInput.template.content.cloneNode(!0),t=this.attachShadow({mode:"open"});t.append(e),this.__dimension=!1,this.__checkers={},this.__validators={},this.__numberValidators={},this.__oldValue=null;let i=t.querySelector("input"),o=this,r=null!==this.getAttribute("livesearch");this.__input=i,this.ready=!0,this.readyFunc=()=>this.ready,this.updateFunc=null,this.checkFunc=e=>e===this.__updateValue,i.addEventListener("input",(e=>{e.stopPropagation(),o.__applyCheckers(),r&&o.__livesearch();let t=new InputEvent(e.type,e);o.dispatchEvent(t)})),i.addEventListener("change",(e=>{e.stopPropagation();let t=new Event("change",e);o.dispatchEvent(t)}))}__applyCheckers(){null===this.__oldValue&&(this.__oldValue=this.defaultValue);let e=this.__input.value,t=!0,i=Reflect.ownKeys(this.__checkers);for(let o of i)if("symbol"==typeof o){let i=this.__checkers[o];t=t&&i(this.__oldValue,e)}t?(this.__input.value=e,this.__oldValue=e):this.__input.value=this.__oldValue}__livesearch(){let e=this;this.errorMessage="";let t=this.__input.value;if("function"!=typeof this.updateFunc)throw new TypeError("sci-input: livesearch attribute is set but not function is assigned to updateFunc attribute");this.readyFunc()&&(this.__updateValue=t,this.updateFunc.call(this,t).then((()=>{e.checkFunc.call(e,e.__input.value)||e.__livesearch()})).catch((t=>{e.errorMessage=t.toString(),e.checkFunc.call(e,e.__input.value)||e.__livesearch()})))}attributeChangedCallback(e,t,i){if("type"===e){if(-1===SciInput.supportedTypes.indexOf(i))throw new TypeError("Attempt to set unsuitable value to the 'type' attribute");-1!==SciInput.htmlTypes.indexOf(i)&&(this.shadowRoot.querySelector("input").type=i)}else"autocomplete"===e?null!==i?this.shadowRoot.querySelector("input").setAttribute("autocomplete",i):this.shadowRoot.querySelector("input").removeAttribute("autocomplete"):"autosave"===e?null!==i?this.shadowRoot.querySelector("input").setAttribute("autosave",i):this.shadowRoot.querySelector("input").removeAttribute("autosave"):"inputmode"===e?null!==i?this.shadowRoot.querySelector("input").setAttribute("inputmode",i):this.shadowRoot.querySelector("input").removeAttribute("inputmode"):"list"===e?null!==i?this.shadowRoot.querySelector("input").setAttribute("list",i):this.shadowRoot.querySelector("input").removeAttribute("list"):"maxlength"===e?null!==i?this.shadowRoot.querySelector("input").setAttribute("maxlength",i):this.shadowRoot.querySelector("input").removeAttribute("maxlength"):"minlength"===e?null!==i?this.shadowRoot.querySelector("input").setAttribute("minlength",i):this.shadowRoot.querySelector("input").removeAttribute("minlength"):"placeholder"===e?null!==i?this.shadowRoot.querySelector("input").setAttribute("placeholder",i):this.shadowRoot.querySelector("input").removeAttribute("placeholder"):"readonly"===e?null!==i?this.shadowRoot.querySelector("input").setAttribute("readonly",""):this.shadowRoot.querySelector("input").removeAttribute("readonly"):"tab-index"===e?null!==i?this.shadowRoot.querySelector("input").setAttribute("tabindex",i):this.shadowRoot.querySelector("input").removeAttribute("tabindex"):super.attributeChangedCallback(e,t,i)}get autocomplete(){let e=this.shadowRoot.querySelector("input").autocomplete;return"on"===e||"off"!==e&&(""===e||void 0)}set autocomplete(e){e=e?"on":"off",this.shadowRoot.querySelector("input").autocomplete=e}get dimension(){let e,t=this.getAttribute("dimension");return e=null!==t&&(""===t||t),e}set dimension(e){let t=e;!0===e&&(t=""),!1===e&&(t=null),null!==t?this.setAttribute("dimension",t):this.removeAttribute("dimension")}get inputmode(){return this.getAttribute("inputmode")}set inputmode(e){this.setAttribute("inputmode",e)}get rawValue(){return this.shadowRoot.querySelector("input").value}get selectionStart(){return this.shadowRoot.querySelector("input").selectionStart}set selectionStart(e){this.shadowRoot.querySelector("input").selectionStart=parseInt(e)}get selectionEnd(){return this.shadowRoot.querySelector("input").selectionEnd}set selectionEnd(e){this.shadowRoot.querySelector("input").selectionEnd=e}get type(){return this.getAttribute("type")}get value(){this.errorMessage=null;let e=this.dimension,t=this.shadowRoot.querySelector("input").value;if(-1!==SciInput.integerTypes.indexOf(this.type)){if(t=parseInt(t),isNaN(t))throw this.errorMessage="Пожалуйста, введите целое число",new TypeError("The value entered by the user is not correct");if("positive-integer"===this.type&&t<=0)throw this.errorMessage="Пожалуйста, введите положительное число",new TypeError("The value entered by the user is not correct");if("nonnegative-integer"===this.type&&t<0)throw this.errorMessage="Данное значение не может быть отрицательным",new TypeError("The value entered by the user is not correct")}else if(!1!==e){let i=parseFloat(t);if(isNaN(i))throw this.errorMessage="Пожалуйста, введите числовое значение",new TypeError("The value entered by the user is not correct");let o=t.match(/\s*([A-Za-z]\w*)$/);null!==o&&(o=o[1]);let r=1;if(!0===e){if(null!==o&&(r=SCI_UNITS[o],void 0===r))throw this.errorMessage="Вы неправильно указали единицы измерения",new TypeError("The value entered by the user is not correct")}else{let t=SCI_UNIT_GROUPS[e];if(r=t[o],void 0===r)throw this.errorMessage="Пожалуйста, поставьте после этого числового значения одну из следующих единиц измерения: "+Object.keys(t).join(", "),new TypeError("The value entered by the user is not correct")}t=i*r}else{if(t.length<this.minLength)throw this.errorMessage=`Пожалуйста, введите не менее ${this.minLength} символов`,new TypeError("The value entered by the user is not correct");if(t.length>this.maxLength)throw this.errorMessage=`Пожалуйста, введите не более ${this.maxLength} символов`,new TypeError("The value entered by the user is not correct");let e=Reflect.ownKeys(this.__validators);for(let i of e){let e=this.__validators[i];if(!e.func(t))throw this.errorMessage=e.message,new TypeError("The value entered by the user is not correct")}}if("number"==typeof t){let e=Reflect.ownKeys(this.__numberValidators);for(let i of e){let e=this.__numberValidators[i];if(!e.condition(t))throw this.errorMessage=e.message,new TypeError("The value entered by the user is not correct")}}return t}set value(e){null===e&&(e=""),this.shadowRoot.querySelector("input").value=e,this.__oldValue=e}get units(){let e=this.rawValue.match(/\s*([A-Za-z]\w*)$/);return null!==e&&(e=e[1]),e}addChecker(e){let t=Symbol("checker");return this.__checkers[t]=e,t}addNumberValidator(e,t){let i=Symbol("number_validator");return this.__numberValidators[i]={condition:e,message:t},i}addValidator(e,t){if(e instanceof RegExp){let t=e;e=e=>t.test(e)}let i=Symbol("validator");return this.__validators[i]={func:e,message:t},i}blur(){this.shadowRoot.querySelector("input").blur()}click(){this.shadowRoot.querySelector("input").click()}focus(){this.shadowRoot.querySelector("input").focus()}removeChecker(e){delete this.__checkers[e]}removeNumberValidator(e){delete this.__numberValidators[e]}removeValidator(e){delete this.__validators[e]}select(){this.shadowRoot.querySelector("input").select()}setSelectionRange(e,t){this.shadowRoot.querySelector("input").setSelectionRange(e,t)}_enableChildren(){this.shadowRoot.querySelector("input").disabled=!1}_disableChildren(){this.shadowRoot.querySelector("input").disabled=!0}}SciInput.observedAttributes=["label","type","value","position","align","autocomplete","autosave","disabled","inputmode","list","maxlength","minlength","placeholder","readonly","tab-index","width"],SciInput.supportedTypes=["integer","positive-integer","nonnegative-integer","text","email","number","password","search","url"],SciInput.integerTypes=["integer","positive-integer","nonnegative-integer"],SciInput.htmlTypes=["text","email","number","password","search","url"],SciInput.REQUIRED=/^.+$/,SciInput.EMAIL=/^[\w\-\_.,]+@[=\w\-\_.,]+$/,SciInput.PHONE=/^[+]*\d?[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$/,SciInput.template=null,SciInput.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host(.align-right) input{text-align:right}:host(.align-center) input{text-align:center}:host(.align-left) input{text-align:left}label{margin-bottom:2px}input{background:#fff;border:none;border-bottom:1px solid #aaa;outline:0;width:100%;padding:0;height:21px;line-height:21px}input[disabled]{color:#bac4d1}input:focus{border-bottom-color:#333}\n</style>\n<label>WARNING: &lt;sci-input&gt; tag has been passed without label attribute. Please, insert this attribute</label><div class=\"input-wrapper immediate-wrapper\"><input></div><div class=error-message></div>\n\n",customElements.define("sci-input",SciInput);
class SciSpinInput extends SciWidget{constructor(){super();null===SciSpinInput.template&&(SciSpinInput.template=this._createTemplate(SciSpinInput.templateText),this._renderChildren(SciSpinInput.template));let i=SciSpinInput.template.content.cloneNode(!0),t=this.attachShadow({mode:"open"});t.append(i),this.__input=t.querySelector("sci-input"),this.__spinUp=t.querySelector("#spin-up"),this.__spinDown=t.querySelector("#spin-down"),this.__spinUp.addEventListener("click",this.__processSpinEvent.bind(this)),this.__spinDown.addEventListener("click",this.__processSpinEvent.bind(this)),this.__spinUp.addEventListener("dblclick",this.__processSpinDblClick.bind(this)),this.__spinDown.addEventListener("dblclick",this.__processSpinDblClick.bind(this))}__processSpinEvent(i){if(this.disabled)return;let t=i.target.closest("svg"),e=t.id;t.classList.contains("selected")||(t.classList.add("selected"),setTimeout((()=>t.classList.remove("selected")),80));let n=new CustomEvent("sci-"+e,{bubbles:!0});this.dispatchEvent(n)}__processSpinDblClick(i){i.stopPropagation(),i.preventDefault()}_enableChildren(){this.__input.enable()}_disableChildren(){this.__input.disable()}attributeChangedCallback(i,t,e){"label"===i?this.__input.label=e:super.attributeChangedCallback(i,t,e)}_renderChildren(i){}get _input(){return this.__input}get _spinUp(){return this.__spinUp}get _spinDown(){return this.__spinDown}get errorMessage(){return this.__input.errorMessage}set errorMessage(i){this.__input.errorMessage=i}}SciSpinInput.template=null,SciSpinInput.templateText='\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:\'Futura PT\',\'Helvetica Neue\',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:\'\';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{font-size:0;width:265px}sci-input{display:inline-block;vertical-align:top;margin:0 5px 0 0;width:calc(100% - 15px);font-size:14px}.spin-buttons{display:inline-block;vertical-align:top;margin-top:18px;width:10px;height:22px;font-size:14px}.spin-button{display:block;fill:#333;cursor:pointer}.spin-button.selected{fill:#bac4d1}:host([disabled]) .spin-button{fill:#bac4d1;cursor:default}#spin-up{margin-bottom:2px}\n</style>\n<sci-input></sci-input><div class=spin-buttons><svg id=spin-up viewBox="0 0 100 100" class=spin-button><path d="M 0 100 L 100 100 L 50 0 z"></path></svg> <svg id=spin-down viewBox="0 0 100 100" class=spin-button><path d="M 0 0 L 100 0 L 50 100 z"></path></svg></div>\n\n',customElements.define("sci-spin-input",SciSpinInput);
class SciDate extends SciExpandableWidget{constructor(){super();let t=this;if(null===SciDate.template){SciDate.template=this._createTemplate(SciDate.templateText);let t=0;for(let e of SciDate.template.content.querySelectorAll("th"))e.innerHTML=SciDate.weekDays[t],t++}let e=SciDate.template.content.cloneNode(!0);this.attachShadow({mode:"open"}).append(e),this._implementExpansion();let a=this.getAttribute("value");null!==a?(this.__defaultValue=new Date(a),this.__defaultValue.setHours(0,0,0)):this.__defaultValue=null,this.value=this.defaultValue,this.addEventListener("sci-open",(e=>{t._openCalendar()})),this.content.querySelector("#prev-decade").addEventListener("click",(e=>{t.disabled||e.target.classList.contains("useless")||(t.__currentDate.setFullYear(t.__currentDate.getFullYear()-10),t._updateCurrentValue())})),this.content.querySelector("#prev-year").addEventListener("click",(e=>{t.disabled||e.target.classList.contains("useless")||(t.__currentDate.setFullYear(t.__currentDate.getFullYear()-1),t._updateCurrentValue())})),this.content.querySelector("#next-year").addEventListener("click",(e=>{t.disabled||e.target.classList.contains("useless")||(t.__currentDate.setFullYear(t.__currentDate.getFullYear()+1),t._updateCurrentValue())})),this.content.querySelector("#next-decade").addEventListener("click",(e=>{t.disabled||e.target.classList.contains("useless")||(t.__currentDate.setFullYear(t.__currentDate.getFullYear()+10),t._updateCurrentValue())})),this.content.querySelector("#prev-month").addEventListener("click",(e=>{if(t.disabled||e.target.classList.contains("useless"))return;let a=this.__currentDate.getMonth();for(;this.__currentDate.getMonth()===a;)this.__currentDate.setMonth(a-1);t._updateCurrentValue()})),this.content.querySelector("#next-month").addEventListener("click",(e=>{t.disabled||e.target.classList.contains("useless")||(t.__currentDate.setMonth(t.__currentDate.getMonth()+1),t._updateCurrentValue())}))}attributeChangedCallback(t,e,a){"inline"===t||"maxvalue"===t||"minvalue"===t?this._openCalendar():super.attributeChangedCallback(t,e,a)}get _autoadjustOpen(){return!1}_updateValue(){this.errorMessage="";let t=this.__value;null===t?(this.text="",this.__currentDate=null):(this.text=t.toLocaleDateString(),this.__currentDate=new Date(t)),this._openCalendar()}_openCalendar(){null!==this.__value&&(this.__currentDate=new Date(this.__value)),this._updateCurrentValue()}_updateCurrentValue(){let t=this.minValue,e=this.maxValue,a=this.__correctDate(t,e),l=this.content.querySelector("tbody");this.__putYear(a,t,e),this.__putMonth(a,t,e),l.innerHTML="";let n=new Date(a);n.setDate(1);let i=new Date(n);for(i.setMonth(i.getMonth()+1);1!==n.getDay();)n.setDate(n.getDate()-1);for(;n.getMonth()!==i.getMonth()||1!==n.getDay();){let i=[];null!==this.__value&&this.__value.getTime()===n.getTime()&&i.push("selected"),n.getMonth()!==a.getMonth()&&i.push("wrong-month"),this.__putDate(l,n,i,t,e),n.setDate(n.getDate()+1)}this._adjustOpen()}__correctDate(t,e){let a=this.__currentDate;return null===a&&(a=new Date,a.setHours(0,0,0)),null!==t&&a.getTime()<t.getTime()&&(a=new Date(t)),null!==e&&a.getTime()>e.getTime()&&(a=new Date(e)),this.__currentDate=a,a}__putYear(t,e,a){this.content.querySelector("#year").innerHTML=t.getFullYear().toString();let l=this.content.querySelector("#prev-decade"),n=this.content.querySelector("#prev-year"),i=this.content.querySelector("#next-year"),s=this.content.querySelector("#next-decade");for(let t of[l,n,i,s])t.classList.contains("useless")&&t.classList.remove("useless");null!==e&&t.getFullYear()===e.getFullYear()&&(l.classList.add("useless"),n.classList.add("useless")),null!==a&&t.getFullYear()===a.getFullYear()&&(i.classList.add("useless"),s.classList.add("useless"))}__putMonth(t,e,a){this.content.querySelector("#month").innerHTML=SciDate.months[t.getMonth()];let l=this.content.querySelector("#prev-month"),n=this.content.querySelector("#next-month");for(let t of[l,n])t.classList.contains("useless")&&t.classList.remove("useless");null!==e&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&l.classList.add("useless"),null!==a&&t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&n.classList.add("useless")}__putDate(t,e,a,l,n){let i;0===t.rows.length?i=t.insertRow():(i=t.rows[t.rows.length-1],i.cells.length>=7&&(i=t.insertRow()));let s=i.insertCell();s.innerHTML=e.getDate().toString();for(let t of a)s.classList.add(t);null!==l&&e.getTime()<l.getTime()&&s.classList.add("disabled"),null!==n&&e.getTime()>n.getTime()&&s.classList.add("disabled"),s.dataset.date=e.toISOString();let r=function(t){if(t.stopPropagation(),t.preventDefault(),this.disabled||t.target.classList.contains("disabled"))return;this.value=new Date(t.target.dataset.date),this.close();let e=new Event("change",{});this.dispatchEvent(e)}.bind(this);s.addEventListener("click",r)}get defaultValue(){return this.__defaultValue}get maxValue(){if(null===this.getAttribute("maxvalue"))return null;let t=new Date(this.getAttribute("maxvalue"));return t.setHours(0,0,0),t}set maxValue(t){if(null!==t){let e=new Date(t);e.setHours(0,0,0),this.setAttribute("maxvalue",e.toISOString())}else this.removeAttribute("maxvalue")}get minValue(){if(null===this.getAttribute("minvalue"))return null;let t=new Date(this.getAttribute("minvalue"));return t.setHours(0,0,0),t}set minValue(t){if(null!==t){let e=new Date(t);e.setHours(0,0,0),this.setAttribute("minvalue",e.toISOString())}else this.removeAttribute("minvalue")}get required(){return null!==this.getAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get value(){this.errorMessage="";let t=this.__value;if(null===t&&this.required)throw this.errorMessage="Пожалуйста, укажите дату",new TypeError("sci-date: the date was not set by the user");return null!==t&&(t=new Date(t)),t}set value(t){if(null!==t){let e=new Date(t);if(e.setHours(0,0,0),null!==this.minValue&&e.getTime()<this.minValue.getTime())throw new TypeError("Error in setting value to sci-date: minvalue restriction failed");if(null!==this.maxValue&&e.getTime()>this.maxValue.getTime())throw new TypeError("Error in setting value to sci-date: maxvalue restriction failed");this.__value=e}else this.__value=null;this._updateValue()}}SciDate.months=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],SciDate.weekDays=["ПН","ВТ","СР","ЧТ","ПТ","СБ","ВС"],SciDate.observedAttributes=["disabled","inline","label","maxvalue","minvalue","opened","width"],SciDate.template=null,SciDate.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{width:345px}:host([inline]) .error-message{text-align:center;margin-top:-5px;margin-bottom:5px}:host .content{padding:5px;width:333px}:host([inline]) .content{padding:0;background:0 0}:host .row{margin:10px 0}:host .cal-button{display:inline-block;width:18px;height:18px;margin:0 3px;border:1px solid #333;border-radius:5px;padding:5px;text-decoration:none;text-align:center;color:#333}:host .cal-button:active{box-shadow:inset 0 0 5px 0 #aaa}:host .cal-button.useless,:host([disabled]) .cal-button{color:#bac4d1;border-color:#bac4d1;cursor:default}:host .cal-button.useless:active,:host([disabled]) .cal-button:active{box-shadow:none}:host p{line-height:30px;text-align:center;margin:0;text-transform:capitalize}:host([disabled]) p{color:#bac4d1}:host #prev-decade,:host #prev-month,:host #prev-year{float:left}:host #next-decade,:host #next-month,:host #next-year{float:right}:host #year{font-size:16px}:host #month{font-size:15px}:host .content table{border-spacing:5px;margin:0 auto;width:333px}:host .content table td,:host .content table th{text-align:right;padding:0 10px;border:1px solid #fff;border-radius:2px;cursor:pointer}:host .content table td.disabled,:host([disabled]) .content table td,:host([disabled]) .content table th{color:#bac4d1;cursor:default}:host .content table td.selected,:host .content table td:hover{box-shadow:inset 0 0 3px 0 #333}:host .content table td.disabled:hover,:host([disabled]) .content table td.selected,:host([disabled]) .content table td:hover{box-shadow:none}:host .content table th{cursor:default}:host .content table td.wrong-month{color:#bac4d1}@media screen and (max-width:400px){:host{width:290px}:host .content{width:278px}:host .content table{width:278px}:host .content table td,:host .content table th{padding:0 5px;width:33px}}\n</style>\n<div class=content><div class=row><a href=# class=cal-button id=prev-decade>&lt;&lt;</a> <a href=# class=cal-button id=prev-year>&lt;</a> <a href=# class=cal-button id=next-decade>&gt;&gt;</a> <a href=# class=cal-button id=next-year>&gt;</a><p id=year>1970</div><div class=row><a href=# class=cal-button id=prev-month>&lt;</a> <a href=# class=cal-button id=next-month>&gt;</a><p id=month>Январь</div><div class=row><table><thead><tr><th>1<th>2<th>3<th>4<th>5<th>6<th>0<tbody><tr><td class=wrong-month>30<td class=wrong-month>31<td>1<td>2<td class=selected>3<td>4<td>5</table></div></div>\n\n",customElements.define("sci-date",SciDate);
class SciTime extends SciSpinInput{constructor(){super();let e=this;this.TIME_REGEXP=/^(\d{1,2}):(\d{1,2})(?::(\d{1,2})(?:\.(\d{1,3}))?)?$/,this.RELATIVE_TIME_REGEXP=/^(?:(\d{1,2}):)?(\d{1,2}):(\d{1,2})(?:\.(\d{1,3}))?$/,this.TIME_CHECK=/^(\d{1,3}):(\d{1,3})(?::(\d{1,3})(?:\.(\d{1,4}))?)?$/,this.RELATIVE_TIME_CHECK=/^(?:(\d{1,2}):)?(\d{1,2}):(\d{1,2})(?:\.(\d{1,3}))?$/,this.__relative=null!==this.getAttribute("relative"),this.__maxValue=null,this.__minValue=null;let t=this.getAttribute("value");this.__defaultValue=this.__parseTime(t),this.__value=this.__defaultValue,this.__updateValue(),this.addEventListener("sci-spin-up",this.__processSpinUp.bind(this)),this.addEventListener("sci-spin-down",this.__processSpinDown.bind(this)),this._input.addEventListener("input",(t=>{t.stopPropagation(),t.preventDefault();let i=t.target,s=i.value,n=i.selectionStart;try{e.__value=e.__parseTime(s)}catch(t){(e.relative?e.RELATIVE_TIME_CHECK:e.TIME_CHECK).test(s)&&n<s.length&&s[n].match(/\d/)&&(s=s.substr(0,n)+s.substr(n+1),e.__value=e.__parseTime(s)),s||(e.__value={hour:0,minute:0,second:0,millisecond:0})}e.__updateValue(),i.selectionStart=n,i.selectionEnd=n;let l=new Event("change",{});e.dispatchEvent(l)}))}attributeChangedCallback(e,t,i){"hours"===e?null===i&&null!==this.__value&&(this.__value.hours=0):"seconds"===e?(null===i&&null!==this.__value&&(this.__value.seconds=0),this.__updateValue()):"millis"===e?(null===i&&null!==this.__value&&(this.__value.millis=0),this.__updateValue()):"maxvalue"===e?this.maxValue=i:"minvalue"===e?this.minValue=i:super.attributeChangedCallback(e,t,i)}__checkTime(e){if(e.hour<0)throw new TypeError("sci-time: the time was entered incorrectly");if(!this.relative&&e.hour>23)throw new TypeError("sci-time: the time was entered incorrectly");if(e.minute<0||e.minute>59)throw new TypeError("sci-time: the time was entered incorrectly");if(e.second<0||e.second>59)throw new TypeError("sci-time: the time was entered incorrectly");if(e.millisecond<0||e.millisecond>999)throw new TypeError("sci-time: the time was entered incorrectly")}__parseTime(e){if(null===e)return null;let t=this.relative?this.RELATIVE_TIME_REGEXP:this.TIME_REGEXP,i={hour:0,minute:0,second:0,millisecond:0},s=e.match(t);if(null===s)throw new TypeError("sci-time: the time was entered incorrectly");return void 0!==s[1]&&(i.hour=parseInt(s[1])),i.minute=parseInt(s[2]),void 0!==s[3]&&(i.second=parseInt(s[3])),void 0!==s[4]&&(i.millisecond=parseInt(s[4])),this.__checkTime(i),i}__updateValue(){let e=this.__value,t=this._input.selectionStart;null===e&&(e={hour:0,minute:0,second:0,millisecond:0},this.__value=e);let i=SciTime.timestamp(e),s=SciTime.timestamp(this.minValue),n=SciTime.timestamp(this.maxValue);if(null!==s&&i<s){Object.assign(e,this.minValue);let t=new CustomEvent("sci-overspin-down",{detail:{source:"limits"}});this.dispatchEvent(t)}if(null!==n&&i>n){Object.assign(e,this.maxValue);let t=new CustomEvent("sci-overspin-up",{detail:{source:"limits"}});this.dispatchEvent(t)}let l="";if(this.hours||!this.relative){let t=e.hour.toString();1===t.length&&(t="0"+t),l+=t+":"}let u=e.minute.toString();if(1===u.length&&(u="0"+u),l+=u,this.seconds){let t=e.second.toString();1===t.length&&(t="0"+t),l+=":"+t}if(this.seconds&&this.millis){let t=e.millisecond.toString();for(;t.length<3;)t="0"+t;l+="."+t}this._input.value=l,this._input.selectionStart=t,this._input.selectionEnd=t}__processSpinUp(){let e=this._input.selectionStart,t=this.__selectSpinningValue(e),i=!0;"hour"===t?i=this.__spinHourUp():"minute"===t?i=this.__spinMinuteUp():"second"===t?i=this.__spinSecondUp():"millisecond"===t&&(i=this.__spinMillisecondUp());let s=this.__afterSpin(t);if(!i||!s){let e=new CustomEvent("sci-overspin-up",{detail:{source:t}});this.dispatchEvent(e)}}__processSpinDown(){let e=this._input.selectionStart,t=this.__selectSpinningValue(e),i=!0;"hour"===t?i=this.__spinHourDown():"minute"===t?i=this.__spinMinuteDown():"second"===t?i=this.__spinSecondDown():"millisecond"===t&&(i=this.__spinMillisecondDown());let s=this.__afterSpin(t);if(!i||!s){let e=new CustomEvent("sci-overspin-down",{detail:{source:t}});this.dispatchEvent(e)}}__selectSpinningValue(e){return null===this.__value&&(this.__value={hour:0,minute:0,second:0,millisecond:0}),this.hours||!this.relative?e>=0&&e<=2?"hour":e>=3&&e<=5?"minute":e>=6&&e<=8&&this.seconds?"second":e>=9&&e<=12&&this.seconds&&this.millis?"millisecond":null:e>=0&&e<=2?"minute":e>=3&&e<=5?"second":e>=6&&e<=9&&this.seconds&&this.millis?"millisecond":void 0}__afterSpin(e){let t=this._input;this.__updateValue(),this.hours||!this.relative?"hour"===e?(t.selectionStart=0,t.selectionEnd=2):"minute"===e?(t.selectionStart=3,t.selectionEnd=5):"second"===e?(t.selectionStart=6,t.selectionEnd=8):"millisecond"===e&&(t.selectionStart=9,t.selectionEnd=12):"minute"===e?(t.selectionStart=0,t.selectionEnd=2):"second"===e?(t.selectionStart=3,t.selectionEnd=5):"millisecond"===e&&(t.selectionStart=6,t.selectionEnd=9),t.focus();let i=new Event("change",{});return this.dispatchEvent(i),!0}__spinMillisecondUp(){if(this.__value.millisecond++,this.__value.millisecond>999){if(!this.__spinSecondUp())return this.__value.millisecond=999,!1;this.__value.millisecond=0}return!0}__spinSecondUp(){if(this.__value.second++,this.__value.second>59){if(!this.__spinMinuteUp())return this.__value.second=59,!1;this.__value.second=0}return!0}__spinMinuteUp(){if(this.__value.minute++,this.__value.minute>59){if(!this.__spinHourUp())return this.__value.minute=59,!1;this.__value.minute=0}return!0}__spinHourUp(){return this.relative&&!this.hours?(this.__value.hour=0,!1):(this.__value.hour++,!(this.__value.hour>23&&!this.relative)||(this.__value.hour=23,!1))}__spinMillisecondDown(){if(this.__value.millisecond--,this.__value.millisecond<0){if(!this.__spinSecondDown())return this.__value.millisecond=0,!1;this.__value.millisecond=999}return!0}__spinSecondDown(){if(this.__value.second--,this.__value.second<0){if(!this.__spinMinuteDown())return this.__value.second=0,!1;this.__value.second=59}return!0}__spinMinuteDown(){if(this.__value.minute--,this.__value.minute<0){if(!this.__spinHourDown())return this.__value.minute=0,!1;this.__value.minute=59}return!0}__spinHourDown(){return this.__value.hour--,!(this.__value.hour<0)||(this.__value.hour=0,!1)}get defaultValue(){return this.__defaultValue}get hours(){return null!==this.getAttribute("hours")}set hours(e){e?this.setAttribute("hours",""):this.removeAttribute("hours")}get maxValue(){return this.__maxValue}set maxValue(e){let t={};if(null===e)return void(this.__maxValue=null);if("string"==typeof e)t=this.__parseTime(e);else{if("object"!=typeof e)throw new TypeError("sci-time: the time value was entered incorrectly");Object.assign(t,e)}let i=SciTime.timestamp(t),s=SciTime.timestamp(this.minValue);if(null!==s&&s>i)throw new TypeError("sci-time: maxValue shall not be lower than the minValue");this.__maxValue=t,this.__updateValue()}get millis(){return null!==this.getAttribute("millis")}set millis(e){e?this.setAttribute("millis",""):this.removeAttribute("millis")}get minValue(){return this.__minValue}set minValue(e){let t={};if(null===e)return void(this.__minValue=null);if("string"==typeof e)t=this.__parseTime(e);else{if("object"!=typeof e)throw new TypeError("sci-time: the time value was entered incorrectly");Object.assign(t,e)}let i=SciTime.timestamp(t),s=SciTime.timestamp(this.maxValue);if(null!==s&&s<i)throw new TypeError("sci-time: minValue can't be greater than the maxValue");this.__minValue=t,this.__updateValue()}get relative(){return this.__relative}get required(){return null!==this.getAttribute("required")}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get seconds(){let e=null!==this.getAttribute("seconds");return this.relative&&(e=!0),e}set seconds(e){e?this.setAttribute("seconds",""):this.removeAttribute("seconds")}get value(){this._input.errorMessage="";let e=this.__value;if(null===e&&this.required)throw this._input.errorMessage="Укажите время",new TypeError("sci-time: the time value was not entered by the user");return Object.assign(e)}set value(e){let t={};if(null===e)t=null;else if("string"==typeof e)t=this.__parseTime(e);else if("object"==typeof e&&e instanceof Date)t={hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()};else{if("object"!=typeof e)throw new TypeError("sci-time: error in setting value property");Object.assign(t,e),this.__checkTime(t)}let i=SciTime.timestamp(t),s=SciTime.timestamp(this.minValue),n=SciTime.timestamp(this.maxValue);if(null!==s&&s>i)throw new TypeError("sci-time: The value set is too small");if(null!==n&&n<i)throw new TypeError("sci-time: the value set is too large");this.__value=t,this.__updateValue()}getValue(e){let t=this.value;e.setHours(t.hour,t.minute,t.second,t.millisecond)}}SciTime.observedAttributes=["disabled","hours","label","maxvalue","millis","minvalue","seconds","width"],SciTime.timestamp=function(e){let t=null;return null!==e&&(t=3600*e.hour+60*e.minute+e.second+.001*e.millisecond),t},SciTime.template=null,SciTime.templateText="\n<style>\n</style>\n<div></div>\n\n",customElements.define("sci-time",SciTime);
class SciDatetime extends SciWidget{constructor(){super();let e=this;null===SciDatetime.template&&(SciDatetime.template=this._createTemplate(SciDatetime.templateText));let t=SciDatetime.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(t),this.__dateWidget=i.querySelector("sci-date"),this.__timeWidget=i.querySelector("sci-time"),this.__minValue=null,this.__maxValue=null,this.__value=null;let l=this.getAttribute("value");this.__defaultValue=l,null!==l&&(l=new Date(l),this.value=l),this.__dateWidget.addEventListener("change",(e=>{e.stopPropagation(),this.__updateState(),this.__updateTime();let t=new Event("change",e);this.dispatchEvent(t)})),this.__timeWidget.addEventListener("change",this.__updateState.bind(this)),this.__timeWidget.addEventListener("sci-overspin-down",(t=>{t.stopPropagation();let i=t.detail.source,l=this.__value;null!==l&&("millisecond"===i?(l.setMilliseconds(l.getMilliseconds()-1),e.__updateValue()):"second"===i?(l.setSeconds(l.getSeconds()-1),e.__updateValue()):"minute"===i?(l.setMinutes(l.getMinutes()-1),e.__updateValue()):"hour"===i&&(l.setHours(l.getHours()-1),e.__updateValue()))})),this.__timeWidget.addEventListener("sci-overspin-up",(t=>{t.stopPropagation();let i=t.detail.source,l=this.__value;null!==l&&("millisecond"===i?(l.setMilliseconds(l.getMilliseconds()+1),e.__updateValue()):"second"===i?(l.setSeconds(l.getSeconds()+1),e.__updateValue()):"minute"===i?(l.setMinutes(l.getMinutes()+1),e.__updateValue()):"hour"===i&&(l.setHours(l.getHours()+1),e.__updateValue()))}))}attributeChangedCallback(e,t,i){"label"===e?(this.__dateWidget.label="Дата "+i,this.__timeWidget.label="Время "+i):"seconds"===e?this.__timeWidget.seconds=null!==i:"millis"===e?this.__timeWidget.millis=null!==i:"inline"===e?null!==i?this.__dateWidget.setAttribute("inline",""):this.__dateWidget.removeAttribute("inline"):"maxvalue"===e?this.maxValue=i:"minvalue"===e?this.minValue=i:super.attributeChangedCallback(e,t,i)}__updateValue(){let e=this.minValue,t=this.__value,i=this.maxValue;this.__dateWidget.minValue=e,this.__dateWidget.maxValue=i,this.__checkMiniMax(e,t,i),t=this.__value,this.__dateWidget.value=t,this.__updateTime(e,t,i)}__updateTime(e,t,i){void 0===e&&(e=this.minValue,t=this.__value,i=this.maxValue,this.__checkMiniMax(e,t,i),t=this.__value),null===e?this.__timeWidget.minValue=null:null!==t&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()?this.__timeWidget.minValue={hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}:this.__timeWidget.minValue=null,null===i?this.__timeWidget.maxValue=null:null!==t&&t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()&&t.getDate()===i.getDate()?this.__timeWidget.maxValue={hour:i.getHours(),minute:i.getMinutes(),second:i.getSeconds(),millisecond:i.getMilliseconds()}:this.__timeWidget.maxValue=null,this.__timeWidget.value=t}__checkMiniMax(e,t,i){null!==t&&null!==e&&t.getTime()<e.getTime()&&(t=new Date(e),this.__value=t),null!==t&&null!==i&&t.getTime()>i.getTime()&&(t=new Date(i),this.__value=t)}__updateState(e=null){if(null!==e&&e.stopPropagation(),this.__value=this.__dateWidget.value,null!==this.__value&&this.__timeWidget.getValue(this.__value),null!==e){let t=new Event("change",e);this.dispatchEvent(t)}}_enableChildren(){this.__dateWidget.enable(),this.__timeWidget.enable()}_disableChildren(){this.__dateWidget.disable(),this.__timeWidget.disable()}get defaultValue(){return this.__defaultValue}get errorMessage(){return this.__dateWidget.errorMessage}set errorMessage(e){this.__dateWidget.errorMessage=e}get maxValue(){let e=this.__maxValue;return null!==e&&(e=new Date(e)),e}set maxValue(e){if(null===e)this.__maxValue=null;else{let t=this.minValue,i=new Date(e);if(null!==t&&t.getTime()>i.getTime())throw new TypeError("sci-datetime: maxValue shall not be lesser than the minValue");this.__maxValue=i}this.__updateValue()}get millis(){return null!==this.getAttribute("millis")}set millis(e){e?this.setAttribute("millis",""):this.removeAttribute("millis")}get minValue(){let e=this.__minValue;return null!==e&&(e=new Date(e)),e}set minValue(e){if(null===e)this.__minValue=null;else{let t=new Date(e),i=this.maxValue;if(null!==i&&i.getTime()<t.getTime())throw new TypeError("sci-datetime: minValue shall not be greater than the maxValue");this.__minValue=t}this.__updateValue()}get required(){return null!==this.getAttribute("required")}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get seconds(){return null!==this.getAttribute("seconds")}set seconds(e){e?this.setAttribute("seconds",""):this.removeAttribute("seconds")}get value(){let e=this.__value;if(null===e&&this.required)throw this.errorMessage="Пожалуйста, укажите дату и время",new TypeError("sci-datetime: the user doesn't entered required date and time");return e}set value(e){let t=e;if(null!==t){t=new Date(e);let i=this.minValue,l=this.maxValue;if(null!==i&&i.getTime()>t.getTime())throw new TypeError("sci-datetime: the value can't be lesser than the minValue");if(null!==l&&l.getTime()<t.getTime())throw new TypeError("sci-datetimeL the value can't be grater than the maxValue")}this.__value=t,this.__updateValue()}}SciDatetime.observedAttributes=["disabled","inline","label","maxvalue","millis","minvalue","seconds","width"],SciDatetime.template=null,SciDatetime.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}sci-date{display:inline-block;vertical-align:top;margin-right:5px}sci-time{display:inline-block;vertical-align:top}:host([inline]) sci-time{display:block;width:345px}@media screen and (max-width:700px){sci-date{display:block;margin-right:0}sci-time{display:block;width:345px}}@media screen and (max-width:400px){sci-time{width:290px}}\n</style>\n<sci-date></sci-date><sci-time></sci-time>\n\n",customElements.define("sci-datetime",SciDatetime);
class SciItem{constructor(e,t){this.__parent=e,this.__element=t}get defaultSelected(){return this.widget.defaultValue===this.value}get disabled(){return this.element.classList.contains("disabled")}set disabled(e){let t=this.element.classList;e&&!t.contains("disabled")&&t.add("disabled"),!e&&t.contains("disabled")&&t.remove("disabled")}get element(){return this.__element}get enabled(){return!this.disabled}set enabled(e){this.disabled=!e}get index(){let e;return null!==this.parent&&(e=this.parent.indexOf(this)),e}get parent(){return this.__parent}get selected(){return this.widget.value===this.value}set selected(e){e&&(this.widget.value=this.value),e||this.widget.value!==this.value||(this.widget.value=null)}get text(){return this.element.innerText.trim()}set text(e){this.element.innerText=e}get value(){return this.element.dataset.value}set value(e){this.element.dataset.value=e}get widget(){return this.parent?this.parent.parent:null}disable(){this.disabled=!0}enable(){this.enabled=!0}select(){this.selected=!0}}class SciSimpleItem extends SciItem{}SciSimpleItem.create=function(e,t){let n=document.createElement("li");return n.dataset.value=e,n.innerText=t,new SciSimpleItem(null,n)};class SciOptionalItem extends SciItem{}SciOptionalItem.create=function(e,t){let n=document.createElement("li");return n.dataset.value=e,n.classList.add("optional"),n.innerText=t,new SciOptionalItem(null,n)};class SciDoubleItem extends SciItem{constructor(e,t){super(e,t);let n=t.querySelectorAll("p");this.__textElement=n[0],this.__descriptionElement=n[1]}get description(){return this.__descriptionElement.innerText.trim()}set description(e){this.__descriptionElement.innerText=e}get text(){return this.__textElement.innerText.trim()}set text(e){this.__textElement.innerText=e}}SciDoubleItem.create=function(e,t,n){let i=document.createElement("li");i.dataset.value=e;let l=document.createElement("p");l.innerText=t,i.append(l);let s=document.createElement("p");return s.innerText=n,i.append(s),new SciDoubleItem(null,i)},SciItem.create=function(e,t){return 2===t.querySelectorAll("p").length?new SciDoubleItem(e,t):t.classList.contains("optional")?new SciOptionalItem(e,t):new SciSimpleItem(e,t)},SciItem.template=null,SciItem.templateText="\n<style>\n</style>\n<div></div>\n\n";
class SciItemList{constructor(e,t){this.__parent=e,this.__element=t,this.__children=[],this.__childItems={};let i=this,n=0;for(let e of t.querySelectorAll("li")){let t=SciItem.create(this,e),i=t.value;this.__children.push(t),this.__childItems[i]=t,t instanceof SciDoubleItem&&n++,Object.defineProperty(this,i,{configurable:!0,enumerable:!0,value:t,writable:!1})}this._doubleItems=n,this[Symbol.iterator]=function*(){for(let e of i.__children)yield e}}get _doubleItems(){return this.__doubleItems}set _doubleItems(e){this.__doubleItems=parseInt(e);let t=this.parent;this.__doubleItems>0&&!t.classList.contains("complex-list")&&t.classList.add("complex-list"),0===this.__doubleItems&&t.classList.contains("complex-list")&&t.classList.remove("complex-list")}get length(){return this.__children.length}get parent(){return this.__parent}get element(){return this.__element}add(e,t=null){if(!(e instanceof SciItem))throw new TypeError("sci-item-list: The item argument is given incorrectly");if(e.__parent=this,null===t)this.__children.push(e),this.element.append(e.element);else{let i,n;if("number"==typeof t&&t>=0&&t<this.length)i=t,n=this.__children[i];else{if(!(t instanceof SciItem))throw new TypeError("sci-item-list: The before argument is given incorrectly  in the add method");if(i=this.indexOf(t),n=t,-1===i)throw new TypeError("sci-item-list: add(): the item referred to in the before argument is not in this item list");this.element.insertBefore(e.element,n.element)}this.__children.splice(i,0,e),this.element.insertBefore(e.element,n.element)}this.__childItems[e.value]=e,Object.defineProperty(this,e.value,{configurable:!0,enumerable:!0,value:e,writable:!1}),e instanceof SciDoubleItem&&this._doubleItems++,"function"==typeof this.__parent._onChange&&this.__parent._onChange()}addItems(){let e=0;for(let t of arguments)t.__parent=this,this.__children.push(t),this.element.append(t.element),this.__childItems[t.value]=t,Object.defineProperty(this,t.value,{configurable:!0,enumerable:!0,value:t,writable:!1}),t instanceof SciDoubleItem&&e++;this._doubleItems+=e,"function"==typeof this.__parent._onChange&&this.__parent._onChange()}remove(e){let t,i;if("number"==typeof e&&e>=0&&e<this.length)t=e,i=this.__children[e];else{if(!(e instanceof SciItem))throw new TypeError("sci-item-list: bad argument to remove() function");if(t=this.indexOf(e),i=e,-1===t)throw new TypeError("sci-item-list: bad argument of remove() function")}this.__children.splice(t,1),delete this.__childItems[i.value],delete this[i.value],i.element.remove(),this.__parent.value===i.value&&(this.__parent.value=null),i instanceof SciDoubleItem&&this._doubleItems--,"function"==typeof this.__parent._onChange&&this.__parent._onChange()}indexOf(e){return this.__children.indexOf(e)}getItem(e){return this.__children[e]}sort(){this.__children.sort(((e,t)=>e.text<t.text?-1:e.text===t.text?0:e.text>t.text?1:void 0));for(let e of this.__children)this.element.append(e.element)}clear(){for(let e of this)delete this[e];this.__children=[],this.__childItems={},this.element.innerHTML="",this._doubleItems=0,this.__parent.value=null,"function"==typeof this.__parent._onChange&&this.__parent._onChange()}}SciItemList.template=null,SciItemList.templateText="\n<style>\n</style>\n<div></div>\n\n";
class SciTree extends SciScrollable{constructor(){super();let e=this;null===SciTree.template&&(SciTree.template=this._createTemplate(SciTree.templateText));let t=this.attachShadow({mode:"open"}),l=SciTree.template.content.cloneNode(!0);function i(t){t.stopPropagation(),t.preventDefault();let l=t.detail;e.updateHeight();let i=new CustomEvent(t.type,{detail:l,bubbles:!0});e.dispatchEvent(i)}function o(t){t.stopPropagation(),t.preventDefault();let l=new CustomEvent(t.type,{detail:t.detail,bubbles:!0});e.dispatchEvent(l)}t.append(l),this._implementScroll(),this.__root=t.querySelector("sci-tree-node"),this.__root.value="root",this.__root.parentTree=this,this.__selectable=!0,this.__customEditBox=null,this.__customDeleteBox=null,this.__defaultValue=this.getAttribute("value"),null===this.getAttribute("multiple")&&(this.__value=this.__defaultValue,this.__updateValue()),t.addEventListener("sci-tree-select",(function(t){t.stopPropagation(),t.preventDefault();let l=t.detail,i=!1;if(e.multiple||e.value!==l||(i=!0),i)return void t.stopImmediatePropagation();e.value=l;let o=new CustomEvent("sci-tree-select",{detail:l,bubbles:!0});e.dispatchEvent(o)})),t.addEventListener("sci-tree-compact",i),t.addEventListener("sci-tree-expand",i),t.addEventListener("sci-tree-edit-start",o),t.addEventListener("sci-tree-edit-cancel",o),t.addEventListener("sci-tree-edit-finish",o),t.addEventListener("sci-tree-delete",(t=>{t.stopPropagation(),t.preventDefault();let l=t.detail;t.target.remove(),e.updateHeight();let i=new CustomEvent("sci-tree-delete",{detail:l,bubbles:!0});e.dispatchEvent(i)}))}attributeChangedCallback(e,t,l){if("label"===e)this.root.label=l;else if("multiple"===e)null!==l?null===this.__defaultValue?this.__value=new Set:this.__value=new Set([this.__defaultValue]):this.__value=this.__defaultValue,this.__updateValue();else if("selectable"===e||"non-selectable"===e||"branch-non-selectable"===e||"tree-non-selectable"===e||"expandable"===e||"non-editable"===e||"non-deletable"===e||"no-lines"===e)this.__updateValue();else if("compacted"===e){if(null!==l)for(let e of this.iterate(!0))e.compact()}else if("expanded"===e){if(null!==l)for(let e of this.iterate(!0))e.expand()}else if("hide-root"===e){let e=null!==l,t=this.root.classList;e&&!t.contains("sci-hide-root")&&t.add("sci-hide-root"),!e&&t.contains("sci-hide-root")&&t.remove("sci-hide-root")}else super.attributeChangedCallback(e,t,l)}__updateValue(){let e=this.multiple,t=this.selectable,l=this.branchNonSelectable,i=this.treeNonSelectable,o=this.expandable,a=this.nonEditable,s=this.nonDeletable,n=this.noLines,r=!0,d=!1;for(let o of[this.root,...this.iterate(!0)]){let a=this.__updateNonInheritedProperties(o,t,d,e,r,l,i);d=a.warned,r=a.nothingSelected}this.__updateInheritedProperties(e,r,t,o,a,s,n)}__updateNonInheritedProperties(e,t,l,i,o,a,s){let n=e.value,r=e.classList,d=t;return n||!t||l||(console.warn("sci-tree: Forgot to set value property for some of the sci-tree-node - item selection way work incorrectly"),l=!0),i&&this.__value.has(n)?e.select():i||this.__value!==n?e.unselect():(e.select(),o=!1),i&&!r.contains("sci-multiple")&&r.add("sci-multiple"),!i&&r.contains("sci-multiple")&&r.remove("sci-multiple"),a&&e.length>0&&(d=!1),s&&e.root&&(d=!1),e.selectable=d,{warned:l,nothingSelected:o}}__updateInheritedProperties(e,t,l,i,o,a,s){!e&&t&&(this.__value=null),l||(this.__value=null),this.root.__updatable=!1,this.root.expandable=i,this.root.editable=!o,this.root.deletable=!a,this.root.lines=!s,this.root.__updatable=!0,this.root.__updateValue()}_disableChildren(){this.__root.disable(),this.__root.__updateDisabled()}_enableChildren(){this.__root.enable(),this.__root.__updateDisabled()}get branchNonSelectable(){return null!==this.getAttribute("branch-non-selectable")}set branchNonSelectable(e){e?this.setAttribute("branch-non-selectable",""):this.removeAttribute("branch-non-selectable")}get customDeleteBox(){return this.__customDeleteBox}set customDeleteBox(e){this.__customDeleteBox=e;for(let t of this.iterate(!0))t.__customDeleteBox=e}get customEditBox(){return this.__customEditBox}set customEditBox(e){this.__customEditBox=e;for(let t of[this.root,...this.iterate(!0)])t.__customEditBox=e}get defaultValue(){return this.__defaultValue}get expandable(){return null!==this.getAttribute("expandable")}set expandable(e){e?this.setAttribute("expandable",""):this.removeAttribute("expandable")}get length(){let e=0;for(let t of this.iterate(!0))e++;return e}get multiple(){return null!==this.getAttribute("multiple")}set multiple(e){e?this.setAttribute("multiple",""):this.removeAttribute("multiple")}get nonDeletable(){return null!==this.getAttribute("non-deletable")}set nonDeletable(e){e?this.setAttribute("non-deletable",""):this.removeAttribute("non-deletable")}get nonEditable(){return null!==this.getAttribute("non-editable")}set nonEditable(e){e?this.setAttribute("non-editable",""):this.removeAttribute("non-editable")}get noLines(){return null!==this.getAttribute("no-lines")}set noLines(e){e?this.setAttribute("no-lines",""):this.removeAttribute("no-lines")}get root(){return this.__root}get selectable(){let e=!0;return e=null!==this.getAttribute("selectable")||null===this.getAttribute("non-selectable")&&this.__selectable,e}set selectable(e){this.__selectable=e,this.__updateValue()}get treeNonSelectable(){return null!==this.getAttribute("tree-non-selectable")}set treeNonSelectable(e){e?this.setAttribute("tree-non-selectable",""):this.removeAttribute("tree-non-selectable")}get value(){let e=this.__value;return this.multiple&&(e=new Set(e)),e}set value(e){if(this.multiple)if(null===e)this.__value=new Set;else if("string"==typeof e)this.__value.has(e)?this.__value.delete(e):this.__value.add(e);else if(e instanceof Set)this.__value=new Set(e);else{if(!(e instanceof Array))throw new TypeError("sci-tree: the value property accepts only null, string, sets or arrays when multiple is true");this.__value=new Set(e)}else if(null===e)this.__value=null;else{if("string"!=typeof e)throw new TypeError("sci-tree: the value property accepts only null or strings when multiple is false");this.__value=e}this.__updateValue()}$(e){return this.root.$(e)}addValue(e){this.multiple?this.__value.add(e):this.__value=e,this.__updateValue()}iterate(e=!1){return this.root.iterate(e)}removeValue(e){this.multiple?(this.__value.delete(e),this.__updateValue()):this.__value===e&&(this.__value=null,this.__updateValue())}}SciTree.observedAttributes=["branch-non-selectable","compacted","disabled","editable","expandable","expanded","height","hide-root","label","multiple","non-editable","non-expandable","non-selectable","no-lines","selectable","tree-non-selectable","width"],SciTree.template=null,SciTree.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}\n</style>\n<sci-tree-node label=\"WARNING. Please, define the label property of your sci-tree\" class=sci-root><slot></slot></sci-tree-node>\n\n",customElements.define("sci-tree",SciTree);
class SciLivesearch extends SciExpandableWidget{constructor(){super();let e=this;if(null===SciLivesearch.template){let e=document.createElement("template");e.innerHTML=SciLivesearch.templateText,SciLivesearch.template=e}let t=SciLivesearch.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(t),this.__input=i.querySelector("sci-input");i.querySelector(".hamburger");this.__focused=!1,this.__onUpdate=null,this.__defaultValue=this.getAttribute("value"),null===this.__defaultValue&&(this.__defaultValue=""),this.__value=this.__defaultValue,this.input.value=this.__defaultValue,this.__id=null,this.__validators={},this._implementExpansion(),this.input.addEventListener("focus",(t=>{e.__openCondition()&&e.open(),e.__focused=!0})),this.input.addEventListener("blur",(t=>{e.close(),e.__focused=!1})),this.content.addEventListener("mousedown",(e=>{e.preventDefault()})),this.content.addEventListener("click",(t=>{let i=t.target.closest("li");if(null!==i&&!e.noAutofill&&!i.classList.contains("disabled")&&e.enabled){e.close();let l=i.dataset.value;if(l){e.__id=l,e.input.value=e.__value=e.items[l].text;let i=new Event("change",t);e.dispatchEvent(i)}else e.__id=null}null!==i&&i.classList.contains("disabled")&&(t.stopPropagation(),t.preventDefault())})),this.input.ready=!0,this.input.checkFunc=t=>t===e.__value,this.input.updateFunc=t=>e.__livesearch(t,!0),this.input.addEventListener("input",(t=>{e.__id=null})),this.updateItems()}attributeChangedCallback(e,t,i){"label"===e?this.input.label=i:"align"===e?this.input.align=i:"placeholder"===e?this.input.placeholder=i:"position"===e?this.input.position=i:super.attributeChangedCallback(e,t,i)}__livesearch(e,t){let i=this;if(null===this.onUpdate)throw new TypeError("sci-livesearch: Please, set the value to onUpdate property: the value shall return some promise");this.input.ready=!1,this.__value=e;let l=null;return e.length>0?l=this.onUpdate.call(this,e).then((e=>{if(e instanceof Array){i.items.clear();let t=[];for(let i of e){let e=null;e="string"==typeof i.description?SciDoubleItem.create(i.value,i.text,i.description):i.optional?SciOptionalItem.create(i.value,i.text):SciSimpleItem.create(i.value,i.text),t.push(e)}i.items.addItems.apply(i.items,t)}else if(e instanceof SciItemList){let t=i.querySelector("ul");null!==t&&t.remove(),i.append(e.element),i.__items=e,i._adjustOpen()}})):(this.items.clear(),this.close(),l=Promise.resolve()),l.then((()=>{t&&(i.__openCondition()?i.open():i.close());let e=new CustomEvent("change",{});i.dispatchEvent(e),i.input.ready=!0})).catch((e=>{throw i.items.clear(),i.close(),i.input.ready=!0,e}))}__openCondition(){let e=!0;return 0===this.items.length&&(e=!1),1===this.items.length&&this.items.getItem(0).text===this.input.value&&(e=!1),e}get _openOnClick(){return!1}_onChange(){this._adjustOpen()}_enableChildren(){this.input.enable()}_disableChildren(){this.input.disable()}get align(){let e=this.getAttribute("align");return null===e&&(e="left"),e}set align(e){this.setAttribute("align",e)}get errorMessage(){return this.input.errorMessage}set errorMessage(e){this.input.errorMessage=e}get focused(){return this.__focused}get id(){return this.__id}set id(e){this.__id=e}get input(){return this.__input}get items(){return this.__items}get noAutofill(){return null!==this.getAttribute("no-autofill")}set noAutofill(e){e?this.setAttribute("no-autofill",""):this.removeAttribute("no-autofill")}get onUpdate(){return this.__onUpdate}set onUpdate(e){if("function"!=typeof e)throw new TypeError("sci-livesearch: the onUpdate property accepts only functions");this.__onUpdate=e}get placeholder(){return this.getAttribute("placeholder")}set placeholder(e){this.setAttribute("placeholder",e)}get position(){let e=this.getAttribute("position");return e||(e="top"),e}set position(e){this.setAttribute("position",e)}get required(){return null!==this.getAttribute("required")}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get text(){return this.value}set text(e){this.__value=e,this.input.value=e}get value(){this.errorMessage="";let e=this.__value;for(let t of Reflect.ownKeys(this.__validators))if("symbol"==typeof t){let i=this.__validators[t].checker,l=this.__validators[t].message;if(!i(e))throw this.errorMessage=l,new TypeError("sci-livesearch: the input value entered by the user is not validated")}if(null===this.id&&this.required)throw this.errorMessage="Пожалуйста, выберите нужную опцию из списка",new TypeError("sci-livesearch: the input entered by the user is not correct");return e}set value(e){}addValidator(e,t){let i=Symbol("validator");if(e instanceof RegExp){let t=e;e=e=>null!==e.match(t)}return this.__validators[i]={checker:e,message:t},i}removeValidator(e){delete this.__validators[e]}search(e,t=!0){this.input.value=e,this.__livesearch(e,t)}updateItems(){let e=this.querySelector("ul");null===e&&(e=document.createElement("ul"),this.append(e)),this.__items=new SciItemList(this,e),this._adjustOpen()}}SciLivesearch.observedAttributes=["align","disabled","label","placeholder","position","width"],SciLivesearch.template=null,SciLivesearch.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host .hamburger{border-bottom:none;cursor:default}:host sci-input{margin-top:0;margin-bottom:0}:host .content{margin-top:-1px}\n</style>\n<div class=immediate-wrapper><div class=hamburger><sci-input livesearch autocomplete=off></sci-input><div class=content><slot></slot></div></div></div>\n\n",customElements.define("sci-livesearch",SciLivesearch);
class SciTreeNode extends SciWidget{constructor(){super();let e=this;null===SciTreeNode.template&&(SciTreeNode.template=this._createTemplate(SciTreeNode.templateText));let t=this.attachShadow({mode:"open"}),i=SciTreeNode.template.content.cloneNode(!0);function l(t){t.stopPropagation(),t.preventDefault(),e.label=e.__editBox.value,e.editing=!1;let i=new CustomEvent("sci-tree-edit-finish",{detail:e.value,bubbles:!0});e.dispatchEvent(i)}function s(t){t.stopPropagation(),t.preventDefault(),e.editing=!1;let i=new CustomEvent("sci-tree-edit-cancel",{detail:e.value,bubbles:!0});e.dispatchEvent(i)}t.append(i),this.__labelElement=t.querySelector("label"),this.__parentTree=null,this.__selectable=!0,this.__expandable=!1,this.__updatable=!1,this.__editable=!0,this.__deletable=!0,this.__disabled=!1,this.__lines=!0,this.__editButton=t.querySelector("#btn-edit"),this.__deleteButton=t.querySelector("#btn-delete"),this.__editBox=t.querySelector("#edit-ctrl"),this.__okButton=t.querySelector("#btn-ok"),this.__cancelButton=t.querySelector("#btn-cancel"),this.__customEditBox=null,this.__customDeleteBox=null,this.__updateValue(),t.querySelector("label").addEventListener("click",(t=>{let i=e.selectable;if(t.stopPropagation(),t.preventDefault(),!i||e.disabled)return;let l=new CustomEvent("sci-tree-select",{detail:e.value,bubbles:!0});e.dispatchEvent(l)})),t.querySelector(".expand").addEventListener("click",(t=>{let i;t.stopPropagation(),t.preventDefault();let l={detail:e.value,bubbles:!0};e.compacted?(e.compacted=!1,i=new CustomEvent("sci-tree-expand",l)):(e.compacted=!0,i=new CustomEvent("sci-tree-compact",l)),e.dispatchEvent(i)})),this.__editButton.addEventListener("click",(t=>{t.stopPropagation(),t.preventDefault(),e.edit()})),this.__okButton.addEventListener("click",l),this.__cancelButton.addEventListener("click",s),this.__editBox.addEventListener("keydown",(e=>{"Enter"===e.key&&l(e),"Escape"===e.key&&s(e)})),this.__deleteButton.addEventListener("click",(t=>{let i;t.stopPropagation(),t.preventDefault(),i=e.__customDeleteBox?e.__customDeleteBox(e.value,e.label):Promise.resolve(),i.then((()=>{let t=new CustomEvent("sci-tree-delete",{detail:e.value,bubbles:!0});e.dispatchEvent(t)})).catch((()=>{}))}))}attributeChangedCallback(e,t,i){"selectable"===e||"non-selectable"===e||"expandable"===e||"non-expandable"===e||"editable"===e||"non-editable"===e||"deletable"===e||"non-deletable"===e||"disabled"===e||"enabled"===e||"lines"===e||"no-lines"===e?this.__updateValue():super.attributeChangedCallback(e,t,i)}__updateValue(){if(!this.__updatable)return!1;this.__updateEmpty(),this.__updateSelectable(),this.__updateExpandable(),this.__updateEditable(),this.__updateDeletable(),this.__updateDisabled(),this.__updateLines(),this.__updateChildren()}__updateEmpty(){let e=0===this.length,t=this.classList;e&&!t.contains("sci-empty")&&t.add("sci-empty"),!e&&t.contains("sci-empty")&&t.remove("sci-empty")}__updateSelectable(){let e=this.selectable,t=this.classList;e&&t.contains("sci-non-selectable")&&t.remove("sci-non-selectable"),e||t.contains("sci-non-selectable")||t.add("sci-non-selectable")}__updateExpandable(){let e=this.expandable,t=this.classList;e&&!t.contains("sci-expandable")&&t.add("sci-expandable"),!e&&t.contains("sci-expandable")&&t.remove("sci-expandable")}__updateEditable(){let e=this.editable,t=this.classList;e&&t.contains("sci-non-editable")&&t.remove("sci-non-editable"),e||t.contains("sci-non-editable")||t.add("sci-non-editable")}__updateDeletable(){let e=this.deletable,t=this.classList;e&&t.contains("sci-non-deletable")&&t.remove("sci-non-deletable"),e||t.contains("sci-non-deletable")||t.add("sci-non-deletable")}__updateDisabled(){let e=this.disabled,t=this.classList;e&&!t.contains("sci-disabled")&&t.add("sci-disabled"),!e&&t.contains("sci-disabled")&&t.remove("sci-disabled")}__updateLines(){let e=this.lines,t=this.classList;e&&t.contains("sci-no-vr-line")&&t.remove("sci-no-vr-line"),e||t.contains("sci-no-vr-line")||t.add("sci-no-vr-line"),this.__lines&&t.contains("sci-no-hr-line")&&t.remove("sci-no-hr-line"),this.__lines||t.contains("sci-no-hr-line")||t.add("sci-no-hr-line")}__updateChildren(){let e=this.expandable,t=this.editable,i=this.deletable,l=this.disabled,s=this.lines,n=null;for(n of this.iterate())n.__updatable=!0,n.__expandable=e,n.__editable=t,n.__deletable=i,n.__disabled=l,n.__lines=s,n.__updateValue()}get childTreeNodes(){let e;return e=this.root?this.parentTree.children:this.children,e}get compacted(){return this.classList.contains("sci-compact")}set compacted(e){let t=this.classList;!e&&t.contains("sci-compact")&&t.remove("sci-compact"),e&&!t.contains("sci-compact")&&t.add("sci-compact")}get deletable(){let e;return e=null!==this.getAttribute("deletable")||null===this.getAttribute("non-deletable")&&this.__deletable,e}set deletable(e){this.__deletable=e,this.__updatable&&(this.__updateDeletable(),this.__updateChildren())}get deleteButton(){let e=null;return this.root||(e=this.__deleteButton),e}get disabled(){let e=!1;return e=null!==this.getAttribute("disabled")||null===this.getAttribute("enabled")&&this.__disabled,e}set disabled(e){e?this.disable():this.enable()}get editable(){let e;return e=null!==this.getAttribute("editable")||null===this.getAttribute("non-editable")&&this.__editable,e}set editable(e){this.__editable=!!e,this.root.__editable&&(this.__updateEditable(),this.__updateChildren())}get enabled(){let e=!0;return e=null===this.getAttribute("disabled")&&(null!==this.getAttribute("enabled")||!this.__disabled),e}set enabled(e){e?this.enable():this.disable()}get editButton(){return this.__editButton}get editing(){return this.classList.contains("sci-editing")}set editing(e){let t=this.classList;if(e&&!t.contains("sci-editable")){t.add("sci-editable"),this.__editBox.value=this.label;let e=this.label.length;e>30&&(e=30),this.__editBox.size=e,this.__editBox.select(),this.__editBox.focus()}!e&&t.contains("sci-editable")&&t.remove("sci-editable")}get expandable(){let e;return e=null!==this.getAttribute("expandable")||null===this.getAttribute("non-expandable")&&this.__expandable,e}set expandable(e){this.__expandable=!!e,this.root.__updatable&&(this.__updateExpandable(),this.__updateChildren())}get length(){return this.childTreeNodes.length}get lines(){let e;return e=null!==this.getAttribute("lines")||null===this.getAttribute("no-lines")&&this.__lines,e}set lines(e){e?(this.setAttribute("lines",""),this.removeAttribute("no-lines")):(this.setAttribute("no-lines",""),this.removeAttribute("lines")),this.__updatable&&(this.__updateLines(),this.__updateChildren())}get parentTree(){let e;return e=null!==this.__parentTree?this.__parentTree:this.parentElement,e}set parentTree(e){this.__parentTree=e}get root(){return this.classList.contains("sci-root")}get selectable(){let e=!0;return e=null!==this.getAttribute("selectable")||null===this.getAttribute("non-selectable")&&this.__selectable,e}set selectable(e){this.__selectable=!!e,this.__updateSelectable()}get selected(){return this.classList.contains("sci-selected")}set selected(e){e&&!this.classList.contains("sci-selected")&&this.classList.add("sci-selected"),!e&&this.classList.contains("sci-selected")&&this.classList.remove("sci-selected")}get value(){return this.getAttribute("value")}set value(e){null!==e?this.setAttribute("value",e):this.removeAttribute("value")}$(e){let t=null;return t=this.root?this.parentTree:this,t.querySelector(`[value="${e}"]`)}compact(){this.compacted=!0}disable(){this.setAttribute("disabled",""),this.removeAttribute("enabled"),this.__updateDisabled()}edit(){if(null===this.__customEditBox){this.editing=!0;let e=new CustomEvent("sci-tree-edit-start",{detail:this.value,bubbles:!0});this.dispatchEvent(e)}else{let e=new CustomEvent("sci-tree-edit-start",{detail:this.value,bubbles:!0});this.dispatchEvent(e),this.__customEditBox(this.value,this.label).then((e=>{this.label=e;let t=new CustomEvent("sci-tree-edit-finish",{detail:this.value,bubbles:!0});this.dispatchEvent(t)})).catch((e=>{let t=new CustomEvent("sci-tree-edit-cancel",{detail:this.value,bubbles:!0});this.dispatchEvent(t)}))}}enable(){this.setAttribute("enabled",""),this.removeAttribute("disabled"),this.__updateDisabled()}expand(){this.compacted=!1}iterate(e=!1){let t=this;return function*(){for(let i of t.childTreeNodes)if(yield i,e)for(let e of i.iterate(!0))yield e}()}select(){this.selected=!0}unselect(){this.selected=!1}}SciTreeNode.observedAttributes=["deletable","disabled","editable","enabled","expandable","label","lines","non-deletable","non-editable","non-expandable","non-selectable","no-lines","selectable"],SciTreeNode.template=null,SciTreeNode.templateText='\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:\'Futura PT\',\'Helvetica Neue\',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:\'\';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{position:relative;font-size:0;margin:0}.expand{display:none}.node-header{display:inline-block;position:relative}.node-header .hr{position:absolute;left:-9px;top:9px;width:7px;height:0;border-top:1px dotted #333}.mask{display:none}:host(:last-child) .mask{display:block;position:absolute;left:-10px;top:10px;width:8px;bottom:0;background:#fff}:host(.sci-root) .mask{display:none}label{display:inline-block;vertical-align:top;cursor:pointer;margin:0;padding:0 5px 0 0;line-height:18px;color:#333;font-size:14px}:host(.sci-selected) label{color:#1758da;cursor:default}:host(.sci-non-selectable.sci-selected) label{color:#333}.node-header:hover label{color:#1758da}:host(.sci-multiple) .node-header:hover label{cursor:pointer}.controls{display:none;vertical-align:top;margin-top:4px;padding-right:5px;cursor:pointer}.controls svg{width:10px;height:10px;fill:#333}.node-header:hover .controls{display:inline-block}.controls:last-child{padding-right:0}.controls:hover svg{fill:#1758da}.node-content{position:relative;padding-left:18px}.node-content .vr{position:absolute;left:9px;top:2px;width:0;bottom:9px;border-left:1px dotted #333}.node-content .hr{position:absolute;left:0;top:0;bottom:9px;width:7px;height:0;border-top:1px dotted #333}:host(.sci-root) #btn-delete{display:none}:host(.sci-non-selectable) label{cursor:default}:host(.sci-non-selectable) .node-header:hover label{color:#333}:host(.sci-expandable) .node-header .expand{display:block;position:absolute;width:10px;height:10px;left:-14px;top:4px;background:#fff;cursor:pointer;border:1px solid #333}.expand svg{display:block;width:8px;height:8px;margin-top:1px;margin-left:1px;fill:#333}:host(.sci-expandable.sci-empty) .node-header .expand{display:none}:host(.sci-expandable) .node-header .expand #btn-plus{display:none}:host(.sci-expandable) .node-header .expand #btn-minus{display:block}:host(.sci-expandable.sci-compact) .node-header .expand #btn-plus{display:block}:host(.sci-expandable.sci-compact) .node-header .expand #btn-minus{display:none}:host(.sci-expandable.sci-compact) .node-content{display:none}.edit-box{display:none}.edit-box #edit-ctrl{height:18px;padding:0;font-size:14px;border:none;outline:0;border-bottom:1px solid #bac4d1;line-height:18px}.edit-box #edit-ctrl:focus{border-bottom:1px solid #333}.edit-box .controls{display:inline-block}:host(.sci-editable) .node-header{display:none}:host(.sci-editable) .edit-box{display:block}:host(.sci-non-editable) #btn-edit{display:none}:host(.sci-non-deletable) #btn-delete{display:none}:host(.sci-disabled) label{cursor:default;color:#bac4d1}:host(.sci-disabled) .node-header:hover .controls{display:none}:host(.sci-no-hr-line) .hr{display:none}:host(.sci-no-vr-line) .vr{display:none}:host(.sci-root.sci-hide-root) .node-header{display:none}\n</style>\n<div class=mask></div><div class=node-header><div class=hr></div><div class=expand><svg vxmlns=http://www.w3.org/2000/svg viewBox="0 0 1000 1000" id=btn-plus><path d=M990,500c0,56.3-45.6,101.9-101.9,101.9H601.9v286.2c0,56.3-45.6,101.9-101.9,101.9c-56.3,0-101.9-45.6-101.9-101.9V601.9H111.9C55.6,601.9,10,556.3,10,500c0-56.3,45.6-101.9,101.9-101.9h286.2V111.9C398.1,55.6,443.7,10,500,10c56.3,0,101.9,45.6,101.9,101.9v286.2h286.2C944.4,398.1,990,443.7,990,500z /></svg> <svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 124 124" id=btn-minus><path d=M112,50H12C5.4,50,0,55.4,0,62c0,6.6,5.4,12,12,12h100c6.6,0,12-5.4,12-12C124,55.4,118.6,50,112,50z /></svg></div><label>WARNING!!! Please, define the label of your sci-tree-node</label><slot id=btn-edit class=controls name=btn-edit><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 383.947 383.947"><polygon points="0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893"/><path d="M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04 C386.027,77.92,386.027,64.373,377.707,56.053z"/></svg></slot><slot id=btn-delete class=controls name=btn-delete name=btn-delete><svg viewBox="0 0 512.001 512.001" xmlns=http://www.w3.org/2000/svg><path d="m512.001 84.853-84.853-84.853-171.147 171.147-171.148-171.147-84.853 84.853 171.148 171.147-171.148 171.148 84.853 84.853 171.148-171.147 171.147 171.147 84.853-84.853-171.148-171.148z"/></svg></slot></div><div class=edit-box><input id=edit-ctrl><slot id=btn-ok class=controls name=btn-ok><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 352.62 352.62"><path d="M337.222,22.952c-15.912-8.568-33.66,7.956-44.064,17.748c-23.867,23.256-44.063,50.184-66.708,74.664 c-25.092,26.928-48.348,53.856-74.052,80.173c-14.688,14.688-30.6,30.6-40.392,48.96c-22.032-21.421-41.004-44.677-65.484-63.648 c-17.748-13.464-47.124-23.256-46.512,9.18c1.224,42.229,38.556,87.517,66.096,116.28c11.628,12.24,26.928,25.092,44.676,25.704 c21.42,1.224,43.452-24.48,56.304-38.556c22.645-24.48,41.005-52.021,61.812-77.112c26.928-33.048,54.468-65.485,80.784-99.145 C326.206,96.392,378.226,44.983,337.222,22.952z M26.937,187.581c-0.612,0-1.224,0-2.448,0.611 c-2.448-0.611-4.284-1.224-6.732-2.448l0,0C19.593,184.52,22.653,185.132,26.937,187.581z"/></svg></slot><slot id=btn-cancel class=controls name=btn-cancel><svg viewBox="0 0 512.001 512.001" xmlns=http://www.w3.org/2000/svg><path d="m512.001 84.853-84.853-84.853-171.147 171.147-171.148-171.147-84.853 84.853 171.148 171.147-171.148 171.148 84.853 84.853 171.148-171.147 171.147 171.147 84.853-84.853-171.148-171.148z"/></svg></slot></div><div class=node-content><div class=vr></div><slot id=node-content></slot></div>\n\n',customElements.define("sci-tree-node",SciTreeNode);
class SciComboBox extends SciExpandableWidget{constructor(){super();let e=this;null===SciComboBox.template&&(SciComboBox.template=this._createTemplate(SciComboBox.templateText));let t=this.attachShadow({mode:"open"}),i=SciComboBox.template.content.cloneNode(!0);t.append(i),this._implementExpansion(),this.__defaultValue=null,this.getAttribute("value")&&(this.__defaultValue=this.getAttribute("value")),this.updateItems(),this.value=this.defaultValue,this.__preventDefault=null!==this.getAttribute("prevent-default"),this.content.addEventListener("click",(t=>{let i=t.target.closest("li");if(null!==i&&!this.__preventDefault&&!i.classList.contains("disabled")){e.value=i.dataset.value,e.close();let o=new Event("change",t);e.dispatchEvent(o)}null!==i&&i.classList.contains("disabled")&&(t.stopPropagation(),t.preventDefault())}))}get _autoadjustOpen(){return!0}_onChange(){this._adjustOpen()}get defaultValue(){return this.__defaultValue}get items(){return this.__items}get required(){return null!==this.getAttribute("required")}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get selectedIndex(){let e=this.value,t=this.items[e];return this.items.indexOf(t)}get value(){this.errorMessage="";let e=this.__value;if(null===e&&this.required)throw this.errorMessage="Пожалуйста, выберите нужное значение",new TypeError("sci-combo-box: The value is not selected by user");return e}set value(e){let t=null;null!==e?(t=this.items[e],null==t?(e=null,this.text=""):this.text=t.text):this.text="",this.__value=e}updateItems(){this.__items=new SciItemList(this,this.querySelector("ul")),this._adjustOpen()}}SciComboBox.observedAttributes=["label","opened","width"],SciComboBox.template=null,SciComboBox.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host([inline]) .hamburger{border-bottom:1px solid #333}:host([inline]) .hamburger svg{display:block}:host([inline]) .hamburger .text{display:block}:host([inline]) .content{display:none;position:absolute;border:1px solid #333;box-shadow:0 10px 10px -5px #aaa}\n</style>\n<div class=content><slot></slot></div>\n\n",customElements.define("sci-combo-box",SciComboBox);
class SciListBox extends SciScrollable{constructor(){super();let e=this;null===SciListBox.template&&(SciListBox.template=this._createTemplate(SciListBox.templateText));let t=this.attachShadow({mode:"open"}),i=SciListBox.template.content.cloneNode(!0);t.append(i),this._implementScroll(),this.updateItems(),this.multiple?this.__value=new Set:this.__value=null,this.__defaultValue=this.getAttribute("value"),this.multiple||(this.value=this.__defaultValue),this.__updateValue(),t.querySelector(".content").addEventListener("click",(t=>{let i=t.target.closest("li");if(null!==i&&!i.classList.contains("disabled")&&e.enabled){e.errorMessage="",e.value=i.dataset.value;let t=new Event("change",{});e.dispatchEvent(t)}}))}attributeChangedCallback(e,t,i){"multiple"===e?this.value=this.defaultValue:"height"===e?(super.attributeChangedCallback("height",t,i),this.updateHeight()):super.attributeChangedCallback(e,t,i)}_onChange(){this.updateHeight()}__updateValue(){let e=!0;this.multiple&&(e=!1);for(let t of this.items){let i=t.element.classList;i.remove("selected"),this.multiple||null===this.__value||this.__value!==t.value||(i.add("selected"),e=!1),this.multiple&&this.__value instanceof Set&&this.__value.has(t.value)&&i.add("selected")}e&&(this.__value=null)}get defaultValue(){return this.__defaultValue}set errorMessage(e){super.errorMessage=e,e&&!this.classList.contains("error")&&this.classList.add("error"),!e&&this.classList.contains("error")&&this.classList.remove("error")}get items(){return this.__items}get multiple(){return null!==this.getAttribute("multiple")}set multiple(e){e?this.setAttribute("multiple",""):this.removeAttribute("multiple")}get required(){let e=this.getAttribute("required"),t=this.multiple;return t&&null!==e&&(e=parseInt(e),e>0||(e=0)),t&&null===e&&(e=0),t||(e=null!==e),e}set required(e){let t=e;if(this.multiple)t=parseInt(t),t>0||(t=0),t=t.toString();else{if(!e)return void this.removeAttribute("required");t=""}this.setAttribute("required",t)}get value(){this.errorMessage="";let e=this.__value;e instanceof Set&&(e=new Set(e));let t=this.multiple,i=this.required;if(t&&e.size<i)throw this.errorMessage=`Пожалуйста, выберите не менее ${i} вариантов`,new TypeError("sci-list-box: the user's choice is not validated");if(!t&&i&&null===e)throw this.errorMessage="Пожалуйста, выберите нужную опцию",new TypeError("sci-list-box: the user's choice is not validated");return e}set value(e){if(this.multiple&&e instanceof Set)this.__value=new Set(e);else if(this.multiple&&"string"==typeof e)this.__value.has(e)?this.__value.delete(e):this.__value.add(e);else if(this.multiple&&e instanceof Array)this.__value=new Set(e);else if(this.multiple&&null===e)this.__value=new Set;else{if(this.multiple||null!==e&&"string"!=typeof e)throw new TypeError("sci-list-box: can't assign value to this widget");this.__value=e}this.__updateValue()}updateItems(){let e=this.querySelector("ul");this.__items=new SciItemList(this,e),this.updateHeight()}}SciListBox.observedAttributes=["disabled","height","multiple","width"],SciListBox.template=null,SciListBox.templateText="\n<style>\n</style>\n<slot></slot>\n\n",customElements.define("sci-list-box",SciListBox);
class SciPhotoUpload extends SciWidget{constructor(){super();let e=this;null===SciPhotoUpload.template&&(SciPhotoUpload.template=this._createTemplate(SciPhotoUpload.templateText));let t=SciPhotoUpload.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(t),this.__img=i.getElementById("img"),this.__uploader=i.querySelector("sci-upload"),this.__url=null;let l=null;this.__uploading=!1,this.__queueUrl=null,this.__uploader.addEventListener("sci-upload-start",(t=>{let i=t.detail;l=this.url,this.url=URL.createObjectURL(i),this.__uploading=!0;let o=new CustomEvent("sci-upload-start",{bubbles:!0,detail:i});e.dispatchEvent(o)})),this.__uploader.addEventListener("sci-upload-success",(t=>{this.__uploading=!1,l=null;let i=t.detail,o=this.url;this.url=i,URL.revokeObjectURL(o),null!==this.__queueUrl&&(this.url=this.__queueUrl,this.__queueUrl=null);let a=new CustomEvent("sci-upload-success",{bubbles:!0,detail:i});e.dispatchEvent(a)})),this.__uploader.addEventListener("sci-upload-failed",(t=>{this.__uploading=!1;let i=this.url,o=t.detail;URL.revokeObjectURL(i),this.url=l,null!==this.__queueUrl&&(this.url=this.__queueUrl,this.__queueUrl=null);let a=new CustomEvent("sci-upload-failed",{bubbles:!0,detail:o});e.dispatchEvent(a)})),this.__uploader.addEventListener("sci-remove-start",(t=>{let i=new CustomEvent("sci-remove-start",{bubbles:!0,detail:t.detail});e.dispatchEvent(i)})),this.__uploader.addEventListener("sci-remove-success",(t=>{this.url=null;let i=new CustomEvent("sci-remove-success",{bubbles:!0,detail:t.detail});e.dispatchEvent(i)})),this.__uploader.addEventListener("sci-remove-failed",(t=>{let i=new CustomEvent("sci-remove-failed",{bubbles:!0,detail:t.detail});e.dispatchEvent(i)})),this.updateWidth()}attributeChangedCallback(e,t,i){if("aspect"===e){if(null!==i){if(!(parseFloat(i)>0))throw new TypeError("sci-photo-upload: the aspect attribute can't have value below zero or not a number")}this.updateWidth()}else"width"===e||"height"===e?(super.attributeChangedCallback(e,t,i),this.updateWidth()):"placeholder"===e?this.url=this.url:super.attributeChangedCallback(e,t,i)}_enableChildren(){this.__uploader.enable()}_disableChildren(){this.__uploader.disable()}get aspect(){let e=this.getAttribute("aspect"),t=0;return t=null===e?1.5:parseFloat(e),t}set aspect(e){this.setAttribute("aspect",e.toString())}get errorMessage(){return super.errorMessage}set errorMessage(e){super.errorMessage=e,this.updateWidth()}get onUpload(){return this.__uploader.onUpload}set onUpload(e){this.__uploader.onUpload=e}get onRemove(){return this.__uploader.onRemove}set onRemove(e){this.__uploader.onRemove=e}get placeholder(){return this.getAttribute("placeholder")}set placeholder(e){null!==e?this.setAttribute("placeholder",e):this.removeAttribute("placeholder")}get url(){return this.__url}set url(e){this.__url=e,this.__uploading?this.__queueUrl=e:(null===e&&(e=this.placeholder),this.__img.style.backgroundImage=null!==e?`url(${e})`:null)}get value(){return this.__uploader.value}set value(e){this.url=e}load(){this.__uploader.load()}remove(){this.__uploader.remove()}updateWidth(){let e=this.clientHeight-10-this.__uploader.clientHeight;this.errorMessage&&(e-=this.shadowRoot.querySelector(".error-message").clientHeight);let t=e/this.aspect;this.__img.style.width=t+"px",this.__img.style.height=e+"px"}}SciPhotoUpload.observedAttributes=["aspect","disabled","height","placeholder","width"],SciPhotoUpload.template=null,SciPhotoUpload.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{height:300px;width:200px}#img{margin:0 auto;background-color:transparent;background-size:contain;background-repeat:no-repeat;background-position:50%}#upload-wrapper{text-align:center}sci-upload{display:inline-block;margin-bottom:0}.error-message{text-align:center}\n</style>\n<div id=img></div><div id=upload-wrapper><sci-upload no-label no-status-bar accept=image/*></sci-upload></div><div class=error-message></div>\n\n",customElements.define("sci-photo-upload",SciPhotoUpload);
class SciProgressBar extends SciWindow{constructor(){super(),null===SciProgressBar.template&&(SciProgressBar.template=this._createTemplate(SciProgressBar.templateText));let e=SciProgressBar.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(e),this._initializeWindow(),this.__value=null,this.__progressBar=i.querySelector(".pb-in-progress")}get value(){return this.__value}set value(e){if(this.__value=e,"number"==typeof e)this.open(),this.__progressBar.classList.contains("undefined")&&this.__progressBar.classList.remove("undefined"),this.__progressBar.style.width=Math.round(100*e)+"%";else if(void 0===e)this.open(),this.__progressBar.classList.contains("undefined")||this.__progressBar.classList.add("undefined"),this.__progressBar.style.width=null;else{if(null!==e)throw new TypeError("sci-progress-bar: attempt to set the incorrect value");this.close()}}}SciProgressBar.observedAttributes=["disabled","label"],SciProgressBar.template=null,SciProgressBar.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{margin:0}.window-overlapper{z-index:100}.window{position:relative;width:300px;height:108px;box-sizing:border-box;border-radius:5px;padding:36px 15px;box-shadow:0 0 15px 0 #333}label{text-align:center;color:#333}.pb-line{height:14px;border-radius:7px;border:1px solid #fff;box-shadow:inset 0 0 10px 0 #333;background:#bac4d1;overflow:hidden}.pb-in-progress{width:50%;height:100%;border-radius:7px;background-image:radial-gradient(ellipse closest-corner at center,transparent,transparent 50%,rgba(255,255,255,.15)),linear-gradient(to right,#1758da,#86bdc7);box-shadow:5px 0 5px 0 #555}@keyframes pb-in-progress-undefined{from{margin-left:0}to{margin-left:-100%}}.pb-in-progress.undefined{width:200%;background-image:linear-gradient(to right,#1758da 0,#86bdc7 25%,#1758da 50%,#86bdc7 75%,#1758da 100%);animation:2s linear 0s infinite normal none running pb-in-progress-undefined}:host([inline]){margin:10px none}:host([inline]) .window-overlapper{display:block;position:static}:host([inline]) .window-background{display:none}:host([inline]) .window:before{content:none;display:none}:host([inline]) .window{display:block;position:static;text-align:left;box-shadow:none;width:auto;height:auto;padding:0}:host([inline]) label{text-align:left;margin-left:5px}:host([inline]) .pb-line{width:300px}\n</style>\n<label>WARNING! ADD SHORT DESCRIPTION</label><div class=pb-line><div class=pb-in-progress></div></div>\n\n",customElements.define("sci-progress-bar",SciProgressBar);
class SciUpload extends SciWidget{constructor(){super();let e=this;null===SciUpload.template&&(SciUpload.template=this._createTemplate(SciUpload.templateText));let t=SciUpload.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(t),this.__fileInfo=i.querySelector("#file-info"),this.__loadBox=i.querySelector("#load"),this.__removeBox=i.querySelector("#remove"),this.__input=i.querySelector("input"),this.__value=null,this.__url=null,this.__updateValue(),this.__loadBox.addEventListener("click",(t=>{e.load()})),this.__removeBox.addEventListener("click",(t=>{e.remove()})),this.__input.addEventListener("change",(t=>{e.__startLoad()})),this.__upload=null,this.__remove=null}attributeChangedCallback(e,t,i){if("multiple"===e)this.__input.multiple=null!==i;else if("accept"===e)null!==i?this.__input.setAttribute("accept",i):this.__input.removeAttribute("accept");else if("no-status-bar"===e)this.__fileInfo.style.display=null!==i?"none":null;else if("no-label"===e){let e=this.shadowRoot.querySelector("label");e.style.display=null!==i?"none":null}else super.attributeChangedCallback(e,t,i)}__updateValue(){let e=this.__fileInfo.classList;"string"==typeof this.__value?(e.contains("not-selected")||e.add("not-selected"),this.__loadBox.enable(),this.__removeBox.enable(),this.__fileInfo.innerText="Файл успешно загружен"):null!==this.__value?(e.contains("not-selected")&&e.remove("not-selected"),this.__loadBox.enable(),this.__removeBox.enable(),this.multiple?this.__fileInfo.innerText=`${this.__value.length} файл(ов) выбрано`:this.__fileInfo.innerText=this.__value.name):(e.contains("not-selected")||e.add("not-selected"),this.__loadBox.enable(),this.__removeBox.disable(),this.__fileInfo.innerText="Файл не выбран")}_enableChildren(){this.__updateValue()}_disableChildren(){this.__loadBox.disable(),this.__removeBox.disable()}get accept(){return this.getAttribute("accept")}set accept(e){null!==e?this.setAttribute("accept",e):this.removeAttribute("accept")}get multiple(){return null!==this.getAttribute("multiple")}set multiple(e){e?this.setAttribute("multiple",""):this.removeAttribute("multiple")}get onRemove(){return this.__remove}set onRemove(e){if("function"!=typeof e)throw new TypeError("sci-upload: The value of the onRemove property must be string");this.__remove=e}get onUpload(){return this.__upload}set onUpload(e){if("function"!=typeof e)throw new TypeError("sci-upload: The value of the onUpload property must be string");this.__upload=e}get required(){return null!==this.getAttribute("required")}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get url(){return this.__url}set url(e){this.__url=e.toString()}get value(){if(this.errorMessage="",this.required&&null===this.__value)throw this.errorMessage="Пожалуйста, сначала загрузите файл",new TypeError("sci-upload: no file was uploaded by the user");return this.__value}set value(e){this.__value="",this.__updateValue()}load(){this.__input.click()}remove(){this.__fileInfo.innerText="Удаление...";let e=new CustomEvent("sci-remove-start",{bubbles:!0,detail:this.__value});if(this.dispatchEvent(e),null===this.onRemove)throw new TypeError("sci-remove: Please, set the onRemove property");this.onRemove(this.__value).then((()=>{this.__value=null,this.__url=null,this.__updateValue();let e=new CustomEvent("sci-remove-success",{bubbles:!0,detail:null});this.dispatchEvent(e)})).catch((e=>{this.__updateValue();let t=new CustomEvent("sci-remove-failed",{bubbles:!0,detail:e});this.dispatchEvent(t)}))}__startLoad(){let e=this.__input.files;e=this.multiple?[...e]:e[0],this.__fileInfo.innerText="Загрузка...",this.__input.value="";let t=new CustomEvent("sci-upload-start",{bubbles:!0,detail:e});if(this.dispatchEvent(t),null===this.onUpload)throw new TypeError("sci-upload: Please, set the onUpload property");this.onUpload(e).then((t=>{t||(t=null),this.__url=t,this.__value=e,this.__updateValue();let i=new CustomEvent("sci-upload-success",{bubbles:!0,detail:this.url});this.dispatchEvent(i)})).catch((e=>{this.__updateValue();let t=new CustomEvent("sci-upload-failed",{bubbles:!0,detail:e});this.dispatchEvent(t)}))}}SciUpload.observedAttributes=["accept","disabled","label","multiple","no-label","no-status-bar","width"],SciUpload.template=null,SciUpload.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}.controls{display:inline-block}#file-info{display:inline-block;margin:0 10px 0 0;padding:0;color:#333}:host([disabled]) #file-info{color:#bac4d1}#file-info.not-selected{font-style:italic}#load{display:inline-block;margin:0 10px 0 0;padding:0}#remove{display:inline-block;margin:0;padding:0}input{display:none}\n</style>\n<label>WARNING! The widget label is not given</label><div class=row><p id=file-info class=not-selected>Файл не выбран<div class=controls><sci-link-button id=load label=Загрузить></sci-link-button><sci-link-button id=remove label=Удалить disabled></sci-link-button></div></div><div class=error-message></div><input type=file>\n\n",customElements.define("sci-upload",SciUpload);
class SciTextArea extends SciEditor{constructor(){super(),SciTextArea.template||(SciTextArea.template=this._createTemplate(SciTextArea.templateText));let e=SciTextArea.template.content.cloneNode(!0),t=this.attachShadow({mode:"open"});t.append(e),t.querySelector("textarea").addEventListener("change",(e=>{e.stopPropagation();let t=new Event("change",e);this.dispatchEvent(t)}))}attributeChangedCallback(e,t,o){"maxlength"===e?null!==o?this.shadowRoot.querySelector("textarea").setAttribute("maxlength",o):this.shadowRoot.querySelector("textarea").removeAttribute("maxlength"):"minlength"===e?null!==o?this.shadowRoot.querySelector("textarea").setAttribute("minlength",o):this.shadowRoot.querySelector("textarea").removeAttribute("minlength"):"placeholder"===e?null!==o?this.shadowRoot.querySelector("textarea").setAttribute("placeholder",o):this.shadowRoot.querySelector("textarea").removeAttribute("placeholder"):"readonly"===e?null!==o?this.shadowRoot.querySelector("textarea").setAttribute("readonly",""):this.shadowRoot.querySelector("textarea").removeAttribute("readonly"):"tab-index"===e?null!==o?this.shadowRoot.querySelector("textarea").setAttribute("tabindex",o):this.shadowRoot.querySelector("textarea").removeAttribute("tabindex"):super.attributeChangedCallback(e,t,o)}get rawValue(){return this.shadowRoot.querySelector("textarea").value}get selectionStart(){return this.shadowRoot.querySelector("textarea").selectionStart}set selectionStart(e){this.shadowRoot.querySelector("textarea").selectionStart=parseInt(e)}get selectionEnd(){return this.shadowRoot.querySelector("textarea").selectionEnd}set selectionEnd(e){this.shadowRoot.querySelector("textarea").selectionEnd=parseInt(e)}get value(){this.errorMessage=null;let e=this.shadowRoot.querySelector("textarea").value;if(e.length<this.minLength)throw this.errorMessage=`Пожалуйста, укажите не менее ${this.minLength} символов`,new TypeError("The value entered by the user is not correct");if(e.length>this.maxLength)throw this.errorMessage=`Пожалуйста, укажите не более ${this.maxLength} символов`,new TypeError("The value entered by the user is not correct");return e}set value(e){null===e&&(e=""),this.shadowRoot.querySelector("textarea").value=e}blur(){this.shadowRoot.querySelector("textarea").blur()}click(){this.shadowRoot.querySelector("textarea").click()}focus(){this.shadowRoot.querySelector("textarea").focus()}select(){this.shadowRoot.querySelector("textarea").focus()}setSelectionRange(e,t){this.shadowRoot.querySelector("textarea").setSelectionRange(e,t)}_enableChildren(){this.shadowRoot.querySelector("textarea").disabled=!1}_disableChildren(){this.shadowRoot.querySelector("textarea").disabled=!0}}SciTextArea.observedAttributes=["label","value","position","align","disabled","height","maxlength","minlength","placeholder","readonly","tab-index","width"],SciTextArea.template=null,SciTextArea.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{height:200px}:host(.align-right) textarea{text-align:right}:host(.align-center) textarea{text-align:center}label{margin-bottom:5px}.textarea-wrapper{margin-right:21px;margin-left:-1px;margin-top:-1px;height:calc(100% - 20px)}textarea{background:#fff;display:block;width:100%;padding:10px 10px;margin-bottom:-4px;height:calc(100% - 20px);border:1px solid #aaaab2;resize:none}textarea:focus{outline:0;border-color:#333}textarea[disabled]{color:#bac4d1}:host(.position-left) label{vertical-align:top;width:150px}:host(.position-left) .textarea-wrapper{vertical-align:top;width:150px}.error-message{margin-top:2px}\n</style>\n<label>WARNING: &lt;sci-input&gt; tag has been passed without label attribute. Please, insert this attribute</label><div class=\"textarea-wrapper immediate-wrapper\"><textarea></textarea></div><div class=error-message></div>\n\n",customElements.define("sci-textarea",SciTextArea);
class SciSpin extends SciSpinInput{constructor(){super();let e=this,t=this.getAttribute("value");null!==t&&(t=parseFloat(t)),this.__defaultValue=t,this.__value=this.__defaultValue,this.__minValue=-1/0,this.__step=1,this.__maxValue=1/0,this.__updateChildren(),this.addEventListener("sci-spin-up",(t=>{"sci-spin"===t.detail||e.readOnly||(t.stopImmediatePropagation(),t.preventDefault(),e.stepUp(1),["change","sci-spin-up"].forEach((t=>{let i=new CustomEvent(t,{bubbles:!0,detail:"sci-spin"});e.dispatchEvent(i)})))})),this.addEventListener("sci-spin-down",(t=>{"sci-spin"===t.detail||e.readOnly||(t.stopImmediatePropagation(),t.preventDefault(),e.stepDown(1),["change","sci-spin-down"].forEach((t=>{let i=new CustomEvent(t,{bubbles:!0,detail:"sci-spin"});e.dispatchEvent(i)})))})),this._input.addEventListener("change",(t=>{if("sci-spin"===t.detail||e.readOnly)return;t.stopImmediatePropagation(),t.preventDefault();let i=parseFloat(e._input.value);if(isNaN(i))i=null;else{i<this.__minValue&&(i=this.__minValue),i>this.__maxValue&&(i=this.__maxValue);let e=this.__minValue;e===-1/0&&(e=0),i=e+Math.round((i-e)/this.__step)*this.__step,this.value=i}let s=new CustomEvent("change",{bubbles:!0,detail:"sci-spin"});e.dispatchEvent(s)})),this._input.addEventListener("keydown",(t=>{let i=["change"];"ArrowDown"===t.key&&(i.push("sci-spin-down"),this.stepDown(1)),"ArrowUp"===t.key&&(i.push("sci-spin-up"),this.stepUp(1)),i.forEach((t=>{let i=new CustomEvent(t,{bubbles:!0,detail:"sci-spin"});e.dispatchEvent(i)}))}))}attributeChangedCallback(e,t,i){"max"===e?this.maxValue=i:"min"===e?this.minValue=i:"step"===e?this.step=i:"placeholder"===e?this._input.placeholder=i:"readonly"===e?this._input.readOnly=null!==i:"align"===e?this._input.align=i:super.attributeChangedCallback(e,t,i)}__updateChildren(){isNaN(this.__value)&&(this.__value=null),this.__value<this.__minValue&&(this.__value=this.__minValue),this.__value>this.__maxValue&&(this.__value=this.__maxValue),null!==this.__value?this._input.value=this.__value.toString():this._input.value=""}get align(){return this.getAttribute("align")}set align(e){null!==e?this.setAttribute("align",e):this.removeAttribute("align")}get defaultValue(){return this.__defaultValue}get maxValue(){return this.__maxValue}set maxValue(e){this.__maxValue=parseFloat(e)}get minValue(){return this.__minValue}set minValue(e){this.__minValue=parseFloat(e)}get placeholder(){return this.getAttribute("placeholder")}set placeholder(e){e?this.setAttribute("placeholder",e):this.removeAttribute("placeholder")}get readOnly(){return null!==this.getAttribute("readonly")}set readOnly(e){e?this.setAttribute("readonly",""):this.removeAttribute("readonly")}get required(){return null!==this.getAttribute("required")}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get step(){return this.__step}set step(e){this.__step=parseFloat(e)}get value(){this.errorMessage="";let e=this.__value;if(null===e&&this.required)throw this.errorMessage="Вы не заполнили поле",new TypeError("sci-spin: the value was not set by the user");return e}set value(e){this.__value=parseFloat(e),this.__updateChildren()}get wrap(){return null!==this.getAttribute("wrap")}set wrap(e){e?this.setAttribute("wrap",""):this.removeAttribute("wrap")}stepDown(e){let t=this.__value;null===t&&this.__maxValue===1/0?t=0:null===t||t>this.__maxValue?t=this.__maxValue:(t-=this.__step*e,t<this.__minValue&&(t=this.wrap?this.__maxValue:this.__minValue)),this.value=t}stepUp(e){let t=this.__value;null===t&&this.__minValue===-1/0?t=0:t<this.__minValue||null===t?t=this.__minValue:(t+=this.__step*e,t>this.__maxValue&&(t=this.wrap?this.__minValue:this.__maxValue)),this.value=t}}SciSpin.observedAttributes=["align","disabled","label","max","min","placeholder","readonly","step","width"],SciSpin.template=null,SciSpin.templateText="\n<style>\n</style>\n<div></div>\n\n",customElements.define("sci-spin",SciSpin);
class SciListInputItem extends SciDraggable{constructor(){super();let t=this;null===SciListInputItem.template&&(SciListInputItem.template=this._createTemplate(SciListInputItem.templateText));let e=SciListInputItem.template.content.cloneNode(!0),o=this.attachShadow({mode:"open"});o.append(e),this.__value=null,this.__updateValue=null,o.querySelector(".edit").addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault();let o=new CustomEvent("sci-edit-item",{bubbles:!0,detail:t});t.dispatchEvent(o)})),o.querySelector(".delete").addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault();let o=new CustomEvent("sci-delete-item",{bubbles:!0,detail:t});t.dispatchEvent(o)})),this._implementDragging();let i=["mousedown","touchstart"];for(let t of i)for(let e of o.querySelectorAll(".controls"))e.addEventListener(t,(t=>t.stopPropagation()))}get error(){return null!==this.getAttribute("error")}set error(t){t?this.setAttribute("error",""):this.removeAttribute("error")}get localRect(){let t=this.getBoundingClientRect(),e=this.parentElement.getBoundingClientRect();return{top:t.top-e.top,bottom:e.bottom-t.bottom,height:t.height,left:t.left-e.left,right:e.right-t.right,width:t.width}}get selected(){return null!==this.getAttribute("selected")}set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected")}get updateValue(){return this.__updateValue}set updateValue(t){if(null!==t&&"function"!=typeof t)throw new TypeError("sci-list-input-item: updateValue must be function");this.__updateValue=t}get value(){return this.__value}set value(t){this.__value=t,null!==this.__updateValue&&null!==t&&this.__updateValue(t)}}SciListInputItem.observedAttributes=["disabled","label"],SciListInputItem.template=null,SciListInputItem.templateText='\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:\'Futura PT\',\'Helvetica Neue\',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:\'\';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{display:inline-block;border:1px solid #1758da;border-radius:5px;margin:0 3px 2px 0;padding:0 5px 0 10px;background:#fff;font-size:0;cursor:move}:host([selected]){background:#1758da}:host([error]){background:#eb4146;border-color:#eb4146}label{display:inline-block;margin:3px 10px 3px 0;max-width:300px;font-size:14px;cursor:move;text-overflow:ellipsis}:host([error]) label,:host([selected]) label{color:#fff}.controls{display:inline-block;width:11px;height:11px;vertical-align:top;margin-top:5px;margin-right:5px;fill:#1758da;stroke:#1758da;cursor:pointer}:host([error]) .controls,:host([selected]) .controls{fill:#fff;stroke:#fff}.controls:last-child{margin-right:0}:host([disabled]){border-color:#bac4d1;background:#fff;cursor:default}:host([disabled]) label{color:#bac4d1;cursor:default}:host([disabled]) .controls{fill:#bac4d1;stroke:#bac4d1;cursor:default}\n</style>\n<label>WARNING!!! PLEASE, INSERT THE ELEMENT LABEL</label><div class="controls edit"><svg version=1.1 xmlns=http://www.w3.org/2000/svg viewBox="0 0 383.947 383.947" xml:space=preserve><g><polygon points="0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893"/><path d="M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04\n\t\t\t\t\tC386.027,77.92,386.027,64.373,377.707,56.053z"/></g></svg></div><div class="controls delete"><svg viewBox="0 0 329.26933 329" xmlns=http://www.w3.org/2000/svg><path d="m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0"/></svg></div>\n\n',customElements.define("sci-list-input-item",SciListInputItem);
class SciListInput extends SciExpandableWidget{constructor(){super();let e=this;null===SciListInput.template&&(SciListInput.template=document.createElement("template"),SciListInput.template.innerHTML=SciListInput.templateText);let t=SciListInput.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(t),this.__inputWrapper=i.querySelector(".input-wrapper"),this.__input=i.querySelector("input"),this.__input.addEventListener("focus",(t=>{e.classList.contains("sci-focus")||e.classList.add("sci-focus")})),["mousedown","touchstart"].forEach((t=>{i.querySelector(".content").addEventListener(t,(t=>{t.preventDefault();let i=t.target.closest("li.sci-list-input-livesearch-item"),s=parseInt(i.dataset.index),l=e.__predefinedValues[s];e.appendItem(l),e.__input.value="",e.__livesearchString="",e.__predefinedValues=[],e.__selectedIndex=-1,e.close()}))})),this.__input.addEventListener("blur",(t=>{e.classList.contains("sci-focus")&&e.classList.remove("sci-focus"),""!==e.__input.value&&e.__isAddOnBlur&&e.addUserItem()})),this.__input.addEventListener("keydown",(t=>{if("Backspace"===t.key&&0===e.__input.value.length){let t=e.elements,i=t[t.length-1];void 0!==i&&e.deleteItem(i)}})),this.__input.addEventListener("keyup",(t=>{if("Shift"!==t.key&&"Control"!==t.key&&"Alt"!==t.key&&!e.disabled)if(e.errorMessage=null,","===t.key||-1!==e.__input.value.indexOf(",")||"Enter"===t.key&&-1===e.__selectedIndex)e.addUserItem().then((()=>{e.__input.focus()}));else if("ArrowDown"===t.key&&-1!==e.__selectedIndex){let i=e.shadowRoot.querySelector(".content ul").children,s=i[e.__selectedIndex];if(void 0!==s&&e.__selectedIndex<i.length-1){s.classList.contains("selected")&&s.classList.remove("selected");let t=i[++e.__selectedIndex];t.classList.contains("selected")||t.classList.add("selected")}t.preventDefault()}else if("ArrowUp"===t.key&&-1!==e.__selectedIndex){let i=e.shadowRoot.querySelector(".content ul").children,s=i[e.__selectedIndex];if(void 0!==s&&e.__selectedIndex>0){s.classList.contains("selected")&&s.classList.remove("selected");let t=i[--e.__selectedIndex];t.classList.contains("selected")||t.classList.add("selected")}t.preventDefault();let l=e.__input.value.length;e.__input.selectionStart=e.__input.selectionEnd=l}else if("Enter"===t.key&&-1!==e.__selectedIndex){let t=e.__selectedIndex,i=e.__predefinedValues[t];void 0!==i&&(e.appendItem(i),e.__input.value="",e.__livesearchString="",e.__predefinedValues=[],e.__selectedIndex=-1,e.close())}})),window.addEventListener("resize",(t=>{e.updateSize()})),this.addEventListener("sci-delete-item",(t=>{t.target instanceof SciListInputItem&&(t.stopPropagation(),e.deleteItem(t.target))})),this.addEventListener("sci-edit-item",(t=>{t.target instanceof SciListInputItem&&(t.stopPropagation(),e.editItem(t.target))})),this.updateSize(),this.__updateItem=null,this.__onItemAdd=null,this.__isAddOnBlur=!0,this.__ready=!0,this.__livesearchString="",this.__onLivesearch=null,this.__selectedIndex=-1,this.__predefinedValues=[],this._implementExpansion(),this.__input.addEventListener("input",(function t(i){let s=e.__input.value;""===s&&e.close(),""!==s&&null!==e.onLivesearch&&e.__ready&&(e.__ready=!1,e.__livesearchString=s,e.onLivesearch(e.__livesearchString).then((e=>(e instanceof Array||(e=[]),e))).catch((t=>(e.errorMessage=t,[]))).then((s=>{""!==e.__input.value&&e.__putResult(s),e.__ready=!0,e.__livesearchString!==e.__input.value&&t(i)})))})),this.__editBox=this.querySelector("[slot='edit-dialog']"),this.__placeholder=null,this.addEventListener("sci-drag-start",(e=>{this.__createPlaceholder(),this.__putPlaceholder(e.target,"left"),this.updateSize()})),this.addEventListener("sci-drag-move",(e=>{let t=this.__elementFromPoint(e.target,e.detail.x,e.detail.y);null!==t?this.__putPlaceholder(t.element,t.side):this.__removePlaceholder(),this.updateSize()})),this.addEventListener("sci-drag-end",(e=>{this.__placeholder.parentElement===this&&this.insertBefore(e.target,this.__placeholder),this.__removePlaceholder(),this.updateSize()})),this.addEventListener("sci-drag-cancel",(e=>{this.__removePlaceholder(),this.updateSize()}))}__putResult(e){let t=0;this.__predefinedValues=[];let i=document.createElement("ul");for(let s of e){this.__predefinedValues.push(s.value);let e=document.createElement("li");if(e.classList.add("sci-list-input-livesearch-item"),0===t&&e.classList.add("selected"),e.innerHTML=s.html,e.dataset.index=t.toString(),i.append(e),++t,t>=3)break}let s=this.shadowRoot.querySelector(".content");s.innerHTML="",s.append(i),0===t?this.close():this.open(),0===e.length?this.__selectedIndex=-1:this.__selectedIndex=0}__elementFromPoint(e,t,i){let s,l=null,n=1/0;for(let o of this.elements){let a=o.getBoundingClientRect();if(i>=a.top&&i<=a.bottom&&o!==e){let e=Math.abs(t-a.left),i=Math.abs(t-a.right);e<n&&(l=o,s="left",n=e),i<n&&(l=o,s="right",n=i)}}return null!==l?{element:l,side:s}:null}__createPlaceholder(){null===this.__placeholder&&(this.__placeholder=document.createElement("div"),this.__placeholder.classList.add("sci-placeholder"))}__putPlaceholder(e,t){if("left"===t&&this.insertBefore(this.__placeholder,e),"right"===t){let t=e.nextElementSibling;null!==t?this.insertBefore(this.__placeholder,t):this.appendChild(this.__placeholder)}}__removePlaceholder(){this.__placeholder.remove()}attributeChangedCallback(e,t,i){"width"===e?(super.attributeChangedCallback(e,t,i),this.updateSize()):super.attributeChangedCallback(e,t,i)}_enableChildren(){for(let e of this.elements)e.enable();this.__input.disabled=!1}_disableChildren(){for(let e of this.elements)e.disable();this.__input.disabled=!0}get _autoadjustOpen(){return!1}get _openOnClick(){return!1}get editBox(){return this.__editBox}get elements(){return this.getElementsByTagName("sci-list-input-item")}get firstElement(){let e=this.elements[0];return void 0===e&&(e=null),e}get lastElement(){let e,t=this.elements,i=t.length;return e=i>0?t[i-1]:null,e}get onItemAdd(){return this.__onItemAdd}set onItemAdd(e){if(null!==e&&"function"!=typeof e)throw new TypeError("sci-list-input: the onItemAdd property shall contain string");this.__onItemAdd=e}get onLivesearch(){return this.__onLivesearch}set onLivesearch(e){if(null!==e&&"function"!=typeof e)throw new TypeError("sci-list-input: the onLivesearch property shall contain string");this.__onLivesearch=e}get updateItem(){return this.__updateItem}set updateItem(e){if(null!==e&&"function"!=typeof e)throw new TypeError("sci-list-input: incorrect value is assigning to the updateItem property");this.__updateItem=e}get value(){this.errorMessage=null;let e=[];for(let t of this.elements){if(t.error)throw this.errorMessage="Некоторые элементы списка указаны с ошибками, они подсвечены красным. Пожалуйста, исправьте ошибки, нажав на кнопку с карандашом справа от ошибочных элементов",new TypeError("sci-list-input: incorrectly filled values");e.push(t.value)}return e}set value(e){if(!(e instanceof Array))throw new TypeError("sci-list-input: the value must be array of objects");for(;this.elements>0;)this.elements[0].remove();for(let t of e)this.appendItem(t)}addUserItem(e=null){let t,i=this;return i.__isAddOnBlur=!1,null===e&&(e=this.__input.value.split(",")[0].trim()),this.__input.value=e,t=null===this.onItemAdd?Promise.resolve({name:e}):this.onItemAdd(e),t.then((e=>{i.__input.value="",i.appendItem(e)})).catch((e=>{!1===e?i.__input.value="":this.errorMessage=e})).then((()=>{i.__isAddOnBlur=!0,i.close()}))}appendItem(e){this.insertAdjacentHTML("beforeend","<sci-list-input-item></sci-list-input-item>");let t=this.lastElement;t.updateValue=this.updateItem,t.value=e,this.updateSize();let i=new CustomEvent("sci-add-item",{bubbles:!0,detail:t});this.dispatchEvent(i)}deleteItem(e){e.remove(),this.updateSize();let t=new CustomEvent("sci-delete-item",{bubbles:!0,detail:e});this.dispatchEvent(t)}editItem(e){this.__editBox instanceof SciDialog&&this.__editBox.openModal(e.value).then((t=>{e.value=t,this.updateSize();let i=new CustomEvent("sci-edit-item",{bubbles:!0,detail:e});this.dispatchEvent(i)})).catch((()=>{}))}updateSize(){let e,t,i,s=this.lastElement;null===s?e=!0:(t=s.localRect.right-parseInt(window.getComputedStyle(s).marginRight),e=t<300),i=e?"100%":t+"px",this.__inputWrapper.style.width=i}}SciListInput.observedAttributes=["disabled","label","width"],SciListInput.template=null,SciListInput.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}.immediate-wrapper{border-bottom:1px solid #bac4d1;font-size:0}:host(.sci-focus) .immediate-wrapper{border-bottom-color:#333}.input-wrapper{display:inline-block;width:300px;margin-bottom:2px}input{border:none;width:100%;margin:0 -5px 0 0;padding:0;outline:0;font-size:14px;height:24px}:host .hamburger{border:none}:host .hamburger .content{border-color:#1758da}:host .content ul{margin:0;padding:0;list-style-type:none}:host .content li{padding:5px;border-bottom:1px solid #1758da;font-size:14px;cursor:pointer}:host .content li:last-child{border-bottom:none}:host .content li.selected{background:#1758da;color:#fff}:host .content p{margin:0;padding:0}\n</style>\n<label>WARNING!!! PLEASE, INSERT THE ELEMENT LABEL</label><div class=immediate-wrapper><div class=hamburger><slot class=items></slot><div class=input-wrapper><input></div><div class=content></div></div></div><div class=error-message></div><slot name=add-dialog class=add-dialog></slot><slot name=edit-dialog class=edit-dialog></slot>\n\n",customElements.define("sci-list-input",SciListInput);
class SciCheckbox extends SciWidget{constructor(){super();let e=this;null===SciCheckbox.template&&(SciCheckbox.template=this._createTemplate(SciCheckbox.templateText));let t=SciCheckbox.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});if(i.append(t),this.__checkbox=i.querySelector("input"),this.__defaultValue=!1,null!==this.getAttribute("checked")&&(this.__defaultValue=!0,this.__checkbox.checked=!0,this.classList.add("checked")),null!==this.getAttribute("align-right")){let e=i.querySelector(".immediate-wrapper"),t=i.querySelector(".img");e.append(t)}this.addEventListener("click",(t=>{if(t.preventDefault(),e.disabled)return;e.value=!e.__checkbox.checked;let i=new Event("change",t);e.dispatchEvent(i)}))}get defaultValue(){return this.__defaultValue}get required(){return null!==this.getAttribute("required")}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get undefined(){return null!==this.getAttribute("undefined")}set undefined(e){e?this.setAttribute("undefined",""):this.removeAttribute("undefined")}get value(){this.errorMessage="";let e=this.__checkbox.checked;if(this.undefined&&(e=null,this.required))throw this.errorMessage="Пожалуйста, выберите нужную опцию",new TypeError("sci-checkbox: The user don't select necessary option");return e}set value(e){null!==this.getAttribute("undefined")&&this.removeAttribute("undefined");let t=!!e;this.__checkbox.checked=t,t&&!this.classList.contains("checked")&&this.classList.add("checked"),!t&&this.classList.contains("checked")&&this.classList.remove("checked")}}SciCheckbox.observedAttributes=["disabled","label"],SciCheckbox.template=null,SciCheckbox.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host .immediate-wrapper{margin-bottom:3px;font-size:0}:host([align-right]) .immediate-wrapper{text-align:right}input{display:none}.img{display:inline-block;position:relative;vertical-align:top;margin-right:5px;width:18px;height:18px;box-sizing:border-box;cursor:pointer;border:2px solid #1658da;border-radius:4px;background:#fff url(../img/checkbox.svg) 50% 50% no-repeat;background-size:100% 100%}:host([align-right]) .img{margin-right:0;margin-left:5px}:host(.checked) .img{background-color:#1658da}:host([disabled]) .img{border-color:#bac4d1;cursor:default}:host(.checked[disabled]) .img{background-color:#bac4d1}:host([disabled]) label{cursor:default}:host([undefined]) .img{border-color:#babad1;background-color:#bac4d1}label{display:inline-block;vertical-align:top;margin-bottom:0;width:calc(100% - 23px);cursor:pointer;font-size:14px;line-height:18px}\n</style>\n<div class=immediate-wrapper><input type=checkbox> <span class=img></span> <label>WARNING. PLEASE, DEFINE THE LABEL ATTRIBUTE OF THIS WIDGET</label></div><div class=error-message></div>\n\n",customElements.define("sci-checkbox",SciCheckbox);
class SciLinkButton extends SciWidget{constructor(){super();let e=this;null===SciLinkButton.template&&(SciLinkButton.template=this._createTemplate(SciLinkButton.templateText));let t=SciLinkButton.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(t),this.__link=i.querySelector("a"),this.__defaultValue=void 0,this.__value=void 0,this.addEventListener("click",(function(t){if(!t.isTrusted)return;if(t.stopImmediatePropagation(),t.preventDefault(),e.disabled||e.active)return;if(null!==e.href&&window.open(e.href),e.toggleable){e.value=!e.value;let i=new Event("change",t);e.dispatchEvent(i)}let i=new MouseEvent("click",t);e.dispatchEvent(i)}))}attributeChangedCallback(e,t,i){if("label"===e)this.__link.innerHTML=i;else if("theme"===e){if(-1===SciLinkButton.themes.indexOf(i))throw this.setAttribute("theme",t),TypeError("sci-link-button has wrong value of theme attribute");this._updateTheme()}else if("menu"===e)this._updateTheme();else if("toggleable"===e){if(null!==i){let e=null!==this.getAttribute("toggled");this.__defaultValue=this.__value=e}else this.__defaultValue=this.__value=void 0;this._updateTheme()}else"active"===e?this._updateTheme():super.attributeChangedCallback(e,t,i)}_updateTheme(){let e=this.shadowRoot.querySelector(".immediate-wrapper");for(let t of e.classList)if(t.endsWith("-theme")){e.classList.remove(t);break}let t=this.theme;"string"==typeof t&&e.classList.add(t+"-theme")}get active(){return null!==this.getAttribute("active")}set active(e){e?this.setAttribute("active",""):this.removeAttribute("active")}get defaultValue(){return this.__defaultValue}get errorMessage(){return null}set errorMessage(e){}get href(){return this.getAttribute("href")}set href(e){this.setAttribute("href",e)}get menu(){return null!==this.getAttribute("menu")}set menu(e){e?this.setAttribute("menu",""):this.removeAttribute("menu")}get toggleable(){return null!==this.getAttribute("toggleable")}set toggleable(e){e?this.setAttribute("toggleable",""):this.removeAttribute("toggleable")}get theme(){if(null!==this.getAttribute("theme"))return this.getAttribute("theme");if(this.disabled)return"gray";let e,t,i;this.menu?(e="black",t="gray-to-black"):(e="blue",t="gray-to-blue");let a=this.toggleable,l=this.value,o=this.active;return i=a?o||l?e:t:e,i}set theme(e){this.setAttribute("theme",e)}get value(){return this.toggleable?this.__value:void 0}set value(e){this.toggleable&&(this.__value=!!e,this._updateTheme())}click(){this.__link.click()}_disableChildren(){this._updateTheme()}_enableChildren(){this._updateTheme()}}SciLinkButton.themes=["black","blue","gray","gray-to-black","gray-to-blue"],SciLinkButton.observedAttributes=["active","disabled","label","menu","theme","toggleable","width"],SciLinkButton.template=null,SciLinkButton.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{cursor:pointer}:host([active]),:host([disabled]){cursor:default}:host([active]) a,:host([disabled]) a{cursor:default}.immediate-wrapper{display:inline-block}a{color:#1658da}a:focus{outline:0}.black-theme a{color:#333}.gray-theme a,.gray-to-black-theme a,.gray-to-blue-theme a{color:#bac4d1}.gray-to-blue-theme:hover a{color:#1658da}.gray-to-black-theme:hover a{color:#333}a:active,a:hover{color:#1658da}.black-theme a:active,.black-theme a:hover{color:#333}.gray-theme a:active,.gray-theme a:hover{color:#bac4d1}.immediate-wrapper ::slotted(svg){width:14px;height:14px;vertical-align:-2px}.gray-to-blue-theme:hover ::slotted(svg),.immediate-wrapper ::slotted(svg){fill:#1658da;stroke:#1658da}.black-theme ::slotted(svg),.gray-to-black-theme:hover ::slotted(svg){fill:#333;stroke:#333}.gray-theme ::slotted(svg),.gray-to-black-theme ::slotted(svg),.gray-to-blue-theme ::slotted(svg){fill:#bac4d1;stroke:#bac4d1}\n</style>\n<div class=immediate-wrapper><slot name=image class=image></slot><a href=#>ERROR! PLEASE, DEFINE THE LABEL ATTRIBUTE</a></div>\n\n",customElements.define("sci-link-button",SciLinkButton);
class SciRadioButton extends SciWidget{constructor(){super();let e=this;null===SciRadioButton.template&&(SciRadioButton.template=this._createTemplate(SciRadioButton.templateText));let t=SciRadioButton.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(t),this.__input=i.querySelector("input"),this._rendered=!0,this.addEventListener("click",(t=>{if(e.disabled||e.readOnly)return;this.check();let i=new CustomEvent("change",{bubbles:!0});e.dispatchEvent(i)}))}attributeChangedCallback(e,t,i){"name"===e?null!==i?this.__input.setAttribute("name",i):this.__input.removeAttribute("name"):"checked"===e?null!==i?this.check():this.checked=!1:super.attributeChangedCallback(e,t,i)}get checked(){return this.__input.checked}set checked(e){e?this.__input.setAttribute("checked",""):this.__input.removeAttribute("checked"),this.errorMessage=""}get group(){return this.parentElement.querySelectorAll(`sci-radio-button[name=${this.name}]`)}get name(){return this.getAttribute("name")}set name(e){null!==e?this.setAttribute("name",e):this.removeAttribute("name")}get readOnly(){return null!==this.getAttribute("readonly")}set readOnly(e){e?this.setAttribute("readonly",""):this.removeAttribute("readonly")}get required(){return null!==this.getAttribute("required")}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get value(){this.errorMessage="";let e=null;for(let t of this.group)if(t.checked){e=t.getAttribute("value");break}if(this.required&&null===e)throw this.errorMessage="Пожалуйста, выберите нужную опцию",new TypeError("sci-radio-button: the option is not selected by the user");return e}set value(e){let t=!1;for(let i of this.group)if(i.getAttribute("value")===e){i.check(),t=!0;break}if(!t)for(let e of this.group)e.checked=!1}check(){for(let e of this.group)e._rendered&&(e.checked=e===this)}next(){let e=!1,t=null;for(let i of this.group){if(e){t=i;break}i===this&&(e=!0)}return t}previous(){let e=!1,t=null;for(let i of[...this.group].reverse()){if(e){t=i;break}i===this&&(e=!0)}return t}}SciRadioButton.observedAttributes=["checked","disabled","label","name","width"],SciRadioButton.template=null,SciRadioButton.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{cursor:pointer}input{display:none}:host label{display:block;cursor:pointer;vertical-align:top;margin-bottom:0;margin-left:23px}#img-wrapper{display:inline-block;float:left;width:14px;height:14px;margin-right:5px;vertical-align:top;border:2px solid #1758da;border-radius:50%}#img{display:none;width:10px;height:10px;margin:2px;background:#1758da;border-radius:50%}input[checked]+#img-wrapper #img{display:block}:host([disabled]),:host([disabled]) label,:host([readonly]),:host([readonly]) label{cursor:default}:host([disabled]) #img-wrapper{border-color:#bac4d1}:host([disabled]) #img{background-color:#bac4d1}\n</style>\n<div class=row><input type=radio><div id=img-wrapper><div id=img></div></div><label>WARNING!!! PLEASE, DEFINE THE LABEL ATTRIBUTE</label></div><div class=error-message></div>\n\n",customElements.define("sci-radio-button",SciRadioButton);
class SciLinkSwitch extends SciWidget{constructor(){super();let t=this;null===SciLinkSwitch.template&&(SciLinkSwitch.template=this._createTemplate(SciLinkSwitch.templateText));let e=this.attachShadow({mode:"open"}),i=SciLinkSwitch.template.content.cloneNode(!0);e.append(i),this.__children={},this.__values=[],this.__elements=[];let l=null;for(let e of this.children)if(e instanceof SciLinkButton){let i=e.getAttribute("value");this.__children[i]=e,this.__values.push(i),this.__elements.push(e),null===l&&(l=i),e.toggleable=!0,e.addEventListener("change",(e=>{e.stopPropagation(),e.preventDefault(),t.value=e.target.getAttribute("value");let i=new Event("change",e);t.dispatchEvent(i)}))}let o=this.getAttribute("value");-1===this.__values.indexOf(o)?this.__defaultValue=null:this.__defaultValue=o,this.__value=this.__defaultValue,this._updateValue()}_updateValue(){for(let t of this.__elements)t.active=!1,t.value=!1;if(null===this.__value)return;let t=this.__children[this.__value];t.active=!0,t.value=!0}_disableChildren(){for(let t of this.__elements)t.disable()}_enableChildren(){for(let t of this.__elements)t.enable();this._updateValue()}get childButtons(){return this.__children}get defaultValue(){return this.__defaultValue}get errorMessage(){return null}set errorMessage(t){}get value(){if(!this.disabled)return this.__value}set value(t){if(null!==t&&-1===this.__values.indexOf(t))throw new TypeError("The value you assigned to sci-link-switch is not correct");this.__value=t,this._updateValue()}get values(){return this.__values}}SciLinkSwitch.observedAttributes=["disabled","width"],SciLinkSwitch.template=null,SciLinkSwitch.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{font-size:0}::slotted(sci-link-button){margin-top:3px;margin-bottom:3px;font-size:14px}:host([position=horizontal]){display:inline-block}:host([position=horizontal]) ::slotted(sci-link-button){display:inline-block;margin-right:5px}:host([position=horizontal]) ::slotted(sci-link-button:last-child){margin-right:0}\n</style>\n<slot></slot>\n\n",customElements.define("sci-link-switch",SciLinkSwitch);
class SciButton extends SciWidget{constructor(){super();let t=this;null===SciButton.template&&(SciButton.template=this._createTemplate(SciButton.templateText));let e=SciButton.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(e),this.__button=i.querySelector("input"),this.__button.addEventListener("click",(e=>{if(e.stopPropagation(),e.preventDefault(),t.__button.blur(),"submit"===t.type){let e=new CustomEvent("sci-button-submit",{detail:null,bubbles:!0});t.dispatchEvent(e)}if("reset"===t.type){let e=new CustomEvent("sci-button-reset",{detail:null,bubbles:!0});t.dispatchEvent(e)}let i=new MouseEvent("click",e);t.dispatchEvent(i)}))}attributeChangedCallback(t,e,i){if("label"===t)null!==i&&(this.__button.value=i);else if("type"===t)if("submit"===i||"blue"===i)this.__button.type="submit";else{if("reset"!==i&&"white"!==i)throw new TypeError("sci-button has wrong value of 'type' attribute");this.__button.type="reset"}else"tab-index"===t?this.__button.tabIndex=i:super.attributeChangedCallback(t,e,i)}_disableChildren(){this.__button.disabled=!0}_enableChildren(){this.__button.disabled=!1}get errorMessage(){return null}set errorMessage(t){}get type(){return this.getAttribute("type")}}SciButton.observedAttributes=["type","label","disabled","tab-index","width"],SciButton.template=null,SciButton.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{font-size:20px;text-align:center;display:inline-block;margin-right:20px}:host(:last-child){margin-right:0}.immediate-wrapper{font-size:14px;display:inline-block;width:100%}input[type=reset],input[type=submit]{border:1px solid #1658da;background:#1658da;text-transform:uppercase;color:#fff;box-shadow:none;cursor:pointer;line-height:20px;padding:12px;height:inherit;border-radius:5px;min-width:200px;outline:0;width:100%}:host(.sci-error) input[type=reset],:host(.sci-error) input[type=submit]{background-color:#eb4146;border-color:#eb414e}input[type=reset]{background:#fff;color:#000;border:1px solid #000}input[type=submit]:focus,input[type=submit]:hover{background:#00349b}:host(.sci-error) input[type=submit]:focus,:host(.sci-error) input[type=submit]:hover{background-color:#c84146}input[type=submit]:disabled{background:#bac4d1;border-color:#bac4d1;cursor:default}input[type=reset]:disabled{border-color:#bac4d1;color:#bac4d1;cursor:default}input[type=reset]:active,input[type=submit]:active{box-shadow:inset 0 0 25px 10px rgba(0,0,0,.25)}input[type=reset]:focus{box-shadow:inset 0 0 25px 10px rgba(0,0,0,.25)}\n</style>\n<div class=\"widget-wrapper button-wrapper\"><div class=immediate-wrapper><input type=submit value=\"ERROR! THE LABEL ATTRIBUTE OF THE SCI-BUTTON IS NOT DEFINED\"></div></div>\n\n",customElements.define("sci-button",SciButton);
class SciDatetimeRange extends SciWidget{constructor(){super();let e=this;this.__ready=!1,null===SciDatetimeRange.template&&(SciDatetimeRange.template=this._createTemplate(SciDatetimeRange.templateText));let t=SciDatetimeRange.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(t),this.__startDateWidget=i.querySelector("#start-date"),this.__finishDateWidget=i.querySelector("#finish-date"),this.__minValue=null,this.__maxValue=null,this.__defaultFinishValue=null,this.__defaultStartValue=null,this.__finishValue=null,this.__startValue=null;let a=this.getAttribute("finish-value"),l=this.getAttribute("start-value");null!==a&&(this.__defaultFinishValue=new Date(a),this.__finishValue=new Date(a)),null!==l&&(this.__defaultStartValue=new Date(l),this.__startValue=new Date(l)),this.__ready=!0,this.__updateValue(),this.__startDateWidget.addEventListener("change",(t=>{t.stopPropagation(),this.__startValue=t.target.value,e.__updateFinishValue(),e.__updateState()})),this.__finishDateWidget.addEventListener("change",(t=>{t.stopPropagation(),this.__finishValue=t.target.value,e.__updateStartValue(),e.__updateState()}))}__updateState(e){let t=new Event("change",e);this.dispatchEvent(t)}__correctValue(){let e=this.minValue,t=this.startValue,i=this.finishValue,a=this.maxValue;this.__ready=!1,null!==e&&null!==t&&t.getTime()<e.getTime()&&(this.startValue=e),null!==a&&null!==i&&a.getTime()<i.getTime()&&(this.finishValue=a),this.__ready=!0}__updateValue(){this.__ready&&(this.__updateStartValue(),this.__updateFinishValue())}__updateStartValue(){let e=this.minValue,t=this.maxValue;null!==this.__finishValue&&(t=new Date(this.__finishValue)),this.__startDateWidget.minValue=e,this.__startDateWidget.value=this.__startValue,this.__startDateWidget.maxValue=t}__updateFinishValue(){let e=this.minValue,t=this.maxValue;null!==this.__startValue&&(e=new Date(this.__startValue)),this.__finishDateWidget.minValue=e,this.__finishDateWidget.value=this.__finishValue,this.__finishDateWidget.maxValue=t}attributeChangedCallback(e,t,i){if("inline"===e)null!==i?(this.__startDateWidget.setAttribute("inline",""),this.__finishDateWidget.setAttribute("inline","")):(this.__startDateWidget.removeAttribute("inline"),this.__finishDateWidget.removeAttribute("inline"));else if("maxvalue"===e)this.maxValue=i;else if("millis"===e){let e=null!==i;this.__startDateWidget.millis=e,this.__finishDateWidget.millis=e}else if("minvalue"===e)this.minValue=i;else if("label"===e)null!==i?(this.__startDateWidget.label="начала "+i,this.__finishDateWidget.label="окончания  "+i):(this.__startDateWidget.label=null,this.__finishDateWidget.label=null);else if("seconds"===e){let e=null!==i;this.__startDateWidget.seconds=e,this.__finishDateWidget.seconds=e}else super.attributeChangedCallback(e,t,i)}_enableChildren(){this.__startDateWidget.enable(),this.__finishDateWidget.enable()}_disableChildren(){this.__startDateWidget.disable(),this.__finishDateWidget.disable()}get defaultFinishValue(){return this.__defaultFinishValue}get defaultStartValue(){return this.__defaultStartValue}get errorMessage(){return this.__finishDateWidget.errorMessage}set errorMessage(e){this.__startDateWidget.errorMessage=e,this.__finishDateWidget.errorMessage=e}get finishValue(){let e=this.__finishValue;if(null===e&&this.required)throw this.__finishDateWidget.errorMessage="Пожалуйста, заполните поле",new TypeError("sci-datetime-widget: finishValue was not filled by the user");return null!==e&&(e=new Date(e)),e}set finishValue(e){let t=e;if(null!==e){let i=this.minValue,a=this.__startValue;if(t=new Date(e),null===a&&null!==i&&(a=i),null!==a&&a.getTime()>t.getTime())throw new TypeError("sci-datetime-range: finishValue can't be smaller than the startValue or minValue");let l=this.maxValue;if(null!==l&&l.getTime()<t.getTime())throw new TypeError("sci-datetime-range: finishValue can't be larger than maxValue")}this.__finishValue=t,this.__updateValue()}get maxValue(){let e=this.__maxValue;return null!==e&&(e=new Date(e)),e}set maxValue(e){let t=e;if(null!==t){let e=this.minValue;if(t=new Date(t),null!==e&&e.getTime()>t.getTime())throw new TypeError("sci-datetime-range: maxValue shall not be lesser than the minValue")}this.__maxValue=t,this.__correctValue,this.__updateValue()}get millis(){return null!==this.getAttribute("millis")}set millis(e){e?this.setAttribute("millis",""):this.removeAttribute("millis")}get minValue(){let e=this.__minValue;return null!==e&&(e=new Date(e)),e}set minValue(e){let t=e;if(null!==t){t=new Date(t);let e=this.maxValue;if(null!==e&&t.getTime()>e.getTime())throw new TypeError("sci-datetime-range: minValue can't be greater than the maxValue")}this.__minValue=t,this.__correctValue(),this.__updateValue()}get required(){return null!==this.getAttribute("required")}set required(e){null!==e?this.setAttribute("required",""):this.removeAttribute("required")}get seconds(){return null!==this.getAttribute("seconds")}set seconds(e){e?this.setAttribute("seconds",""):this.removeAttribute("seconds")}get startValue(){let e=this.__startValue;if(null===e&&this.required)throw this.__startDateWidget.errorMessage="Пожалуйста, заполните поле",new TypeError("sci-datetime-range: startValue was not filled by the user");return null!==e&&(e=new Date(e)),e}set startValue(e){let t=e;if(null!==e){t=new Date(e);let i=this.minValue;if(null!==i&&i.getTime()>t.getTime())throw new TypeError("sci-datetime-range: startValue can't be larger than the minValue");let a=this.__finishValue,l=this.maxValue;if(null===a&&null!==l&&(a=l),null!==a&&t.getTime()>a.getTime())throw new TypeError("sci-datetime-range: startValue can't be larger than the finishValue or maxValue")}this.__startValue=t,this.__updateValue()}get value(){let e={},t=!1;try{e.start=this.startValue}catch(i){if(!(i instanceof TypeError))throw i;e.start=null,t=!0}try{e.finish=this.finishValue}catch(i){if(!(i instanceof TypeError))throw i;e.finish=null,t=!0}if(t)throw new TypeError("sci-datetime-range: some of fields were filled incorrectly");return e}set value(e){this.startValue=e.start,this.finishValue=e.finish}}SciDatetimeRange.observedAttributes=["disabled","inline","label","maxvalue","millis","minvalue","seconds","width"],SciDatetimeRange.template=null,SciDatetimeRange.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}\n</style>\n<sci-datetime id=start-date></sci-datetime><sci-datetime id=finish-date></sci-datetime>\n\n",customElements.define("sci-datetime-range",SciDatetimeRange);
class SciDateRange extends SciWidget{constructor(){super();let t=this;null===SciDateRange.template&&(SciDateRange.template=this._createTemplate(SciDateRange.templateText));let e=this.attachShadow({mode:"open"}),i=SciDateRange.template.content.cloneNode(!0);e.append(i),this.__startDate=e.getElementById("start-date"),this.__finishDate=e.getElementById("finish-date"),this.__minValue=null,this.__maxValue=null,this.__startDate.addEventListener("change",(e=>{e.stopPropagation(),e.preventDefault(),t._checkFinishDate();let i=new Event("change",e);t.dispatchEvent(i)})),this.__finishDate.addEventListener("change",(e=>{e.stopPropagation(),e.preventDefault(),t._checkStartDate();let i=new Event("change",e);t.dispatchEvent(i)}));let a=this.getAttribute("start-value"),l=this.getAttribute("finish-value");this.__defaultStartValue=null!==a?new Date(a):null,this.__defaultFinishValue=null!==l?new Date(l):null,this.startValue=this.__defaultStartValue,this.finishValue=this.__defaultFinishValue}attributeChangedCallback(t,e,i){"label"===t?this.__startDate.label=i:"finish-label"===t?this.__finishDate.label=i:"inline"===t?null!==i?(this.__startDate.setAttribute("inline",""),this.__finishDate.setAttribute("inline","")):(this.__startDate.removeAttribute("inline"),this.__finishDate.removeAttribute("inline")):"maxvalue"===t?this.maxValue=i:"minvalue"===t?this.minValue=i:super.attributeChangedCallback(t,e,i)}_checkStartDate(t=null,e=null){null===t&&(t=this.minValue),this.__startDate.minValue=t,null===e&&(e=this.maxValue);let i=this.__finishDate.value;null!==i&&(null===e||e.getTime()>i.getTime())&&(e=new Date(i)),this.__startDate.maxValue=e;let a=this.__startDate.value;null!==a&&a.getTime()>e.getTime()&&(this.__startDate.value=new Date(e))}_checkFinishDate(t=null,e=null){null===e&&(e=this.maxValue),this.__finishDate.maxValue=e,null===t&&(t=this.minValue);let i=this.__startDate.value;null!==i&&(null===t||t.getTime()<i.getTime())&&(t=new Date(i)),this.__finishDate.minValue=t;let a=this.__finishDate.value;null!==a&&a.getTime()<t.getTime()&&(this.__finishDate.value=new Date(t))}_checkDate(){let t=this.minValue,e=this.maxValue;this._checkStartDate(t,e),this._checkFinishDate(t,e)}_enableChildren(){this.__startDate.enable(),this.__finishDate.enable()}_disableChildren(){this.__startDate.disable(),this.__finishDate.disable()}get defaultFinishValue(){return this.__defaultFinishValue}get defaultStartValue(){return this.__defaultStartValue}get finishValue(){this.__finishDate.errorMessage="";let t=this.__finishDate.value;if(null===t&&this.required)throw this.__finishDate.errorMessage="Пожалуйста, укажите дату",new TypeError("sci-date-range: finishValue is not filled by the user");return t}set finishValue(t){let e=null;if(null!==t){e=new Date(t);let i=this.startValue;if(null!==i&&i.getTime()>e.getTime())throw new TypeError("sci-date-range: attempt to set finishValue that is lower than the startValue");this.__finishDate.value=e}this._checkStartDate()}get maxValue(){return this.__maxValue}set maxValue(t){let e=null;if(null!==t){e=new Date(t);let i=this.minValue;if(null!==i&&i.getTime()>e.getTime())throw new TypeError("sci-date-range: attempt to set maxValue that is lower than the minValue")}this.__maxValue=e,this._checkDate()}get minValue(){return this.__minValue}set minValue(t){let e=null;if(null!==t){e=new Date(t);let i=this.maxValue;if(null!==i&&i.getTime()<e.getTime())throw new TypeError("sci-date-range: attempt to set minValue that is higher than the maxValue")}this.__minValue=e,this._checkDate()}get required(){return null!==this.getAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get startValue(){this.__startDate.errorMessage="";let t=this.__startDate.value;if(null===t&&this.required)throw this.__startDate.errorMessage="Пожалуйста, укажите дату",new TypeError("sci-date-range: Some of the fields were not filled by the user");return t}set startValue(t){let e=null;if(null!==t){e=new Date(t);let i=this.finishValue;if(null!==i&&i.getTime()<e.getTime())throw new TypeError("sci-date-range: attempt to set startDate that is higher than the finishDate")}this.__startDate.value=e,this._checkFinishDate()}get value(){let t={},e=!1;try{t.start=this.startValue}catch(i){if(!(i instanceof TypeError))throw i;t.start=null,e=!0}try{t.finish=this.finishValue}catch(i){if(!(i instanceof TypeError))throw i;t.finish=null,e=!0}if(e)throw new TypeError("sci-date-range: the user did not filled all the fields");return t}set value(t){this.startValue=t.start,this.finishValue=t.finish}}SciDateRange.observedAttributes=["disabled","finish-label","inline","label","maxvalue","minvalue","width"],SciDateRange.template=null,SciDateRange.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}sci-date{display:inline-block;vertical-align:top;margin-right:5px}:host([in-block]) sci-date{display:block}:host([in-block]) #start-date{margin-top:20px}:host([in-block]) #finish-date{margin-bottom:20px}@media screen and (max-width:730px){sci-date{display:block;margin-right:0}#start-date{margin-top:20px}#finish-date{margin-bottom:20px}}\n</style>\n<sci-date id=start-date></sci-date><sci-date id=finish-date></sci-date>\n\n",customElements.define("sci-date-range",SciDateRange);
class SciForm extends SciScrollable{constructor(){super();let e=this;null===SciForm.template&&(SciForm.template=this._createTemplate(SciForm.templateText));let t=SciForm.template.content.cloneNode(!0);this.attachShadow({mode:"open"}).append(t),this._implementScroll(),this.__defaultValue=null,this.__onSubmit=null,this.__onReset=null,this.addEventListener("click",(t=>{if(e.disabled)return;let i=t.target;if(i.classList.contains("submit")||"submit"===i.name){e.submit();let t=new CustomEvent("sci-submit",{bubbles:!0});e.dispatchEvent(t)}if(i.classList.contains("reset")||"reset"===i.name){e.reset();let t=new CustomEvent("sci-reset",{bubbles:!0});e.dispatchEvent(t)}}))}__updateChildren(){for(let e in this.__defaultValue)if(this.__defaultValue.hasOwnProperty(e)){let t=this.__defaultValue[e],i=this.getElement(e);null!==i&&(i.value=t)}}_enableChildren(){for(let e of this.getElements())e.enable()}_disableChildren(){for(let e of this.getElements())e.disable()}get defaultValue(){return this.__defaultValue}get onReset(){return this.__onReset}set onReset(e){if("function"!=typeof e&&null!==e)throw new TypeError("sci-form: bad value for onReset property");this.__onReset=e,this.reset()}get onSubmit(){return this.__onSubmit}set onSubmit(e){if("function"!=typeof e&&null!==e)throw new TypeError("sci-form: bad value for onSubmit property");this.__onSubmit=e}get value(){let e={},t=!0;for(let i of this.getElements()){let o=i.getAttribute("name"),l=null;try{l=i.value}catch(e){t=!1}void 0!==l&&(e[o]=l)}if(!t)throw new TypeError("sci-form: some of the fields were filled incorrectly by the user");return e}set value(e){this.__defaultValue={...e},this.__updateChildren()}getElement(e){let t=this.shadowRoot.querySelector("slot").assignedElements({flatten:!0});for(let i of t){if(i.getAttribute("name")===e)return i;let t=i.querySelector(`[name=${e}]`);if(null!==t)return t}return null}getElements(){let e=[],t=this.shadowRoot.querySelector("slot").assignedElements({flatten:!0});for(let i of t)null!==i.getAttribute("name")&&e.push(i),e=[...e,...i.querySelectorAll("[name]")];return e}reset(){let e=this;if(null===e.onReset){for(let e of this.getElements())try{e.value=null}catch(e){}return this.__updateChildren(),Promise.resolve(!0)}{let t=e.onReset();return t instanceof Promise?t.then((e=>(this.value=e,!0))).catch((()=>!1)):Promise.reject(new TypeError("sci-form: The onReset function did not return promise. Please, check it again"))}}submit(){let e,t=this;try{e=t.value}catch(e){if(e instanceof TypeError)return;throw e}return"function"==typeof t.onSubmit?t.onSubmit(e).then((e=>(t.value=e,e))).catch((e=>{for(let i in e)if(e.hasOwnProperty(i)){let o=e[i],l=t.getElement(i);null!==l&&(l.errorMessage=o)}return!1})):Promise.resolve(e)}}SciForm.observedAttributes=["disabled","padding","width"],SciForm.template=null,SciForm.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}\n</style>\n<slot></slot>\n\n",customElements.define("sci-form",SciForm);
class SciPanel extends SciWidget{constructor(){super();let e=this;null===SciPanel.template&&(SciPanel.template=this._createTemplate(SciPanel.templateText));let t=SciPanel.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(t),this.__label=i.querySelector("label"),this.__form=i.querySelector("sci-form"),this.__label.addEventListener("click",(t=>{if(!e.disabled)if(e.compacted){e.expand();let t=new CustomEvent("sci-panel-expand",{bubbles:!0});e.dispatchEvent(t)}else{e.compact();let t=new CustomEvent("sci-panel-compact",{bubbles:!0});e.dispatchEvent(t)}})),this.__form.addEventListener("sci-submit",(t=>{if(t.stopPropagation(),e.disabled)return;let i=new CustomEvent("sci-submit",{bubbles:!0});e.dispatchEvent(i)})),this.__form.addEventListener("sci-reset",(t=>{if(t.stopPropagation(),e.disabled)return;let i=new CustomEvent("sci-reset",{bubbles:!0});e.dispatchEvent(i)}))}_enableChildren(){return this.__form.enable()}_disableChildren(){return this.__form.disable()}get compacted(){return null!==this.getAttribute("compacted")}set compacted(e){e?this.setAttribute("compacted",""):this.removeAttribute("compacted")}get expanded(){return!this.compacted}set expanded(e){this.compacted=!e}get onReset(){return this.__form.onReset}set onReset(e){this.__form.onReset=e}get onSubmit(){return this.__form.onSubmit}set onSubmit(e){this.__form.onSubmit=e}get value(){return this.__form.value}set value(e){this.__form.value=e}compact(){this.compacted=!0}expand(){this.expanded=!0}getElement(e){return this.__form.getElement(e)}getElements(){return this.__form.getElements()}}SciPanel.observedAttributes=["disabled","height","label","width"],SciPanel.template=null,SciPanel.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{border-radius:5px;box-shadow:0 0 20px 0 #bbb;border:1px solid #bac4d1;padding:10px;box-sizing:border-box}label{margin-top:15px;margin-bottom:10px;color:#333;font-size:21px;cursor:pointer}:host([disabled]) label{cursor:default}:host([compacted]) label{margin-top:10px}:host([compacted]) sci-form{display:none}:host([height]) sci-form{height:calc(100% - 41px)}\n</style>\n<label>WARNING!!! PLEASE, INSERT THE LABEL</label><sci-form><slot></slot></sci-form>\n\n",customElements.define("sci-panel",SciPanel);
class SciDialog extends SciWindow{constructor(){super();let t=this;null===SciDialog.template&&(SciDialog.template=this._createTemplate(SciDialog.templateText));let e=SciDialog.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(e),this._initializeWindow(),null===this.getAttribute("size")&&this.setAttribute("size","small"),window.addEventListener("load",(t=>this.updateHeight(!1))),window.addEventListener("resize",(t=>this.updateHeight(!1))),this.__form=i.querySelector("sci-form"),this.__isModal=!1,this.__resolve=null,this.__reject=null,this.onSubmit=null,this.addEventListener("click",(function(e){let i=e.target;("reset"===i.getAttribute("name")||i.classList.contains("reset"))&&(t.close(),t.__isModal&&t.__reject())})),i.querySelector(".close-button").addEventListener("click",(e=>{t.reset().then((e=>{if(e){t.close();let e=new CustomEvent("sci-reset",{bubbles:!0});t.dispatchEvent(e)}}))})),this.__form.addEventListener("sci-submit",(e=>{e.stopImmediatePropagation();let i=new CustomEvent("sci-submit",{bubbles:!0});t.dispatchEvent(i)})),this.__form.addEventListener("sci-reset",(e=>{e.stopImmediatePropagation();let i=new CustomEvent("sci-reset",{bubbles:!0});t.dispatchEvent(i)}))}attributeChangedCallback(t,e,i){if("label"===t)this.shadowRoot.querySelector(".title-label").innerHTML=i;else if("permanent"===t){let t=this.shadowRoot.querySelector(".close-button");t.style.display=null!==i?"none":null}else if("size"===t)SciDialog.SIZE_LIST.indexOf(i)<0&&this.setAttribute("size","small");else if("width"===t){let t=this.shadowRoot.querySelector(".window");t.style.width=null!==i?i+"px":null}else super.attributeChangedCallback(t,e,i)}get form(){return this.shadowRoot.querySelector("sci-form")}get isModal(){return this.__isModal}get isTooTall(){return this.shadowRoot.querySelector(".window").classList.contains("too-tall")}get onReset(){return this.__form.onReset}set onReset(t){this.__form.onReset=t}get onSubmit(){return this.__form.onSubmit}set onSubmit(t){let e=this;if(null!==t)this.__form.onSubmit=function(i){return t(i).then((t=>(e.close(),e.__isModal&&e.__resolve(t),t)))};else{let t=this;this.__form.onSubmit=function(e){return t.close(),t.isModal&&t.__resolve(e),Promise.resolve(e)}}}get value(){return this.__form.value}set value(t){this.__form.value=t}getElement(t){return this.__form.getElement(t)}getElements(){return this.__form.getElements()}open(){let t=this;return this.reset().then((e=>(e&&(super.open(),t.updateHeight(!0)),e)))}openModal(t=null){let e=this;return this.__isModal?Promise.reject(new TypeError("sci-dialog: can't openModal() the same dialog twice!")):this.open().then((i=>{if(!i)throw new TypeError("sci-dialog: data reset are failed by some reason");null!==t&&(this.__form.value=t),this.__isModal=!0;let o=new CustomEvent("sci-modal",{bubbles:!0,detail:t});return this.dispatchEvent(o),new Promise(((t,i)=>{e.__resolve=function(i){e.__isModal=!1,e.__resolve=null,e.__reject=null,t(i)},e.__reject=function(){e.__isModal=!1,e.__resolve=null,e.__reject=null,i(new TypeError("sci-dialog: the operation was cancelled by the user"))}}))}))}reset(){let t=this;return this.__form.reset().then((e=>(!0===e&&(t.close(),t.__isModal&&t.__reject()),e)))}submit(){return this.__form.submit()}updateHeight(t=!0){let e=this.shadowRoot.querySelector(".window");e.classList.contains("too-tall")&&(e.classList.remove("too-tall"),this.__form.padding=null),e.querySelector(".window-title").clientHeight+e.querySelector("sci-form").scrollHeight+10>window.innerHeight&&!e.classList.contains("too-tall")&&(e.classList.add("too-tall"),this.__form.padding=30),t&&this.__form.updateHeight()}}SciDialog.SIZE_LIST=["tiny","small","large"],SciDialog.observedAttributes=["label","permanent","size","width"],SciDialog.template=null,SciDialog.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}:host{margin:0;padding:0}:host .window-overlapper{z-index:10}:host([important]) .window-overlapper{z-index:1000}:host([error]) .window-title{background:#eb4146}:host .window{box-sizing:border-box;width:500px;border-radius:1px;box-shadow:0 2px 50px 10px rgba(0,0,0,.25);text-align:left}:host([size=tiny]) .window{width:250px}:host([size=small]) .window{width:500px}:host([size=large]) .window{width:1000px}.window-title{display:block;background:#1658da;margin:0;border:none;position:relative;height:45px;white-space:nowrap;cursor:default}.window-title .title-label{overflow-x:hidden;margin-right:48px;text-overflow:ellipsis;padding:10px 30px;font-size:16px;color:#fff;font-weight:500;line-height:25px}.window-title .title-label:last-child{margin-right:0}.window-title .close-button{position:absolute;right:0;bottom:0;top:0;width:48px;cursor:pointer;background:url(/img/close-button.svg) 50% 50% no-repeat;background-size:40%}.window-title .close-button:hover{background-color:#00349b}:host([error]) .window-title .close-button:hover{background-color:#c84146}sci-form{padding:30px;margin:0}:host .window-overlapper .window.too-tall{position:fixed;left:0;right:0;top:0;bottom:0;width:auto}:host .window-overlapper .window.too-tall sci-form{padding-top:0;padding-bottom:0;height:calc(100% - 45px)}@media screen and (max-width:1040px){:host([size=large]) .window{width:500px}}@media screen and (max-width:540px){:host([size=large]) .window,:host([size=small]) .window{width:400px}}@media screen and (max-width:430px){:host .window-overlapper .window{position:fixed;left:0;right:0;top:0;bottom:0;width:auto}}\n</style>\n<div class=window-title><div class=title-label>WARNING!!! PLEASE, PUT IN THE LABEL</div><div class=close-button></div></div><sci-form><slot></slot></sci-form>\n\n",customElements.define("sci-dialog",SciDialog);
class SciMessageDialog extends SciWidget{constructor(){super(),null===SciMessageDialog.template&&(SciMessageDialog.template=this._createTemplate(SciMessageDialog.templateText));let e=SciMessageDialog.template.content.cloneNode(!0),i=this.attachShadow({mode:"open"});i.append(e),this.__dlg=i.querySelector("sci-dialog"),this.__body=i.querySelector(".message-body")}get body(){return this.__body.innerHTML}set body(e){this.__body.innerHTML=e}get dlg(){return this.__dlg}get label(){return this.__dlg.label}set label(e){this.__dlg.label=e}}SciMessageDialog.__instance=null,SciMessageDialog.openModal=function(e,i=null){if(null===SciMessageDialog.__instance){document.body.insertAdjacentHTML("beforeend","<sci-message-dialog></sci-message-dialog>");let e=document.querySelectorAll("sci-message-dialog");SciMessageDialog.__instance=e[e.length-1]}let t=SciMessageDialog.__instance;return null===i&&(i="Информация"),t.label=i,t.body=e,t.dlg.openModal().catch((()=>{}))},SciMessageDialog.template=null,SciMessageDialog.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}p{margin:0;padding:0}\n</style>\n<sci-dialog><p class=message-body><div class=buttons-wrapper><sci-button type=submit name=submit label=OK></sci-button></div></sci-dialog>\n\n",customElements.define("sci-message-dialog",SciMessageDialog);
class SciQuestionDialog extends SciWidget{constructor(){super();let e=this;null===SciQuestionDialog.template&&(SciQuestionDialog.template=this._createTemplate(SciQuestionDialog.templateText));let o=SciQuestionDialog.template.content.cloneNode(!0),t=this.attachShadow({mode:"open"});t.append(o),this.__dlg=t.querySelector("sci-dialog"),this.__responseBox=t.querySelector("input"),this.__bodyBox=t.querySelector(".message-body"),this.__okBox=t.querySelector("[name=ok]"),this.__cancelBox=t.querySelector("[name=cancel]"),this.__okBox.addEventListener("click",(o=>{e.response="yes",e.dlg.submit()})),this.__cancelBox.addEventListener("click",(o=>{e.response="no",e.dlg.submit()}))}get body(){return this.__bodyBox.innerHTML}set body(e){this.__bodyBox.innerHTML=e}get cancelLabel(){return this.__cancelBox.label}set cancelLabel(e){this.__cancelBox.label=e}get dlg(){return this.__dlg}get okLabel(){return this.__okBox.label}set okLabel(e){this.__okBox.label=e}get response(){return this.__responseBox.value}set response(e){this.__responseBox.value=e}}SciQuestionDialog.__instance=null,SciQuestionDialog.openModal=function(e,o=null,t=null){if(null===o&&(o="Подтверждение"),null===t&&(t=["Да","Нет"]),null===SciQuestionDialog.__instance){document.body.insertAdjacentHTML("beforeend","<sci-question-dialog></sci-question-dialog>");let e=document.querySelectorAll("sci-question-dialog");SciQuestionDialog.__instance=e[e.length-1]}let i=SciQuestionDialog.__instance;i.dlg.label=o,i.body=e,i.okLabel=t[0],i.cancelLabel=t[1],i.dlg.openModal().then((e=>{if("yes"!==e.response)throw new TypeError("sci-question-dialog: the user said NO")}))},SciQuestionDialog.template=null,SciQuestionDialog.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}p{margin-top:0}\n</style>\n<sci-dialog><input type=hidden name=response value=yes><p class=message-body>Question body<div class=buttons-wrapper><sci-button type=blue name=ok></sci-button><sci-button type=blue name=cancel></sci-button></div></sci-dialog>\n\n",customElements.define("sci-question-dialog",SciQuestionDialog);
class SciErrorDialog extends SciWidget{constructor(){super();let e=this;null===SciErrorDialog.template&&(SciErrorDialog.template=this._createTemplate(SciErrorDialog.templateText));let t=this.attachShadow({mode:"open"}),i=SciErrorDialog.template.content.cloneNode(!0);t.append(i),this.__dlg=t.querySelector("sci-dialog"),this.__body=t.querySelector(".message-body"),this.__detail=t.querySelector(".message-detail"),this.__permanent=!1,this.__dlg.onSubmit=function(t){return e.permanent&&(location.href="/"),Promise.resolve()}}get body(){return this.__body.innerHTML}set body(e){null===e&&(e=""),this.__body.innerHTML=e}get detail(){return this.__detail.innerHTML}set detail(e){null===e&&(e=""),this.__detail.innerHTML=e;let t=this.__detail.classList;e&&!t.contains("on")&&t.add("on"),!e&&t.contains("on")&&t.remove("on")}get permanent(){return this.__permanent}set permanent(e){let t=!!e;this.__permanent=t,t?this.dlg.setAttribute("permanent",""):this.dlg.removeAttribute("permanent")}get dlg(){return this.__dlg}}SciErrorDialog.observedAttributes=["label"],SciErrorDialog.__instance=null,SciErrorDialog.openModal=function(e,t=null,i=null,o=!1){if(null===SciErrorDialog.__instance){document.body.insertAdjacentHTML("beforeend","<sci-error-dialog></sci-error-dialog>");let e=document.body.querySelectorAll("sci-error-dialog");SciErrorDialog.__instance=e[e.length-1]}let r=SciErrorDialog.__instance;return r.dlg.label=null===t?"Ошибка":t,r.body=e,r.detail=i,r.permanent=o,r.dlg.openModal().catch((()=>{}))},SciErrorDialog.template=null,SciErrorDialog.templateText="\n<style>:host{display:block;margin:10px 0;text-align:left}label{color:#1658da;display:block;margin-bottom:3px;line-height:16px}input{height:20px}:host([disabled]) label{color:#bac4d1}input:not([type=password]),textarea{font-family:'Futura PT','Helvetica Neue',Helvetica,Arial,serif;font-size:14px}.clearfix{display:block;clear:both}a:link,a:visited{color:#1658da}a:active,a:hover{color:#d2270b}.error-message{display:none;color:#eb4146}.error-message.on{display:block}:host(.position-left){display:inline-block}:host(.position-left) label{display:inline-block;margin-right:5px}:host(.position-left) label+*{display:inline-block;width:auto}:host .hamburger{border-bottom:1px solid #333;cursor:pointer;position:relative}:host([disabled]) .hamburger{border-bottom-color:#bac4d1;cursor:default}:host .hamburger .icon{float:right;margin-top:5px;margin-right:5px}:host([opened]) .hamburger .icon{transform:rotate(180deg)}:host([disabled]) .hamburger .icon{fill:#bac4d1}:host .hamburger .text{height:20px;line-height:20px}:host([disabled]) .hamburger .text{color:#bac4d1}:host .hamburger .content{display:none;position:absolute;border:1px solid #333;background:#fff;left:0;top:100%;right:0;cursor:default;box-shadow:0 10px 10px -5px #aaa;overflow:hidden;z-index:1}:host([opened]) .hamburger .content{display:block}:host([inline]) .hamburger{border-bottom:none}:host([inline]) .hamburger svg{display:none}:host([inline]) .hamburger .text{display:none}:host([inline]) .content{display:block;position:static;border:none;box-shadow:none}@media screen and (max-width:480px){:host .hamburger .text{height:25px;line-height:25px}:host .hamburger .icon{margin-top:8px;margin-right:8px}}.window-overlapper{display:none;position:fixed;vertical-align:middle;left:0;right:0;top:0;bottom:0;text-align:center;font-size:0;z-index:10}.window-overlapper.opened{display:block}.window-background{position:fixed;left:0;right:0;top:0;bottom:0;background:#000;opacity:.3;z-index:-1}.window-overlapper:before{content:'';display:inline-block;height:100%;vertical-align:middle}.window{display:inline-block;vertical-align:middle;background:#fff;text-align:left;font-size:14px}.buttons-wrapper{text-align:center;font-size:0}.row{font-size:0}.row>.col{display:inline-block;box-sizing:border-box;vertical-align:top;padding-left:5px;padding-right:5px;font-size:14px}.row>.col:first-child{padding-left:0}.row>.col:last-child{padding-right:0}.col-1-4{width:25%}.col-1-3{width:33.3333333333333%}.col-1-2{width:50%}.col-2-3{width:66.6666666666667%}.col-3-4{width:75%}@media screen and (max-width:540px){sci-dialog .buttons-wrapper sci-button{margin-right:0}}.message-body{margin-top:0;text-align:center}.message-detail{display:none;font-style:italic;text-align:center}.message-detail.on{display:block}\n</style>\n<sci-dialog important error><p class=message-body><p class=message-detail><div class=buttons-wrapper><sci-button type=submit name=submit label=OK class=sci-error></sci-button></div></sci-dialog>\n\n",customElements.define("sci-error-dialog",SciErrorDialog);
