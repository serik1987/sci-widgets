# sci-panel

Формирует стационарную понель, которую можно разворачивать и сворачивать, но не закрывать.

## Атрибуты

### compacted

Если этот атрибут проставлен, то панель находится в свёрнутом состоянии. Если нет - то в развёрнутом.

## Свойства

### compacted

Если свойство принимает значение true, то панель находится в свёрнутом состоянии. Если же оно принимает значение false,
то панель находится в развёрнутом состоянии.

### expanded

Если свойство принимает значение true, то панель находится в развёрнутом состоянии. Если же оно принимает значение
false - то в свёрнутом.

### onReset

Функция которая запускается, когда пользователь сбрасывает данные формы.

Пользователь может сбросить данные формы двумя различными способами:
* кликнув по элементу, который обладает классом reset;
* кликнув по элементу, у которого атрибут name принимает значение reset.
  Обратите внимание, что нажатие на кнопку (элемент sci-button), у которого свойство type принимает значение, равное
  reset, не приводит к должному эффекту.

Если свойство onReset принимает значение, равное null, то в поля формы вставляются все значения, которые были указаны
в самом последнем присвоении значения свойству value. Если же свойства onReset принимает значение, являющееся функцией,
то эта функция запускается. Она не принимает аргументов.

Данная функция должна возвращать промис, который и будет заниматься поиском значения по-умолчанию. В случае успешного
завершения такого поиска промис должен разрешаться объектом со значениями по-умолчанию. Тогда эти значения будут
вставлены в формы.

В случае, если сброс значений не увенчался успехом, промис должен отвергаться. При отвергании промиса данные формы
не сбрасываются.

### onSubmit

Функция, которая выполняется, когда пользователь отправляет данные формы на рассмотрение.

Пользователь может отправить данные на рассмотрение двумя различеными способами:
* кликнуть по элементу, который обладает классом submit;
* кликнуть по элементу, у которого значением свойства name является submit.
  Обратите внимание, что нажатие на кнопку (элемент sci-button), у которого свойство type принимает значение, равное
  submit, по-умолчанию не приводит к отправке данных формы на рассмотрение.

Если свойство onSubmit принимает значение, равное null, то ничего не происходит. Однако если значением этого свойтсва
является функция, то происходит запуск этой самой функции. В качестве аргумента принимается значение свойства value.

Данная функция возвращает промис, который и должен запускать работу с данными, их отправку на сервер и получение
результата.

В случае успешного завершения обработки данных на сервере промис должен разрешаться "обновлёнными" данными. Именно эти
данные и будут переданы в форму.

В случае, если данные не могут быть обработаны из-за ошибки на сервере, ошибки в сети, либо некорректно введённых
пользователем параметов, то промис должен отвергаться, возвращая при этом объект с нужными сообщениями об ошибке.
Например, так:
```
{
    "email": "Пользователь с данным e-mail уже существует",
    "birth_date": "Вход только лицам от 18 лет",
    "is_personal_data_sent": "Вы не согласились на обработку персональных данных"
}
```
Название каждого свойства объекта, которым отвергается промис - это значение свойства name соответствующего элемента-
потомка формы, а значение этого свойства - это значение, которое будет присвоено его свойству errorMessage. Обратите
внимание, что это свойство работает далеко не у всех элементов. Кроме этого, Вы не обязаны перечислять все элементы.
Если Вы уже вывели сообщение об ошибке, и не хотите, чтобы эта форма выводила какие-либо дополнительные сообщения, то
просто отвергните промис пустым объектом.

### value

Возвращает значение формы. Значением формы является объект, содержащий значения всех элементов формы, у которых
проставлен атрибут name. Каждое значение такого элемента отражено ровно в одном свойстве подобного объекта. Название
этого свойства соответствует значению атрибута name, а значение этого свойства - значению свойства value этого элемента.

Если хотя бы один из дочерних элементов при попытке прочитать значение свойства value сгенерировал TypeError
(это может произойти, если соответствующее значение было неверно введено пользователем), то обращение к этому свойству
также приведёт к генерации исключения типа TypeError. Тем не менее, перед подобной генерацией значение свойства value
будет считываться у всех дочерних элементов, поэтому пользователь получит полную информацию о проблемах, связанных
с заполнением формы. Обратите внимание, что Вам будет возвращена копия объекта, поэтому изменение свойство этого
значения не будет иметь эффекта.

Этому свойству можно также присвоить значение в виде объекта. В этом случае все элементы, у которых проставлен атрибут
name, получат значения, соответствующие значению соответствующего свойства. Например, следующий код:

```
form.getElement("surname").value = "Иванов";
form.getElement("name").value = "Иван";
form.getElement("middle_name").value = "Иванович";
```

можно записать проще:

```
form.value = {surname: "Иванов", name: "Иван", "middle_name": "Иванович"};
```

Обратите внимание, что если у элемента не определено свойство value (например, таким элементом может быть sci-button),
либо это свойство принимает значение, равное undefined, то этот элемент игнорируется даже, если Вы пропишете ему
атрибут name.

## Методы

### compact()

Сворачивает панель

### getElement(name)

Возвращает элемент с именем name

### getElements()

Возвращает список всех элементов, у которых определено свойство name

### expand()

Разворачивает панель

### reset()

Возвращает промис, который осуществляет сбрасывание значений формы. См. описание свойства onReset для понимания того,
как сбрасываются значения формы.

В случае успешного сброса значений промис разрешается значением true, а в случае неудачного - false.

### submit()

Возвращает промис, который отправляет данные формы на рассмотрение. См. описание свойства onSubmit для понимания того,
как данные формы отправляются на рассмотрение.

Промис разрешается значением true если данные формы рассмотрены и false - если нет.

## События

### sci-submit

Данное событие возникает при отправке пользователем данных на рассмотрение

### sci-panel-compact

Данное событие возникает, когда пользователь сворачивает панель

### sci-panel-expand

Данное событие возникает, когда пользователь разворачивает панель

### sci-reset

Данное событие возникает при сбросе информации пользователем