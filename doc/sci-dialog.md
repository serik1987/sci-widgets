# sci-dialog

Отображает диалоговое окно.

Диалоговое окно отличается от формы тем, что диалоговое окно по-умолчанию не видно. Оно отображается при вызове
метода open(), а также закрывается при вызове метода close(). Пользователь может также закрыть окно, нажав на
кнопку с крестиком в правом верхнем его углу.

Для корректной работы диалога Вам надо не только его прописать, но ещё и в обязательном порядке задать
свойства onSubmit и onReset. Если Вы не зададите эти свойства, то диалоговое окно работать будет, но некорректно.

## Атрибуты

### permanent

Если этот атрибут проставлен, то у диалогового окна не будет рисоваться кнопка "Закрыть"

### size

Задаёт ширину окна на десктопных устройствах. Принимает следующие значения:
* "tiny" - 250 пикселей;
* "small" - 500 пикселей;
* "large" - 1000 пикселей.
Ширина окна на мобильных устройствах будет подстроена под ширину экрана Вашего мобильного устройства.

## Свойства

### form

Возвращает форму, лежащую внутри самого диалога. Не используйте это свойство для того, чтобы добавить в диалог
дочерние элементы.

### isModal

Возвращает true, если данное окно было открыто в качестве модального и false в противном случае. Если окно было
открыто в качестве модального, Вы не сможете запустить функцию openModal.

### isTooTall

Возврщает true, если для отображения диалога необходимо использовать полосы прокрутки и false в противном случае.

### onReset

Данное свойство представляет собой функцию, которая определяет значения виджетов по-умолчанию. Такие значения,
в частности, выставляются при открытии окна, при его закрытии путём нажатия крестика, а также при нажатии на
элементы, у которых атрибут name принимает значение reset, либо у которых присутствует класс reset.

Функция не принимает никаких аргументов. Она должна возвращать промис, который и осуществляет получение информации
о полях формы по-умолчанию. В случае успешного получения информации о значениях полей по-умолчанию промис должен
разрешаться положительно. Значение, которым должен разрешаться промис, будет являться объект, со значениями по-умолчанию,
например:

```
{
    surname: "",
    first_name: "",
    middle_name: "",
    email: "@ihna.ru"
}
```

После разрешения промиса компонент будет искать элемент, значение свойства "name" которого совпадает с "surname",
после чего внесет туда пустую строку, и так далее. В любом случае после разрешения промиса компонент будет проходиться
по каждому свойству объекта, которым разрешается промис, далее он будет искать дочерний элемент, значение свойства
name которого совпадает с именем свойства, после чего присваивать свойству value этого элемента значение такого свойства.

В случае, если получение информации о полях по-умолчанию по каким-то причинам не удалось, промис должен отвергаться.
При отвергании промиса фактически блокируются кнопка закрытия диалога, а открытие диалога становится невозможным.
Выбрасывания каких-либо исключений не происходит.

### onSubmit

Дублирует свойство onSubmit для sci-form с той лишь разницей, что при разрешении промиса окно закрывается.
Окно не закрывается, если промис отвергнут.

## Методы

### getElement()

Дублирует метод getElement() у sci-form

### getElements()

Дублирует метод getElements() у sci-form

### close()

Закрывае окно и сбрасывает поля формы.

### open()

Открывает окно и сбрасывает поля формы.

### openModal(data = null)

Открывает диалоговое окно и возвращает промис, который разрешается, либо отвергается только тогда, когда пользователь
закрывает окно, либо принимая форму на рассмотрение, либо её отвергая.

В качестве аргумента принимаются данные, которые вставляются в поля формы сразу же после открытия. Если Вы решите
использовать значение по-умолчанию null. то будут вставлены исключительно данные по-умолчанию.

В случае, если пользоваль отправляет данные формы на рассмотрение, и вызывается функция onSubmit, то после успешного
разрешения промиса onSubmit диалоговое окно сначала закрывается, после чего производится разрешение промиса, который
вернула функция openModal, причём промис разрешается ответом от сервера.

Если пользователь нажал на кнопку "закрыть" и перезагрузил данные формы, то после успешного разрешения промиса,
возвращённого функцией onReset, промис, возвращённый функцией openModal также отвергается исключением типа TypeError.

### reset()

Перезагружает данные формы, применяя функцию onReset, после чего закрывает окно. Возвращает промис. В случае
успешного сброса данных формы промис разрешается значением true. В случае ошибки - значением false.

### submit()

Возвращает промис, который отправляет данные формы на рассмотрение, а в случае успешного получения ответа
закрывает окно и разрешает промис значением true. В случае неудачного ответа промис разрешается значением false.

### updateHeight()

Меняет высоту окна так, чтобы оно подстроилось под высоту экрана. При загрузке Web-страницы, изменении размеров
окна браузера, при отображении и скрытии диалогового окна, а также при обращении к свойству value этот метод вызывается
автоматически. Тем не менее, в некоторых случаях (например, Вы меняете количество виджетов) его придётся вызвать
вручную.

## События

### sci-modal

Данное событие генерируется после того, когда диалоговое окно открывается в результате выполнения функции openModal.

### sci-submit

Данное событие возникает при отправке пользователем данных на рассмотрение

### sci-reset

Данное событие возникает при сбросе информации пользователем