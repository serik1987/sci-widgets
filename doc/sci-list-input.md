# sci-list-input

Представляет собой поле ввода, в котором пользователь должен перечислить те или иные элементы через запятую.
После того, когда пользователь закончит ввод данного конкретного элемента и нажмёт клавишу "запятая",
элемент, название которого совпадает с введённой пользователем подстрокой, добавится в конец списка.

Элементы списка можно переставлять местами.

Для редактирования элемента списка необходимо нажать на кнопку с карандашом. Для удаления элемента из списка достаточно
нажать на крестик. Клавиша Backspace также удаляет элемент списка.

Каждый элемент списка имеет название sci-list-input-item и должен располагаться внутри элемента sci-list-input.
Помимо этого внутри элемента sci-list-input должен располагаться элемент sci-dialog. у которого атрибут slot
принимает значение, равное edit-dialog. Примерное расположение элементов друг относительно друга выглядит вот так:

```
<sci-list-input label="Список авторов">
    <sci-list-input-item label="Бугрова В.С. (Bugrova V.S.)"></sci-list-input-item>
    <sci-list-input-item label="Бондарь И.В. (Bondar I.V.)" selected></sci-list-input-item>
    <sci-list-input-item label="Иванов ИИ (Ivanov I.I.)" error></sci-list-input-item>
    <sci-dialog slot="add-dialog" label="Добавить автора"></sci-dialog
    <sci-dialog slot="edit-dialog" label="Редактировать автора">
      <p>Hello, World!</p>
    </sci-dialog>
</sci-list-input>
```

## Атрибуты

## Свойства

### editBox

Возвращает диалоговое окно редактирования формы

### elements

Динамический список всех элементов данного списка.

### firstElement

Возвращает первый элемент списка

### isAddOnBlur

Функция, которая возвращает true, если необходимо добавить соавтора в том случае

### lastElement

Возвращает последний элемент списка

### onItemAdd

Данная функция запускается тогда, когда пользователь оканчивает ввод элемента списка, либо набирая запятую,
либо нажимая на клавишу Enter.

Функция отвечает за преобразование строки в элемент списка, введённый пользователем. Это означает, что в качестве
аргумента она принимает строку, введённую пользователем, а в качестве результата возвращает промис. В случае успешного
преобразование введённой пользователем строки в элемент списка промис должен разрешаться значением свойства value
данного элемента списка.

Если преобразование строки в элемент списка по каким-то причинам невозможно, то промис должен отвергаться сообщением
об ошибке, где чётко раскрывается, почему подобное преобразование невозможно. Если промис разрешается значением false,
то считается, что пользователь отменил добавление автора. В этом случае 

Если данное свойство принимает значение, равное null, то введённое пользователем значение преобразуется вот в такой
объект:

```
{
    name: "my_name"
}
```

### onLivesearch

Данная функция вызывается всякий раз, как только пользователь запускает процедуру живого поиска. Она принимает в
качестве аргумента введённую пользователем строку и всегда возвращает промис, который должен обратиться к серверу
и принять список необходимых значений для подстановки.

Если список подобных значений удалось получить от сервера, то промис должен разрешаться этим списком. Это должен быть
массив вида:

```
[
    {
        value: { ... },
        html: "<p>value 1</p>"
    },
    {
        value: { ... },
        html: "<p>value 2</p>"
    }
]
```

Каждый элемент списка - это объект со свойствами value и html. Свойство value представляет собой значение свойства
value того элемента списка, который и предлагается добавить.. Значение свойства html - это HTML-код того элемента,
который будет выведен ниже (пользователь сможет выбрать этот элемент и нажать на него, либо нажать на клавишу Enter,
чтобы добавить соответствующее значение).

Если процедура живого поиска по каким-то причинам не может быть произведена, то у Вас есть два варианта:
1) Разрешить промис значением undefined. Тогда никакого выпадающего меню не будет, виджет будет работать в режиме
обычного поля ввода, и пользователь никогда не увидит выпадающего списка.
2) Отвергнуть промис сообщением, которое и будет выведено пользователю в случае ошибки.

### updateItem

Когда элемент создаётся при помощи функции appendItem, то его свойству updateValue присваивается тоже самое значение,
что и updateItem.

### value

Содержит в себе массив, каждый элемент которого представляет собой значение свойства value элемента в списке.

## Методы

### addUserItem()

Преобразует значение, введённое пользователем, в элемент списка.

Данный метод запускается автоматически, как только пользователь набрал запятую, нажал Enter, либо поле со списком
сотрудников потеряло фокус. Однако, если Вы считаете, что в данном конкретном случае метод не запустился, Вы можете

### appendItem(value)

Добавляет элемент под конец списка и присваивает ему значение value.

### deleteItem(item)

Удаляет элемент из списка. В качестве аргумента принимается объект класса

### editItem(item)

Редактирует элемент в списке

### updateSize()

Обновляет взаимное расположение элементов друг относительно друга. Вызывайте этот метод всякий раз, как только вы
изменяете дочерние элементы непосредственно, минуя методы appendItem и removeItem.

## События

### sci-add-item

Данное событие генерируется после того, когда пользователь добавил элемент, либо Вы вызвали функцию appendItem.
Добавленный элемент размещается в деталях этого события.

### sci-delete-item

Данное событие генерируется после того, когда пользователь удалил элемент, либо Вы вызвали функцию deleteItem.
Удалённый элемент размещается в деталях события.

