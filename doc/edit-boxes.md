# Поля ввода

Данная секция описывает различные поля ввода

## Типы полей ввода

В вашу форму Вы можете вставить следующие поля ввода:

1. Обычное поле ввода, которое позволяет вводить текст в одну строку

```
<sci-input label="Имя" value="Сергей" position="left" type="text" />
```

Для подключения подобного поля ввода необходимо вписать:

```
<script src="sci-widgets/edit-boxes/sci-input.js async defer></script>
```

2 Многострочное поле ввода:

```
<sci-textarea label="Описание" value="Дефолтное описание" position="top"/>
```

Для подключения такого поля надо ввести:

```
<script src="sci-widgets/edit-boxes/sci-textarea.js async defer></script>
```


Для того, чтобы все три вышеперечисленных файла работали, пожалуйста, вставьте
следующие строчки

```
<link rel="stylesheet" href="sci-widgets/common-styles.css">
<script src="sci-widgets/sci-widget.js" async defer></script>
<script src="sci-widgets/constants.js async defer></script>
<script src="sci-widgets/edit-boxes/sci-editor.js" async defer></script>
```

## Атрибуты

### align (необязательный атрибут)

Принимает одно из следующих значений:

* left - выровнять текст по левому краю
* center - выровнять текста по центру
* right - выровнять текста по правому краю

### autocomplete [только для sci-input] (необязательный атрибут)

'off', если автоматическое заполнение этого поля браузером запрещено
on', если автоматическое заполнение этого поля браузером разрешено
Если этот атрибут не задан, то автоматическое заполнение формы браузером разрешено

### autosave [Только для sci-input; значение атрибута type - только 'search'] (необязательный атрибут)

Атрибут определен как уникальное значение. Если такой атрибут определен, то при вводе
пользователем подстроки для поиска будут отображаться те подстроки для поиска, которые
пользователь вводил и ранее.

### dimension [только для sci-input] (необязательный атрибут)

Принимает одно из определенных значений, указанных в файле constants.md данный элемент
проверяет, соответствует ли введенная пользователем величина размерности, указанной в этом
поле. Результат подобного сопоставления следующий:
* если пользователь ввёл нечисловое значение, а атрибут dimension установлен, то то введенное
пользователем значение трактуется как некорректное, и при попытке его использовать программа
выводит исключение TypeError;
* если атрибут 'dimension' принимает пустое значение, то принимается любое числовое значение,
введенное пользователем. При этом единица после этого самого числа может как стоять, так и
отсутствовать. При этом если после введенного пользователем числового значения стоит название
единицы измерения, то программа автоматически переводит значение из единиц измерения, указанных
пользователем, в единицы измерения по-умолчанию.
* если атрибут 'dimension' принимает одно из значений, перечисленных в файле constants.md, то
валидными значениями являются только те числовые значения, у которых после указания числа стоит
нужная единица измерения, соответствующая указанной в этом поле размерности. Если значение
валидно, оно переводится из единиц, указанных пользователем, в единицы по-умолчанию. Если же
оно невалидно, то пользователю выводится сообщение об ошибке, а попытка прочитать введенное
пользователем значение оканчивается генерированием ошибки типа TypeError.
  
Если в качестве type установлено integer, positive-integer, nonnegative-integer, то значение
атрибута dimension полностью игнорируется
  
#### Пример использования свойства dimension

```
<input label="Login"/>
```

Принимается любое значение, прошедшее через валидатор

```
<input label="treat-number" dimension/>
```

Принимаются любые вещественные числа: как безразмерные, так и с определенной единицей измерения

```
<input label="Stimulus duration" dimension="time" />
```

Принимаются только значения, после которых указаны единицы времени: 's', 'ms', 'us', ns', min',
'hour'.


### disabled (необязательный атрибут)

Если этот атрибут выставлен, то поле ввода считается неактивным

### height [только для sci-textarea] (необязательноый атрибут)

Задает общую ширину виджета в пикселях

### inputmode [Только для sci-input] (необязательный атрибут)

Какие клавиши на браузерной клавиатуре необходимо отображать?

* verbatim: Alphanumeric, non-prose content such as usernames and passwords.
* latin: Latin-script input in the user's preferred language with typing aids such as text prediction enabled. For human-to-computer communication such as search boxes.
* latin-name: As latin, but for human names.
* latin-prose: As latin, but with more aggressive typing aids. For human-to-human communication such as instant messaging for email.
* full-width-latin: As latin-prose, but for the user's secondary languages.
* kana: Kana or romaji input, typically hiragana input, using full-width characters, with support for converting to kanji. Intended for Japanese text input.
* katakana: Katakana input, using full-width characters, with support for converting to kanji. Intended for Japanese text input.

Данный атрибут не работает, если в поле type задано 'tel', 'email', url', 'integer', 'positive-integer',
'nonnegative-integer', либо если установлен атрибут 'dimension'.

### label

Задает название метки (синего текста, который отображается вместе с полем ввода)

### maxlength (необязательный атрибут)

Максимальная длина поля ввода

### minlength (необязательный атрибут)

Минимальная длина поля ввода). В случае поля sci-input данный атрибут не работает, если в 'type' указано 'integer',
либо 'positive-integer', либо 'nonnegative-integer', а также если задано свойство dimension.

### placeholder (необязательный атрибут)

Плейсхолдер (подсказка, которая вставляется в поле ввода тогда, когда пользователь не ввёл какого-либо значения)

### position (необязательный атрибут)

Задает положение метки относительно поля ввода. Принимает всего два значения:
'left' - метка расположена слева от поля ввода
'top' - метка расположена сверху от поля ввода

Повторное изменение данного атрибута не будет иметь значение

### readonly (необязательный атрибут)

Если этот атрибут присутствует, то пользователь не может изменять значение поля
для редактирования.

### tabindex (необязательный атрибут, унаследован от SciWidget)

* если представлено отрицательное значение – элемент может быть выделен, однако не участвует
  в последовательной навигации;
* если представлен 0 – элемент может быть выделен и достигнут с помощью последовательной навигации,
  однако порядок навигации определён платформой;
* если представлено положительное целое значение – элемент будет достигнут (и выделен) с помощью
  последовательной навигации, а порядок навигации определён этим самым значением. В случае, если
  несколько элементов содержат одно и то же значение tabindex, их порядок навигации определён относительным
  расположением в документе (DOM).

### type [Только для sci-input] (по-умолчанию 'text')

Тип поля ввода. Может принимать одно из следующих значений:

* 'integer' - текст, допускающий любое целое число (если будет введено значение, отличное от целого,
будет сгенерирована ошибка TypeError)
* 'positive-integer' - текст, допускающий любое положительное целое число (если будет введено значение,

которое от него отличается, это приведен к формированию ошибки TypeError)
* 'nonnegative-integer' - любое неотрицательное целое число (если будет введено значение,
которое от него отличается, то это приведет к формированию ошибки TypeError)
* 'text' - обычный текст или число
* 'email' - e-mail
* 'number' - безразмерное вещественное число (если Вы хотите, чтобы можно и нужно было вводить размерность, то
  не используйте этот тип, используйте 'text' вместо него)
* 'password' - пароль (введенные символы заменяются звездочками)
* 'search' - подстрока для поиска
* 'url' - адрес в Интернете

### value (необязательный атрибут)

Задает значение данного поля по-умолчанию. Повторное изменение атрибута не в HTML-коде не будет
иметь эффекта. Используйте свойство value

### width (необязательный атрибут)

Ширина поля ввода в пикселях. Если значение этого атрибута не указано, то ширина рассчитывается, исходя
из таблицы стилей

## Свойства

### align

Позволяет задавать значение атрибута align

### autocomplete [только для sci-input]

Если свойство принимает значение true, то автозаполнение средствами браузера разрешено.
Если свойство принимает значение false, то автозаполнение средствами браузера не производится.

### defaultValue (только чтение)

возвращает значение атрибута value

### dimension [только для sci-input]

Служит для задания атрибута dimension.
* Если атрибут 'dimension' не используется, то значение свойства равно false
* Если атрибут 'dimension' используется, но его значение не задано, то значение свойства равно true
* Если атрибут 'dimension' используется, но его значение соответствует той или иной размерности, то
данное свойство возвращает значение, соответствующее этой самой размерности.

### disabled

Если значение свойства равно true, то поле считается неактивным.

### enabled

Если значение свойства равно true, то поле ввода считается активным.

### errorMessage

Сообщение об ошибке, которое выводится под полем ввода, либо "", null или undefined,
если сообщение об ошибке, выводимое под полем ввода необходимо убрать.

Кроме этого, сообщение автоматически убирается, как только Вы прочитали значение свойства value.

### inputmode [только для sci-input]

Служит для установки значения атрибута inputmode

### height [для sci-input - только чтение, для sci-textarea - чтение и запись]

устанавливает / возвращает значение атрибута height

### label

Позволяет менять название метки

### maxlength

Максимальная длина поля ввода

### placeholder

Позволяет управлять значением плейсхолдера.

### rawValue

Возвращает значение в том виде, в котором оно было получено пользователем, без каких-либо
преобразований.

### readonly

Если значение этого свойства равно true, то изменение поля ввода пользователем запрещено.
Если значение этого свойства равно false, то изменение этого поля разрешено.

### selectionStart

Положение начала выделенного текста. Если выделение отсутствует, то данный элемент соответствует
текущему положению курсора

### selectionString

При чтении данный атрибут возвращает строку для поиска. При записи происходит замена выделенной
подстроки на присваиваемую

### selectionEnd

Положение конца выделяемого текста

### tabIndex (унаследовано от SciWidget)

* если представлено отрицательное значение – элемент может быть выделен, однако не участвует
в последовательной навигации;
* если представлен 0 – элемент может быть выделен и достигнут с помощью последовательной навигации, 
однако порядок навигации определён платформой;
* если представлено положительное целое значение – элемент будет достигнут (и выделен) с помощью
последовательной навигации, а порядок навигации определён этим самым значением. В случае, если
несколько элементов содержат одно и то же значение tabindex, их порядок навигации определён относительным
расположением в документе (DOM).

### value

Задает текущее значение поля. введенное пользователем. При попытке чтения этого поля
происходит следующее:
1. Введенное значение последовательно проходит через все валидаторы. Если хотя-бы один валидатор
не принял введённое значение, то генерируется исключение типа TypeError,
а пользователь получает подробное описание ошибки в строке снизу. В противном случае
осуществляется переход к пункту 2.
2. Если значение введено в <sci-textarea>, либо в <sci-html>, то введенное значение
присваивается свойству value, в противном случае переход к пункту 3. 
3. Если после прохождения через все чекеры введенное значение может быть преобразовано в
число, то value возвращает это самое число. В противном случае осуществляется переход к 
   пункту 4.
4. Если данные представляют собой число, после которого слелдуют определенные единицы измерения,
то строка после этих единиц измерения преобразуется в число, после чего данное число 
реобразуется из пользовательских единиц в единицы по-умолчанию. Список всех единиц измерения
   приведен в файле constants.md
5. Если установлен атрибут 'dimension', однако заданные пользователем единицы не соответствуют
значению этого атрибута, то выводится сообщение об ошибке, а также генерируется исключение
   TypeError.
6. Если атрибут dimension установлен в пустую строку, однако введенные пользователем данные
не являются числом, то выводится сообщение об ошибке, а также генерируется исключение типа
   TypeError.
7. Если действия 1-6 привели к преобразованию введенного результата в число, то оно пропускается
через все числовые валидаторы.
8. Если действия 1-7 не привели к генерации исключения TypeError, то возвращается
преобразованное значение.
   
Этому свойству можно присвоить значение являющееся либо числом, либо строкой. В любом
случае число или строка вставляются в поле ввода без каких-либо изменений.

### units [только для sci-input, только чтение]

Название единиц, введенных пользователемЮ либо nullЮ если пользователь не указал единицы измерения

## Методы

### addChecker(func) [только для sci-input]

Добавляет чекер к полю вводаю Чекер представляет собой функцию func(oldValue, newValue),
которая запускается каждый раз, когда пользователь меняет введенное значение. Если эта функция
возвращает true, то новое значение вводится в поле ввода. Если же оно возвоащает false, то 
значение, введенное пользователем, заменяется на значение, введенное в прошлый момент времени.

Возвращает индекс того или иного чекера, который Вы можете использовать в функции removeChecker.

### addNumberValidator(condition, message) [только для sci-input]

Добавляет числовой валидатор. Если значением того или иного поля является число, то это число
дополнительно подставляется в качестве единственного аргумента функции condition. Если функция
condition возвращает true, то число становится значением свойства value. В противном случае
пользователь получает сообщение message, а сам виджет генерирует исключение InputValueIncorrectError.

Возвращает ID числового валидатора, который можно использовать в качестве аргумента для
функции removeNumberValidator(id)

### addValidator(condition, message) [только для sci-input]

Добавляет валидатор. Валидатор применяется при попытке чтения свойства value (см. пункт 2).

condition - либо функция. принимающая аргумент value; она должна возвращать либо true, если
валидатор принимает введенное значение, либо false, если он его не принимает? либо регулярное выражение:
если введенное значение соответствует этому самому выражению, то валидатор принимает введенное значение,
в противном случае - нет. В качестве регулярного выражения Вы также можете использовать константы
SciInput.REQUIRED

message - сообщение, которое будет отображено под полем ввода в случае, если валидатор не
пример введенное значение.

Возващает индекс данного валидатора.

### blur()

Убирает фокус от элемента

### click()

Имитирует щелчок по полю ввода

### disable()

Делает поле ввода неактивным. В неактивное поле ввода нельзя вводить значения.

### enable()

Делает поле ввода активным. В активное поле ввода пользователь может вводить значения.

### focus()

Имитирует наведение фокуса на элемент

### removeChecker(index) [только для sci-input]

Удаляет чекер

index - значение, которое Вам вернул метод addChecker

### removeNumberValidator(index) [только для sci-input]

Удаляет числовой валидатор.

index - значение, которое Вам вернул числовой валидатор.

### removeValidator(index) [только для sci-input]

Удаляет валидатор

index - значение, которое Вам вернул метод addValidator

### select() [только для sci-input]

Выделяет весь текст в элементе, после чего наводит на этот элемент фокус

### setSelectionRange(start, end)

Выделяет кусок текста в документе, но не наводит на него курсор

## Статические константы

SciEditor.REQUIRED - валидатор, который пропускает любые непустые строки

SciEditor.EMAIL - валидатор, который пропускает любые E-mail'ы

SciEditor.PHONE - валидатор, который пропускает любые номера телефонов